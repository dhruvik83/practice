import{$ as U,$a as om,$b as dt,A as xd,Aa as ie,Ab as y,Ac as Dm,B as Bg,Ba as Xn,Bb as j,Bc as Im,C as yt,Ca as Q,Cb as Ee,Cc as No,D as rt,Da as Fd,Db as Re,Dc as Mm,E as Ed,Ea as qg,Eb as Pe,Ec as Fm,F as Si,Fa as Kr,Fb as ue,Fc as le,G as _n,Ga as Yg,Gb as Lo,Gc as Tm,H as Ea,Ha as St,Hb as G,Hc as Zr,I as Rd,Ia as ht,Ib as S,Ic as km,J as Rt,Ja as qr,Jb as Ae,Jc as Pm,K as zg,Ka as Td,Kb as fe,Kc as eo,L as jr,La as ko,Lb as Ve,Lc as La,M as xn,Ma as Po,Mb as be,Mc as ut,N as En,Na as Qg,Nb as ne,Nc as Wi,O as Dd,Oa as Zg,Ob as oe,Oc as Zt,P as Gg,Pa as Xg,Pb as hm,Pc as ji,Q as Wg,Qa as Jg,Qb as pm,Qc as Mt,R as jg,Ra as em,Rb as It,Rc as Se,S as Id,Sa as tm,Sb as z,Sc as Am,T as Ra,Ta as im,Tb as je,Tc as In,U as _i,Ua as Yt,Ub as Be,Uc as Xr,V as at,Va as nm,Vb as gm,Vc as Om,W as Ie,Wa as Yr,Wb as mm,Wc as Na,X as Ug,Xa as f,Xb as fm,Y as $e,Ya as v,Yb as vm,Z as Ge,Za as Ao,Zb as we,Zc as an,_ as lt,_a as Dt,_b as Y,_c as Xt,a as E,aa as J,ab as rm,ac as qe,ad as bt,b as ce,ba as $g,bb as Oo,bc as ai,bd as Vo,c as ya,ca as $,cb as Ri,cc as Ta,cd as Bt,d as Sn,da as Md,db as Ct,dc as Cm,dd as Od,e as et,ea as k,eb as Ma,ec as bm,ed as Lm,f as Vg,fa as L,fb as kd,fc as wm,fd as Ld,g as Kt,ga as To,gb as pt,gc as ym,gd as Nm,h as yd,ha as Ur,hb as sm,hc as Dn,i as Gr,ia as $r,ib as ge,ic as ka,j as K,ja as W,jb as ve,jc as Pa,k as Ze,ka as ee,kb as am,kc as Ad,l as Sa,la as q,lb as Pd,lc as Qr,m as Sd,ma as Rn,mb as I,mc as sn,n as Bi,na as Kg,nb as Fa,nc as Sm,o as vt,oa as xi,ob as Qt,oc as Aa,p as ae,pa as si,pb as V,pc as _m,q as zi,qa as We,qb as b,qc as Te,r as Zn,ra as M,rb as rn,rc as Jn,s as Hg,sa as F,sb as me,sc as xm,t as he,ta as Ke,tb as xe,tc as Em,u as Gi,ua as Da,ub as lm,uc as Rm,v as qt,va as Me,vb as Le,vc as O,w as _d,wa as Ei,wb as cm,wc as Ne,x as _a,xa as ct,xb as dm,xc as li,y as Wr,ya as Ia,yb as um,yc as Di,z as xa,za as _,zb as w,zc as Oa}from"./chunk-LCZ5ZWEB.js";var es=class{},ts=class{},Jt=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let o=i.slice(0,n),r=o.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(o,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let o=(t.op==="a"?this.headers.get(i):void 0)||[];o.push(...n),this.headers.set(i,o);break;case"d":let r=t.value;if(!r)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(r=>r.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var Vd=class{encodeKey(t){return Vm(t)}encodeValue(t){return Vm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Yy(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,r)),t.decodeValue(o.slice(r+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var Qy=/%(\d[a-f0-9])/gi,Zy={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vm(e){return encodeURIComponent(e).replace(Qy,(t,i)=>Zy[i]??t)}function Va(e){return`${e}`}var Fn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Vd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Yy(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let n=t.fromObject[i],o=Array.isArray(n)?n.map(Va):[Va(n)];this.map.set(i,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(n=>{let o=t[n];Array.isArray(o)?o.forEach(r=>{i.push({param:n,value:r,op:"a"})}):i.push({param:n,value:o,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(Va(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],o=n.indexOf(Va(t.value));o!==-1&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Hd=class{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Xy(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Hm(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Bm(e){return typeof Blob<"u"&&e instanceof Blob}function zm(e){return typeof FormData<"u"&&e instanceof FormData}function Jy(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Jr=class e{constructor(t,i,n,o){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let r;if(Xy(this.method)||o?(this.body=n!==void 0?n:null,r=o):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new Jt,this.context??=new Hd,!this.params)this.params=new Fn,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Hm(this.body)||Bm(this.body)||zm(this.body)||Jy(this.body)?this.body:this.body instanceof Fn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zm(this.body)?null:Bm(this.body)?this.body.type||null:Hm(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Fn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,r=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),d)),new e(i,n,s,{params:d,headers:c,context:u,reportProgress:l,responseType:o,withCredentials:a,transferCache:r})}},Tn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Tn||{}),is=class{constructor(t,i=200,n="OK"){this.headers=t.headers||new Jt,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ba=class e extends is{constructor(t={}){super(t),this.type=Tn.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},to=class e extends is{constructor(t={}){super(t),this.type=Tn.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Mn=class extends is{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Xm=200,eS=204;function Nd(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var io=(()=>{let t=class t{constructor(n){this.handler=n}request(n,o,r={}){let s;if(n instanceof Jr)s=n;else{let c;r.headers instanceof Jt?c=r.headers:c=new Jt(r.headers);let d;r.params&&(r.params instanceof Fn?d=r.params:d=new Fn({fromObject:r.params})),s=new Jr(n,o,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let a=ae(s).pipe(_n(c=>this.handler.handle(c)));if(n instanceof Jr||r.observe==="events")return a;let l=a.pipe(rt(c=>c instanceof to));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(he(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(he(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(he(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(he(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:new Fn().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,r={}){return this.request("PATCH",n,Nd(r,o))}post(n,o,r={}){return this.request("POST",n,Nd(r,o))}put(n,o,r={}){return this.request("PUT",n,Nd(r,o))}};t.\u0275fac=function(o){return new(o||t)(k(es))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),tS=/^\)\]\}',?\n/,iS="X-Request-URL";function Gm(e){if(e.url)return e.url;let t=iS.toLocaleLowerCase();return e.headers.get(t)}var Bd=(()=>{let t=class t{constructor(){this.fetchImpl=L(zd,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=L(ie)}handle(n){return new Kt(o=>{let r=new AbortController;return this.doRequest(n,r.signal,o).then(Gd,s=>o.error(new Mn({error:s}))),()=>r.abort()})}doRequest(n,o,r){return Sn(this,null,function*(){let s=this.createRequestInit(n),a;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,E({signal:o},s)));nS(g),r.next({type:Tn.Sent}),a=yield g}catch(g){r.error(new Mn({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}));return}let l=new Jt(a.headers),c=a.statusText,d=Gm(a)??n.urlWithParams,u=a.status,h=null;if(n.reportProgress&&r.next(new Ba({headers:l,status:u,statusText:c,url:d})),a.body){let g=a.headers.get("content-length"),C=[],m=a.body.getReader(),x=0,R,D,N=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Sn(this,null,function*(){for(;;){let{done:X,value:te}=yield m.read();if(X)break;if(C.push(te),x+=te.length,n.reportProgress){D=n.responseType==="text"?(D??"")+(R??=new TextDecoder).decode(te,{stream:!0}):void 0;let de=()=>r.next({type:Tn.DownloadProgress,total:g?+g:void 0,loaded:x,partialText:D});N?N.run(de):de()}}}));let re=this.concatChunks(C,x);try{let X=a.headers.get("Content-Type")??"";h=this.parseBody(n,re,X)}catch(X){r.error(new Mn({error:X,headers:new Jt(a.headers),status:a.status,statusText:a.statusText,url:Gm(a)??n.urlWithParams}));return}}u===0&&(u=h?Xm:0),u>=200&&u<300?(r.next(new to({body:h,headers:l,status:u,statusText:c,url:d})),r.complete()):r.error(new Mn({error:h,headers:l,status:u,statusText:c,url:d}))})}parseBody(n,o,r){switch(n.responseType){case"json":let s=new TextDecoder().decode(o).replace(tS,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(o);case"blob":return new Blob([o],{type:r});case"arraybuffer":return o.buffer}}createRequestInit(n){let o={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((s,a)=>o[s]=a.join(",")),n.headers.has("Accept")||(o.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(o["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:o,credentials:r}}concatChunks(n,o){let r=new Uint8Array(o),s=0;for(let a of n)r.set(a,s),s+=a.length;return r}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),zd=class{};function Gd(){}function nS(e){e.then(Gd,Gd)}function oS(e,t){return t(e)}function rS(e,t,i){return(n,o)=>si(i,()=>t(n,r=>e(r,o)))}var Jm=new $(""),ef=new $(""),sS=new $("",{providedIn:"root",factory:()=>!0});var Wm=(()=>{let t=class t extends es{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=L(Ia),this.contributeToStability=L(sS)}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Jm),...this.injector.get(ef,[])]));this.chain=o.reduceRight((r,s)=>rS(r,s,this.injector),oS)}if(this.contributeToStability){let o=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(xn(()=>this.pendingTasks.remove(o)))}else return this.chain(n,o=>this.backend.handle(o))}};t.\u0275fac=function(o){return new(o||t)(k(ts),k(xi))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();var aS=/^\)\]\}',?\n/;function lS(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var jm=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Ge(-2800,!1);let o=this.xhrFactory;return(o.\u0275loadImpl?vt(o.\u0275loadImpl()):ae(null)).pipe(at(()=>new Kt(s=>{let a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((m,x)=>a.setRequestHeader(m,x.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let m=n.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(n.responseType){let m=n.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let l=n.serializeBody(),c=null,d=()=>{if(c!==null)return c;let m=a.statusText||"OK",x=new Jt(a.getAllResponseHeaders()),R=lS(a)||n.url;return c=new Ba({headers:x,status:a.status,statusText:m,url:R}),c},u=()=>{let{headers:m,status:x,statusText:R,url:D}=d(),N=null;x!==eS&&(N=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=N?Xm:0);let re=x>=200&&x<300;if(n.responseType==="json"&&typeof N=="string"){let X=N;N=N.replace(aS,"");try{N=N!==""?JSON.parse(N):null}catch(te){N=X,re&&(re=!1,N={error:te,text:N})}}re?(s.next(new to({body:N,headers:m,status:x,statusText:R,url:D||void 0})),s.complete()):s.error(new Mn({error:N,headers:m,status:x,statusText:R,url:D||void 0}))},h=m=>{let{url:x}=d(),R=new Mn({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});s.error(R)},p=!1,g=m=>{p||(s.next(d()),p=!0);let x={type:Tn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(x.total=m.total),n.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),s.next(x)},C=m=>{let x={type:Tn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(x.total=m.total),s.next(x)};return a.addEventListener("load",u),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",g),l!==null&&a.upload&&a.upload.addEventListener("progress",C)),a.send(l),s.next({type:Tn.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",u),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",g),l!==null&&a.upload&&a.upload.removeEventListener("progress",C)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(o){return new(o||t)(k(Na))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),tf=new $(""),cS="XSRF-TOKEN",dS=new $("",{providedIn:"root",factory:()=>cS}),uS="X-XSRF-TOKEN",hS=new $("",{providedIn:"root",factory:()=>uS}),za=class{},pS=(()=>{let t=class t{constructor(n,o,r){this.doc=n,this.platform=o,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=La(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(o){return new(o||t)(k(le),k(St),k(dS))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function gS(e,t){let i=e.url.toLowerCase();if(!L(tf)||e.method==="GET"||e.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return t(e);let n=L(za).getToken(),o=L(hS);return n!=null&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var nf=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(nf||{});function mS(e,t){return{\u0275kind:e,\u0275providers:t}}function of(...e){let t=[io,jm,Wm,{provide:es,useExisting:Wm},{provide:ts,useFactory:()=>L(Bd,{optional:!0})??L(jm)},{provide:Jm,useValue:gS,multi:!0},{provide:tf,useValue:!0},{provide:za,useClass:pS}];for(let i of e)t.push(...i.\u0275providers);return Rn(t)}function rf(){return mS(nf.Fetch,[Bd,{provide:ts,useExisting:Bd}])}var fS=new $(""),Um="b",$m="h",Km="s",qm="st",Ym="u",Qm="rt",Ha=new $(""),vS=["GET","HEAD"];function CS(e,t){let p=L(Ha),{isCacheActive:i}=p,n=ya(p,["isCacheActive"]),{transferCache:o,method:r}=e;if(!i||o===!1||r==="POST"&&!n.includePostRequests&&!o||r!=="POST"&&!vS.includes(r)||!n.includeRequestsWithAuthHeaders&&bS(e)||n.filter?.(e)===!1)return t(e);let s=L(Td),a=L(fS,{optional:!0}),l=Xr(L(St));if(a&&!l)throw new Ge(2803,!1);let c=l&&a?_S(e.url,a):e.url,d=yS(e,c),u=s.get(d,null),h=n.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(h=o.includeHeaders),u){let{[Um]:g,[Qm]:C,[$m]:m,[Km]:x,[qm]:R,[Ym]:D}=u,N=g;switch(C){case"arraybuffer":N=new TextEncoder().encode(g).buffer;break;case"blob":N=new Blob([g]);break}let re=new Jt(m);return ae(new to({body:N,headers:re,status:x,statusText:R,url:D}))}return t(e).pipe($e(g=>{g instanceof to&&l&&s.set(d,{[Um]:g.body,[$m]:wS(g.headers,h),[Km]:g.status,[qm]:g.statusText,[Ym]:c,[Qm]:e.responseType})}))}function bS(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function wS(e,t){if(!t)return{};let i={};for(let n of t){let o=e.getAll(n);o!==null&&(i[n]=o)}return i}function Zm(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function yS(e,t){let{params:i,method:n,responseType:o}=e,r=Zm(i),s=e.serializeBody();s instanceof URLSearchParams?s=Zm(s):typeof s!="string"&&(s="");let a=[n,o,t,s,r].join("|"),l=SS(a);return l}function SS(e){let t=0;for(let i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function sf(e){return[{provide:Ha,useFactory:()=>(Ma("NgHttpTransferCache"),E({isCacheActive:!0},e))},{provide:ef,useValue:CS,multi:!0,deps:[Td,Ha]},{provide:Qr,multi:!0,useFactory:()=>{let t=L(sn),i=L(Ha);return()=>{Sm(t).then(()=>{i.isCacheActive=!1})}}}]}function _S(e,t){let i=new URL(e,"resolve://").origin,n=t[i];return n?e.replace(i,n):e}var $d=class extends Fm{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kd=class e extends $d{static makeCurrent(){Mm(new e)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.remove()}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=ES();return i==null?null:RS(i)}resetBaseElement(){ns=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return La(document.cookie,t)}},ns=null;function ES(){return ns=ns||document.querySelector("base"),ns?ns.getAttribute("href"):null}function RS(e){return new URL(e,document.baseURI).pathname}var DS=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Ga=new $(""),cf=(()=>{let t=class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,r){return this._findPluginFor(o).addEventListener(n,o,r)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Ge(5101,!1);return this._eventNameToPlugin.set(n,o),o}};t.\u0275fac=function(o){return new(o||t)(k(Ga),k(ie))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),os=class{constructor(t){this._doc=t}},jd="ng-app-id",df=(()=>{let t=class t{constructor(n,o,r,s={}){this.doc=n,this.appId=o,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xr(s),this.resetHostNodes()}addStyles(n){for(let o of n)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(n){for(let o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){let o=this.styleRef;o.get(n)?.elements?.forEach(r=>r.remove()),o.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${jd}="${this.appId}"]`);if(n?.length){let o=new Map;return n.forEach(r=>{r.textContent!=null&&o.set(r.textContent,r)}),o}return null}changeUsageCount(n,o){let r=this.styleRef;if(r.has(n)){let s=r.get(n);return s.usage+=o,s.usage}return r.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){let r=this.styleNodesInDOM,s=r?.get(o);if(s?.parentNode===n)return r.delete(o),s.removeAttribute(jd),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(jd,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){let r=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(r):s.set(o,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(o){return new(o||t)(k(le),k(Kr),k(qr,8),k(St))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Ud={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zd=/%COMP%/g,uf="%COMP%",IS=`_nghost-${uf}`,MS=`_ngcontent-${uf}`,FS=!0,TS=new $("",{providedIn:"root",factory:()=>FS});function kS(e){return MS.replace(Zd,e)}function PS(e){return IS.replace(Zd,e)}function hf(e,t){return t.map(i=>i.replace(Zd,e))}var Wa=(()=>{let t=class t{constructor(n,o,r,s,a,l,c,d=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Xr(l),this.defaultRenderer=new rs(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===$r.ShadowDom&&(o=ce(E({},o),{encapsulation:$r.Emulated}));let r=this.getOrCreateRenderer(n,o);return r instanceof ja?r.applyToHost(n):r instanceof ss&&r.applyStyles(),r}getOrCreateRenderer(n,o){let r=this.rendererByCompId,s=r.get(o.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(o.encapsulation){case $r.Emulated:s=new ja(c,d,o,this.appId,u,a,l,h);break;case $r.ShadowDom:return new qd(c,d,n,o,a,l,this.nonce,h);default:s=new ss(c,d,o,u,a,l,h);break}r.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(o){return new(o||t)(k(cf),k(df),k(Kr),k(TS),k(le),k(St),k(ie),k(qr))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),rs=class{constructor(t,i,n,o){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Ud[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(af(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(af(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){i.remove()}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new Ge(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,o){if(o){i=o+":"+i;let r=Ud[o];r?t.setAttributeNS(r,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let o=Ud[n];o?t.removeAttributeNS(o,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,o){o&(Yr.DashCase|Yr.Important)?t.style.setProperty(i,n,o&Yr.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&Yr.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n){if(typeof t=="string"&&(t=No().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function af(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var qd=class extends rs{constructor(t,i,n,o,r,s,a,l){super(t,r,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=hf(o.id,o.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(null,i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ss=class extends rs{constructor(t,i,n,o,r,s,a,l){super(t,r,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=o,this.styles=l?hf(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ja=class extends ss{constructor(t,i,n,o,r,s,a,l){let c=o+"-"+n.id;super(t,i,n,r,s,a,l,c),this.contentAttr=kS(c),this.hostAttr=PS(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},AS=(()=>{let t=class t extends os{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r){return n.addEventListener(o,r,!1),()=>this.removeEventListener(n,o,r)}removeEventListener(n,o,r){return n.removeEventListener(o,r)}};t.\u0275fac=function(o){return new(o||t)(k(le))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),OS=(()=>{let t=class t extends os{constructor(n){super(n),this.delegate=L(Em,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,o,r){return this.delegate.addEventListener(n,o,r)}removeEventListener(n,o,r){return this.delegate.removeEventListener(n,o,r)}};t.\u0275fac=function(o){return new(o||t)(k(le))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),lf=["alt","control","meta","shift"],LS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},VS=(()=>{let t=class t extends os{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,o,r){let s=t.parseEventName(o),a=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>No().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let o=n.toLowerCase().split("."),r=o.shift();if(o.length===0||!(r==="keydown"||r==="keyup"))return null;let s=t._normalizeKey(o.pop()),a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),lf.forEach(d=>{let u=o.indexOf(d);u>-1&&(o.splice(u,1),a+=d+".")}),a+=s,o.length!=0||s.length===0)return null;let c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let r=LS[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(r=n.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),lf.forEach(a=>{if(a!==r){let l=NS[a];l(n)&&(s+=a+".")}}),s+=r,s===o)}static eventCallback(n,o,r){return s=>{t.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>o(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(o){return new(o||t)(k(le))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function pf(e,t){return xm(E({rootComponent:e},HS(t)))}function HS(e){return{appProviders:[...jS,...e?.providers??[]],platformProviders:WS}}function BS(){Kd.makeCurrent()}function zS(){return new Xn}function GS(){return qg(document),document}var WS=[{provide:St,useValue:Am},{provide:Yg,useValue:BS,multi:!0},{provide:le,useFactory:GS,deps:[]}];var jS=[{provide:Kg,useValue:"root"},{provide:Xn,useFactory:zS,deps:[]},{provide:Ga,useClass:AS,multi:!0,deps:[le,ie,St]},{provide:Ga,useClass:VS,multi:!0,deps:[le]},{provide:Ga,useClass:OS,multi:!0},Wa,df,cf,{provide:Oo,useExisting:Wa},{provide:Na,useClass:DS,deps:[]},[]];var gf=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(o){return new(o||t)(k(le))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Xd=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:function(o){let r=null;return o?r=new(o||t):r=k(US),r},providedIn:"root"});let e=t;return e})(),US=(()=>{let t=class t extends Xd{constructor(n){super(),this._doc=n}sanitize(n,o){if(o==null)return null;switch(n){case Yt.NONE:return o;case Yt.HTML:return Po(o,"HTML")?ko(o):im(this._doc,String(o)).toString();case Yt.STYLE:return Po(o,"Style")?ko(o):o;case Yt.SCRIPT:if(Po(o,"Script"))return ko(o);throw new Ge(5200,!1);case Yt.URL:return Po(o,"URL")?ko(o):tm(String(o));case Yt.RESOURCE_URL:if(Po(o,"ResourceURL"))return ko(o);throw new Ge(5201,!1);default:throw new Ge(5202,!1)}}bypassSecurityTrustHtml(n){return Qg(n)}bypassSecurityTrustStyle(n){return Zg(n)}bypassSecurityTrustScript(n){return Xg(n)}bypassSecurityTrustUrl(n){return Jg(n)}bypassSecurityTrustResourceUrl(n){return em(n)}};t.\u0275fac=function(o){return new(o||t)(k(le))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Yd=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e}(Yd||{});function mf(...e){let t=[],i=new Set,n=i.has(Yd.HttpTransferCacheOptions);for(let{\u0275providers:o,\u0275kind:r}of e)i.add(r),o.length&&t.push(o);return Rn([[],Rm(),i.has(Yd.NoHttpTransferCache)||n?[]:sf({}),t])}var _e="primary",ys=Symbol("RouteTitle"),nu=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function jo(e){return new nu(e)}function $S(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let o={};for(let r=0;r<n.length;r++){let s=n[r],a=e[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function KS(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Ui(e[i],t[i]))return!1;return!0}function Ui(e,t){let i=e?ou(e):void 0,n=t?ou(t):void 0;if(!i||!n||i.length!=n.length)return!1;let o;for(let r=0;r<i.length;r++)if(o=i[r],!Df(e[o],t[o]))return!1;return!0}function ou(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Df(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((o,r)=>n[r]===o)}else return e===t}function If(e){return e.length>0?e[e.length-1]:null}function An(e){return Zn(e)?e:Pa(e)?vt(Promise.resolve(e)):ae(e)}var qS={exact:Ff,subset:Tf},Mf={exact:YS,subset:QS,ignored:()=>!0};function vf(e,t,i){return qS[i.paths](e.root,t.root,i.matrixParams)&&Mf[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function YS(e,t){return Ui(e,t)}function Ff(e,t,i){if(!oo(e.segments,t.segments)||!Ka(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!Ff(e.children[n],t.children[n],i))return!1;return!0}function QS(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>Df(e[i],t[i]))}function Tf(e,t,i){return kf(e,t,t.segments,i)}function kf(e,t,i,n){if(e.segments.length>i.length){let o=e.segments.slice(0,i.length);return!(!oo(o,i)||t.hasChildren()||!Ka(o,i,n))}else if(e.segments.length===i.length){if(!oo(e.segments,i)||!Ka(e.segments,i,n))return!1;for(let o in t.children)if(!e.children[o]||!Tf(e.children[o],t.children[o],n))return!1;return!0}else{let o=i.slice(0,e.segments.length),r=i.slice(e.segments.length);return!oo(e.segments,o)||!Ka(e.segments,o,n)||!e.children[_e]?!1:kf(e.children[_e],t,r,n)}}function Ka(e,t,i){return t.every((n,o)=>Mf[i](e[o].parameters,n.parameters))}var cn=class{constructor(t=new Ue([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=jo(this.queryParams),this._queryParamMap}toString(){return JS.serialize(this)}},Ue=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qa(this)}},no=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=jo(this.parameters),this._parameterMap}toString(){return Af(this)}};function ZS(e,t){return oo(e,t)&&e.every((i,n)=>Ui(i.parameters,t[n].parameters))}function oo(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function XS(e,t){let i=[];return Object.entries(e.children).forEach(([n,o])=>{n===_e&&(i=i.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==_e&&(i=i.concat(t(o,n)))}),i}var Ss=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:()=>new Uo,providedIn:"root"});let e=t;return e})(),Uo=class{parse(t){let i=new su(t);return new cn(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${as(t.root,!0)}`,n=i_(t.queryParams),o=typeof t.fragment=="string"?`#${e_(t.fragment)}`:"";return`${i}${n}${o}`}},JS=new Uo;function qa(e){return e.segments.map(t=>Af(t)).join("/")}function as(e,t){if(!e.hasChildren())return qa(e);if(t){let i=e.children[_e]?as(e.children[_e],!1):"",n=[];return Object.entries(e.children).forEach(([o,r])=>{o!==_e&&n.push(`${o}:${as(r,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=XS(e,(n,o)=>o===_e?[as(e.children[_e],!1)]:[`${o}:${as(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[_e]!=null?`${qa(e)}/${i[0]}`:`${qa(e)}/(${i.join("//")})`}}function Pf(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ua(e){return Pf(e).replace(/%3B/gi,";")}function e_(e){return encodeURI(e)}function ru(e){return Pf(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ya(e){return decodeURIComponent(e)}function Cf(e){return Ya(e.replace(/\+/g,"%20"))}function Af(e){return`${ru(e.path)}${t_(e.parameters)}`}function t_(e){return Object.entries(e).map(([t,i])=>`;${ru(t)}=${ru(i)}`).join("")}function i_(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(o=>`${Ua(i)}=${Ua(o)}`).join("&"):`${Ua(i)}=${Ua(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var n_=/^[^\/()?;#]+/;function Jd(e){let t=e.match(n_);return t?t[0]:""}var o_=/^[^\/()?;=#]+/;function r_(e){let t=e.match(o_);return t?t[0]:""}var s_=/^[^=?&#]+/;function a_(e){let t=e.match(s_);return t?t[0]:""}var l_=/^[^&#]+/;function c_(e){let t=e.match(l_);return t?t[0]:""}var su=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[_e]=new Ue(t,i)),n}parseSegment(){let t=Jd(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ge(4009,!1);return this.capture(t),new no(Ya(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=r_(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=Jd(this.remaining);o&&(n=o,this.capture(n))}t[Ya(i)]=Ya(n)}parseQueryParam(t){let i=a_(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=c_(this.remaining);s&&(n=s,this.capture(n))}let o=Cf(i),r=Cf(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(r)}else t[o]=r}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Jd(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new Ge(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=_e);let s=this.parseChildren();i[r]=Object.keys(s).length===1?s[_e]:new Ue([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ge(4011,!1)}};function Of(e){return e.segments.length>0?new Ue([],{[_e]:e}):e}function Lf(e){let t={};for(let[n,o]of Object.entries(e.children)){let r=Lf(o);if(n===_e&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))t[s]=a;else(r.segments.length>0||r.hasChildren())&&(t[n]=r)}let i=new Ue(e.segments,t);return d_(i)}function d_(e){if(e.numberOfChildren===1&&e.children[_e]){let t=e.children[_e];return new Ue(e.segments.concat(t.segments),t.children)}return e}function ro(e){return e instanceof cn}function u_(e,t,i=null,n=null){let o=Nf(e);return Vf(o,t,i,n)}function Nf(e){let t;function i(r){let s={};for(let l of r.children){let c=i(l);s[l.outlet]=c}let a=new Ue(r.url,s);return r===e&&(t=a),a}let n=i(e.root),o=Of(n);return t??o}function Vf(e,t,i,n){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return eu(o,o,o,i,n);let r=h_(t);if(r.toRoot())return eu(o,o,new Ue([],{}),i,n);let s=p_(r,o,e),a=s.processChildren?ds(s.segmentGroup,s.index,r.commands):Bf(s.segmentGroup,s.index,r.commands);return eu(o,s.segmentGroup,a,i,n)}function Qa(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ps(e){return typeof e=="object"&&e!=null&&e.outlets}function eu(e,t,i,n,o){let r={};n&&Object.entries(n).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;e===t?s=i:s=Hf(e,t,i);let a=Of(Lf(s));return new cn(a,r,o)}function Hf(e,t,i){let n={};return Object.entries(e.children).forEach(([o,r])=>{r===t?n[o]=i:n[o]=Hf(r,t,i)}),new Ue(e.segments,n)}var Za=class{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&Qa(n[0]))throw new Ge(4003,!1);let o=n.find(ps);if(o&&o!==If(n))throw new Ge(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function h_(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Za(!0,0,e);let t=0,i=!1,n=e.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new Za(i,t,n)}var zo=class{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function p_(e,t,i){if(e.isAbsolute)return new zo(t,!0,0);if(!i)return new zo(t,!1,NaN);if(i.parent===null)return new zo(i,!0,0);let n=Qa(e.commands[0])?0:1,o=i.segments.length-1+n;return g_(i,o,e.numberOfDoubleDots)}function g_(e,t,i){let n=e,o=t,r=i;for(;r>o;){if(r-=o,n=n.parent,!n)throw new Ge(4005,!1);o=n.segments.length}return new zo(n,!1,o-r)}function m_(e){return ps(e[0])?e[0].outlets:{[_e]:e}}function Bf(e,t,i){if(e??=new Ue([],{}),e.segments.length===0&&e.hasChildren())return ds(e,t,i);let n=f_(e,t,i),o=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let r=new Ue(e.segments.slice(0,n.pathIndex),{});return r.children[_e]=new Ue(e.segments.slice(n.pathIndex),e.children),ds(r,0,o)}else return n.match&&o.length===0?new Ue(e.segments,{}):n.match&&!e.hasChildren()?au(e,t,i):n.match?ds(e,0,o):au(e,t,i)}function ds(e,t,i){if(i.length===0)return new Ue(e.segments,{});{let n=m_(i),o={};if(Object.keys(n).some(r=>r!==_e)&&e.children[_e]&&e.numberOfChildren===1&&e.children[_e].segments.length===0){let r=ds(e.children[_e],t,i);return new Ue(e.segments,r.children)}return Object.entries(n).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=Bf(e.children[r],t,s))}),Object.entries(e.children).forEach(([r,s])=>{n[r]===void 0&&(o[r]=s)}),new Ue(e.segments,o)}}function f_(e,t,i){let n=0,o=t,r={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=i.length)return r;let s=e.segments[o],a=i[n];if(ps(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!wf(l,c,s))return r;n+=2}else{if(!wf(l,{},s))return r;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function au(e,t,i){let n=e.segments.slice(0,t),o=0;for(;o<i.length;){let r=i[o];if(ps(r)){let l=v_(r.outlets);return new Ue(n,l)}if(o===0&&Qa(i[0])){let l=e.segments[t];n.push(new no(l.path,bf(i[0]))),o++;continue}let s=ps(r)?r.outlets[_e]:`${r}`,a=o<i.length-1?i[o+1]:null;s&&a&&Qa(a)?(n.push(new no(s,bf(a))),o+=2):(n.push(new no(s,{})),o++)}return new Ue(n,{})}function v_(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=au(new Ue([],{}),0,n))}),t}function bf(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function wf(e,t,i){return e==i.path&&Ui(t,i.parameters)}var us="imperative",gt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(gt||{}),ci=class{constructor(t,i){this.id=t,this.url=i}},$o=class extends ci{constructor(t,i,n="imperative",o=null){super(t,i),this.type=gt.NavigationStart,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$i=class extends ci{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=gt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ti=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ti||{}),Xa=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Xa||{}),ln=class extends ci{constructor(t,i,n,o){super(t,i),this.reason=n,this.code=o,this.type=gt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kn=class extends ci{constructor(t,i,n,o){super(t,i),this.reason=n,this.code=o,this.type=gt.NavigationSkipped}},gs=class extends ci{constructor(t,i,n,o){super(t,i),this.error=n,this.target=o,this.type=gt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ja=class extends ci{constructor(t,i,n,o){super(t,i),this.urlAfterRedirects=n,this.state=o,this.type=gt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lu=class extends ci{constructor(t,i,n,o){super(t,i),this.urlAfterRedirects=n,this.state=o,this.type=gt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cu=class extends ci{constructor(t,i,n,o,r){super(t,i),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=r,this.type=gt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},du=class extends ci{constructor(t,i,n,o){super(t,i),this.urlAfterRedirects=n,this.state=o,this.type=gt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uu=class extends ci{constructor(t,i,n,o){super(t,i),this.urlAfterRedirects=n,this.state=o,this.type=gt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hu=class{constructor(t){this.route=t,this.type=gt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pu=class{constructor(t){this.route=t,this.type=gt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gu=class{constructor(t){this.snapshot=t,this.type=gt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mu=class{constructor(t){this.snapshot=t,this.type=gt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fu=class{constructor(t){this.snapshot=t,this.type=gt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vu=class{constructor(t){this.snapshot=t,this.type=gt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},el=class{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=gt.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ms=class{},Ko=class{constructor(t,i){this.url=t,this.navigationBehaviorOptions=i}};function C_(e,t){return e.providers&&!e._injector&&(e._injector=Pd(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Mi(e){return e.outlet||_e}function b_(e,t){let i=e.filter(n=>Mi(n)===t);return i.push(...e.filter(n=>Mi(n)!==t)),i}function _s(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var Cu=class{get injector(){return _s(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new xs(this.rootInjector),this.attachRef=null}},xs=(()=>{let t=class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,o){let r=this.getOrCreateContext(n);r.outlet=o,this.contexts.set(n,r)}onChildOutletDestroyed(n){let o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new Cu(this.rootInjector),this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(o){return new(o||t)(k(xi))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),tl=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=bu(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=bu(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=wu(t,this._root);return i.length<2?[]:i[i.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return wu(t,this._root).map(i=>i.value)}};function bu(e,t){if(e===t.value)return t;for(let i of t.children){let n=bu(e,i);if(n)return n}return null}function wu(e,t){if(e===t.value)return[t];for(let i of t.children){let n=wu(e,i);if(n.length)return n.unshift(t),n}return[]}var ei=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function Bo(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var il=class extends tl{constructor(t,i){super(t),this.snapshot=i,Mu(this,t)}toString(){return this.snapshot.toString()}};function zf(e){let t=w_(e),i=new Ze([new no("",{})]),n=new Ze({}),o=new Ze({}),r=new Ze({}),s=new Ze(""),a=new Pn(i,n,r,s,o,_e,e,t.root);return a.snapshot=t.root,new il(new ei(a,[]),t)}function w_(e){let t={},i={},n={},o="",r=new Go([],t,n,o,i,_e,e,null,{});return new ol("",new ei(r,[]))}var Pn=class{constructor(t,i,n,o,r,s,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(he(c=>c[ys]))??ae(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(t=>jo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(t=>jo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nl(e,t,i="emptyOnly"){let n,{routeConfig:o}=e;return t!==null&&(i==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:E(E({},t.params),e.params),data:E(E({},t.data),e.data),resolve:E(E(E(E({},e.data),t.data),o?.data),e._resolvedData)}:n={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},o&&Wf(o)&&(n.resolve[ys]=o.title),n}var Go=class{get title(){return this.data?.[ys]}constructor(t,i,n,o,r,s,a,l,c){this.url=t,this.params=i,this.queryParams=n,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=jo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=jo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},ol=class extends tl{constructor(t,i){super(i),this.url=t,Mu(this,i)}toString(){return Gf(this._root)}};function Mu(e,t){t.value._routerState=e,t.children.forEach(i=>Mu(e,i))}function Gf(e){let t=e.children.length>0?` { ${e.children.map(Gf).join(", ")} } `:"";return`${e.value}${t}`}function tu(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Ui(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),Ui(t.params,i.params)||e.paramsSubject.next(i.params),KS(t.url,i.url)||e.urlSubject.next(i.url),Ui(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function yu(e,t){let i=Ui(e.params,t.params)&&ZS(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||yu(e.parent,t.parent))}function Wf(e){return typeof e.title=="string"||e.title===null}var Fu=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=_e,this.activateEvents=new _,this.deactivateEvents=new _,this.attachEvents=new _,this.detachEvents=new _,this.parentContexts=L(xs),this.location=L(Ct),this.changeDetector=L(Te),this.inputBinder=L(ll,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:o,previousValue:r}=n.name;if(o)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ge(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ge(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ge(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Ge(4013,!1);this._activatedRoute=n;let r=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Su(n,l,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[We]});let e=t;return e})(),Su=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===Pn?this.route:t===xs?this.childContexts:this.parent.get(t,i)}},ll=new $(""),yf=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:o}=n,r=Gi([o.queryParams,o.params,o.data]).pipe(at(([s,a,l],c)=>(l=E(E(E({},s),a),l),c===0?ae(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||o.component===null){this.unsubscribeFromRouteData(n);return}let a=Im(o.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function y_(e,t,i){let n=fs(e,t._root,i?i._root:void 0);return new il(n,t)}function fs(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let o=S_(e,t,i);return new ei(n,o)}else{if(e.shouldAttach(t.value)){let r=e.retrieve(t.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>fs(e,a)),s}}let n=__(t.value),o=t.children.map(r=>fs(e,r));return new ei(n,o)}}function S_(e,t,i){return t.children.map(n=>{for(let o of i.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return fs(e,n,o);return fs(e,n)})}function __(e){return new Pn(new Ze(e.url),new Ze(e.params),new Ze(e.queryParams),new Ze(e.fragment),new Ze(e.data),e.outlet,e.component,e)}var vs=class{constructor(t,i){this.redirectTo=t,this.navigationBehaviorOptions=i}},jf="ngNavigationCancelingError";function rl(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=ro(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Uf(!1,ti.Redirect);return o.url=i,o.navigationBehaviorOptions=n,o}function Uf(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[jf]=!0,i.cancellationCode=t,i}function x_(e){return $f(e)&&ro(e.url)}function $f(e){return!!e&&e[jf]}var E_=(e,t,i,n)=>he(o=>(new _u(t,o.targetRouterState,o.currentRouterState,i,n).activate(e),o)),_u=class{constructor(t,i,n,o,r){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=r}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),tu(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let o=Bo(i);t.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],n),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(t,i,n){let o=t.value,r=i?i.value:null;if(o===r)if(o.component){let s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,n);else r&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),o=n&&t.value.component?n.children:i,r=Bo(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),o=n&&t.value.component?n.children:i,r=Bo(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let o=Bo(i);t.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],n),this.forwardEvent(new vu(r.value.snapshot))}),t.children.length&&this.forwardEvent(new mu(t.value.snapshot))}activateRoutes(t,i,n){let o=t.value,r=i?i.value:null;if(tu(o),o===r)if(o.component){let s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,n);else if(o.component){let s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tu(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},sl=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Wo=class{constructor(t,i){this.component=t,this.route=i}};function R_(e,t,i){let n=e._root,o=t?t._root:null;return ls(n,o,i,[n.value])}function D_(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Yo(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!$g(e)?e:t.get(e):n}function ls(e,t,i,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=Bo(t);return e.children.forEach(s=>{I_(s,r[s.value.outlet],i,n.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>hs(a,i.getContext(s),o)),o}function I_(e,t,i,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=e.value,s=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let l=M_(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new sl(n)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?ls(e,t,a?a.children:null,n,o):ls(e,t,i,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Wo(a.outlet.component,s))}else s&&hs(t,a,o),o.canActivateChecks.push(new sl(n)),r.component?ls(e,null,a?a.children:null,n,o):ls(e,null,i,n,o);return o}function M_(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!oo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!oo(e.url,t.url)||!Ui(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yu(e,t)||!Ui(e.queryParams,t.queryParams);case"paramsChange":default:return!yu(e,t)}}function hs(e,t,i){let n=Bo(e),o=e.value;Object.entries(n).forEach(([r,s])=>{o.component?t?hs(s,t.children.getContext(r),i):hs(s,null,i):hs(s,t,i)}),o.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Wo(t.outlet.component,o)):i.canDeactivateChecks.push(new Wo(null,o)):i.canDeactivateChecks.push(new Wo(null,o))}function Es(e){return typeof e=="function"}function F_(e){return typeof e=="boolean"}function T_(e){return e&&Es(e.canLoad)}function k_(e){return e&&Es(e.canActivate)}function P_(e){return e&&Es(e.canActivateChild)}function A_(e){return e&&Es(e.canDeactivate)}function O_(e){return e&&Es(e.canMatch)}function Kf(e){return e instanceof Hg||e?.name==="EmptyError"}var $a=Symbol("INITIAL_VALUE");function qo(){return at(e=>Gi(e.map(t=>t.pipe(Rt(1),_i($a)))).pipe(he(t=>{for(let i of t)if(i!==!0){if(i===$a)return $a;if(i===!1||L_(i))return i}return!0}),rt(t=>t!==$a),Rt(1)))}function L_(e){return ro(e)||e instanceof vs}function N_(e,t){return qt(i=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=i;return s.length===0&&r.length===0?ae(ce(E({},i),{guardsResult:!0})):V_(s,n,o,e).pipe(qt(a=>a&&F_(a)?H_(n,r,e,t):ae(a)),he(a=>ce(E({},i),{guardsResult:a})))})}function V_(e,t,i,n){return vt(e).pipe(qt(o=>j_(o.component,o.route,i,t,n)),En(o=>o!==!0,!0))}function H_(e,t,i,n){return vt(t).pipe(_n(o=>_a(z_(o.route.parent,n),B_(o.route,n),W_(e,o.path,i),G_(e,o.route,i))),En(o=>o!==!0,!0))}function B_(e,t){return e!==null&&t&&t(new fu(e)),ae(!0)}function z_(e,t){return e!==null&&t&&t(new gu(e)),ae(!0)}function G_(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return ae(!0);let o=n.map(r=>Wr(()=>{let s=_s(t)??i,a=Yo(r,s),l=k_(a)?a.canActivate(t,e):si(s,()=>a(t,e));return An(l).pipe(En())}));return ae(o).pipe(qo())}function W_(e,t,i){let n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(s=>D_(s)).filter(s=>s!==null).map(s=>Wr(()=>{let a=s.guards.map(l=>{let c=_s(s.node)??i,d=Yo(l,c),u=P_(d)?d.canActivateChild(n,e):si(c,()=>d(n,e));return An(u).pipe(En())});return ae(a).pipe(qo())}));return ae(r).pipe(qo())}function j_(e,t,i,n,o){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return ae(!0);let s=r.map(a=>{let l=_s(t)??o,c=Yo(a,l),d=A_(c)?c.canDeactivate(e,t,i,n):si(l,()=>c(e,t,i,n));return An(d).pipe(En())});return ae(s).pipe(qo())}function U_(e,t,i,n){let o=t.canLoad;if(o===void 0||o.length===0)return ae(!0);let r=o.map(s=>{let a=Yo(s,e),l=T_(a)?a.canLoad(t,i):si(e,()=>a(t,i));return An(l)});return ae(r).pipe(qo(),qf(n))}function qf(e){return Vg($e(t=>{if(typeof t!="boolean")throw rl(e,t)}),he(t=>t===!0))}function $_(e,t,i,n){let o=t.canMatch;if(!o||o.length===0)return ae(!0);let r=o.map(s=>{let a=Yo(s,e),l=O_(a)?a.canMatch(t,i):si(e,()=>a(t,i));return An(l)});return ae(r).pipe(qo(),qf(n))}var Cs=class{constructor(t){this.segmentGroup=t||null}},bs=class extends Error{constructor(t){super(),this.urlTree=t}};function Ho(e){return zi(new Cs(e))}function K_(e){return zi(new Ge(4e3,!1))}function q_(e){return zi(Uf(!1,ti.GuardRejected))}var xu=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],o=i.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return ae(n);if(o.numberOfChildren>1||!o.children[_e])return K_(`${t.redirectTo}`);o=o.children[_e]}}applyRedirectCommands(t,i,n,o,r){if(typeof i!="string"){let a=i,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:p,data:g,title:C}=o,m=si(r,()=>a({params:p,data:g,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:C}));if(m instanceof cn)throw new bs(m);i=m}let s=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i[0]==="/")throw new bs(s);return s}applyRedirectCreateUrlTree(t,i,n,o){let r=this.createSegmentGroup(t,i.root,n,o);return new cn(r,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);n[o]=i[a]}else n[o]=r}),n}createSegmentGroup(t,i,n,o){let r=this.createSegments(t,i.segments,n,o),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Ue(r,s)}createSegments(t,i,n,o){return i.map(r=>r.path[0]===":"?this.findPosParam(t,r,o):this.findOrReturn(r,n))}findPosParam(t,i,n){let o=n[i.path.substring(1)];if(!o)throw new Ge(4001,!1);return o}findOrReturn(t,i){let n=0;for(let o of i){if(o.path===t.path)return i.splice(n),o;n++}return t}},Eu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y_(e,t,i,n,o){let r=Yf(e,t,i);return r.matched?(n=C_(t,n),$_(n,t,i,o).pipe(he(s=>s===!0?r:E({},Eu)))):ae(r)}function Yf(e,t,i){if(t.path==="**")return Q_(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?E({},Eu):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let o=(t.matcher||$S)(i,e,t);if(!o)return E({},Eu);let r={};Object.entries(o.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let s=o.consumed.length>0?E(E({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:i.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Q_(e){return{matched:!0,parameters:e.length>0?If(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Sf(e,t,i,n){return i.length>0&&J_(e,i,n)?{segmentGroup:new Ue(t,X_(n,new Ue(i,e.children))),slicedSegments:[]}:i.length===0&&e1(e,i,n)?{segmentGroup:new Ue(e.segments,Z_(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new Ue(e.segments,e.children),slicedSegments:i}}function Z_(e,t,i,n){let o={};for(let r of i)if(cl(e,t,r)&&!n[Mi(r)]){let s=new Ue([],{});o[Mi(r)]=s}return E(E({},n),o)}function X_(e,t){let i={};i[_e]=t;for(let n of e)if(n.path===""&&Mi(n)!==_e){let o=new Ue([],{});i[Mi(n)]=o}return i}function J_(e,t,i){return i.some(n=>cl(e,t,n)&&Mi(n)!==_e)}function e1(e,t,i){return i.some(n=>cl(e,t,n))}function cl(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function t1(e,t,i){return t.length===0&&!e.children[i]}var Ru=class{};function i1(e,t,i,n,o,r,s="emptyOnly"){return new Du(e,t,i,n,o,s,r).recognize()}var n1=31,Du=class{constructor(t,i,n,o,r,s,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ge(4002,`'${t.segmentGroup}'`)}recognize(){let t=Sf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(he(({children:i,rootSnapshot:n})=>{let o=new ei(n,i),r=new ol("",o),s=u_(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(t){let i=new Go([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),_e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,_e,i).pipe(he(n=>({children:n,rootSnapshot:i})),Si(n=>{if(n instanceof bs)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Cs?this.noMatchError(n):n}))}processSegmentGroup(t,i,n,o,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n,r):this.processSegment(t,i,n,n.segments,o,!0,r).pipe(he(s=>s instanceof ei?[s]:[]))}processChildren(t,i,n,o){let r=[];for(let s of Object.keys(n.children))s==="primary"?r.unshift(s):r.push(s);return vt(r).pipe(_n(s=>{let a=n.children[s],l=b_(i,s);return this.processSegmentGroup(t,l,a,s,o)}),Wg((s,a)=>(s.push(...a),s)),Rd(null),Gg(),qt(s=>{if(s===null)return Ho(n);let a=Qf(s);return o1(a),ae(a)}))}processSegment(t,i,n,o,r,s,a){return vt(i).pipe(_n(l=>this.processSegmentAgainstRoute(l._injector??t,i,l,n,o,r,s,a).pipe(Si(c=>{if(c instanceof Cs)return ae(null);throw c}))),En(l=>!!l),Si(l=>{if(Kf(l))return t1(n,o,r)?ae(new Ru):Ho(n);throw l}))}processSegmentAgainstRoute(t,i,n,o,r,s,a,l){return Mi(n)!==s&&(s===_e||!cl(o,r,n))?Ho(o):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,n,r,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,i,n,r,s,l):Ho(o)}expandSegmentAgainstRouteUsingRedirect(t,i,n,o,r,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=Yf(i,o,r);if(!l)return Ho(i);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>n1&&(this.allowRedirects=!1));let p=new Go(r,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,_f(o),Mi(o),o.component??o._loadedComponent??null,o,xf(o)),g=nl(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let C=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,p,t);return this.applyRedirects.lineralizeSegments(o,C).pipe(qt(m=>this.processSegment(t,n,i,m.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,i,n,o,r,s){let a=Y_(i,n,o,t,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(at(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,o).pipe(at(({routes:c})=>{let d=n._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:p}=l,g=new Go(h,u,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,_f(n),Mi(n),n.component??n._loadedComponent??null,n,xf(n)),C=nl(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(C.params),g.data=Object.freeze(C.data);let{segmentGroup:m,slicedSegments:x}=Sf(i,h,p,c);if(x.length===0&&m.hasChildren())return this.processChildren(d,c,m,g).pipe(he(D=>new ei(g,D)));if(c.length===0&&x.length===0)return ae(new ei(g,[]));let R=Mi(n)===r;return this.processSegment(d,c,m,x,R?_e:r,!0,g).pipe(he(D=>new ei(g,D instanceof ei?[D]:[])))}))):Ho(i)))}getChildConfig(t,i,n){return i.children?ae({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?ae({routes:i._loadedRoutes,injector:i._loadedInjector}):U_(t,i,n,this.urlSerializer).pipe(qt(o=>o?this.configLoader.loadChildren(t,i).pipe($e(r=>{i._loadedRoutes=r.routes,i._loadedInjector=r.injector})):q_(i))):ae({routes:[],injector:t})}};function o1(e){e.sort((t,i)=>t.value.outlet===_e?-1:i.value.outlet===_e?1:t.value.outlet.localeCompare(i.value.outlet))}function r1(e){let t=e.value.routeConfig;return t&&t.path===""}function Qf(e){let t=[],i=new Set;for(let n of e){if(!r1(n)){t.push(n);continue}let o=t.find(r=>n.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...n.children),i.add(o)):t.push(n)}for(let n of i){let o=Qf(n.children);t.push(new ei(n.value,o))}return t.filter(n=>!i.has(n))}function _f(e){return e.data||{}}function xf(e){return e.resolve||{}}function s1(e,t,i,n,o,r){return qt(s=>i1(e,t,i,n,s.extractedUrl,o,r).pipe(he(({state:a,tree:l})=>ce(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function a1(e,t){return qt(i=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=i;if(!o.length)return ae(i);let r=new Set(o.map(l=>l.route)),s=new Set;for(let l of r)if(!s.has(l))for(let c of Zf(l))s.add(c);let a=0;return vt(s).pipe(_n(l=>r.has(l)?l1(l,n,e,t):(l.data=nl(l,l.parent,e).resolve,ae(void 0))),$e(()=>a++),Dd(1),qt(l=>a===s.size?ae(i):Bi))})}function Zf(e){let t=e.children.map(i=>Zf(i)).flat();return[e,...t]}function l1(e,t,i,n){let o=e.routeConfig,r=e._resolve;return o?.title!==void 0&&!Wf(o)&&(r[ys]=o.title),c1(r,e,t,n).pipe(he(s=>(e._resolvedData=s,e.data=nl(e,e.parent,i).resolve,null)))}function c1(e,t,i,n){let o=ou(e);if(o.length===0)return ae({});let r={};return vt(o).pipe(qt(s=>d1(e[s],t,i,n).pipe(En(),$e(a=>{if(a instanceof vs)throw rl(new Uo,a);r[s]=a}))),Dd(1),zg(r),Si(s=>Kf(s)?Bi:zi(s)))}function d1(e,t,i,n){let o=_s(t)??n,r=Yo(e,o),s=r.resolve?r.resolve(t,i):si(o,()=>r(t,i));return An(s)}function iu(e){return at(t=>{let i=e(t);return i?vt(i).pipe(he(()=>t)):ae(t)})}var Xf=(()=>{let t=class t{buildTitle(n){let o,r=n.root;for(;r!==void 0;)o=this.getResolvedTitleForRoute(r)??o,r=r.children.find(s=>s.outlet===_e);return o}getResolvedTitleForRoute(n){return n.data[ys]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:()=>L(u1),providedIn:"root"});let e=t;return e})(),u1=(()=>{let t=class t extends Xf{constructor(n){super(),this.title=n}updateTitle(n){let o=this.buildTitle(n);o!==void 0&&this.title.setTitle(o)}};t.\u0275fac=function(o){return new(o||t)(k(gf))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Rs=new $("",{providedIn:"root",factory:()=>({})}),h1=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=W({type:t,selectors:[["ng-component"]],standalone:!0,features:[Y],decls:1,vars:0,template:function(o,r){o&1&&j(0,"router-outlet")},dependencies:[Fu],encapsulation:2});let e=t;return e})();function Tu(e){let t=e.children&&e.children.map(Tu),i=t?ce(E({},e),{children:t}):E({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==_e&&(i.component=h1),i}var ws=new $(""),ku=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Aa)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let o=An(n.loadComponent()).pipe(he(Jf),$e(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),xn(()=>{this.componentLoaders.delete(n)})),r=new Gr(o,()=>new K).pipe(yd());return this.componentLoaders.set(n,r),r}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return ae({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let s=p1(o,this.compiler,n,this.onLoadEndListener).pipe(xn(()=>{this.childrenLoaders.delete(o)})),a=new Gr(s,()=>new K).pipe(yd());return this.childrenLoaders.set(o,a),a}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function p1(e,t,i,n){return An(e.loadChildren()).pipe(he(Jf),qt(o=>o instanceof am||Array.isArray(o)?ae(o):vt(t.compileModuleAsync(o))),he(o=>{n&&n(e);let r,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(r=o.create(i).injector,s=r.get(ws,[],{optional:!0,self:!0}).flat()),{routes:s.map(Tu),injector:r}}))}function g1(e){return e&&typeof e=="object"&&"default"in e}function Jf(e){return g1(e)?e.default:e}var Pu=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:()=>L(m1),providedIn:"root"});let e=t;return e})(),m1=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ev=new $(""),tv=new $("");function f1(e,t,i){let n=e.get(tv),o=e.get(le);return e.get(ie).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let r,s=new Promise(c=>{r=c}),a=o.startViewTransition(()=>(r(),v1(e))),{onViewTransitionCreated:l}=n;return l&&si(e,()=>l({transition:a,from:t,to:i})),s})}function v1(e){return new Promise(t=>{Qt({read:()=>setTimeout(t)},{injector:e})})}var C1=new $(""),Au=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new K,this.transitionAbortSubject=new K,this.configLoader=L(ku),this.environmentInjector=L(xi),this.urlSerializer=L(Ss),this.rootContexts=L(xs),this.location=L(eo),this.inputBindingEnabled=L(ll,{optional:!0})!==null,this.titleStrategy=L(Xf),this.options=L(Rs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(Pu),this.createViewTransition=L(ev,{optional:!0}),this.navigationErrorHandler=L(C1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let n=r=>this.events.next(new hu(r)),o=r=>this.events.next(new pu(r));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let o=++this.navigationId;this.transitions?.next(ce(E(E({},this.transitions.value),n),{id:o}))}setupNavigations(n,o,r){return this.transitions=new Ze({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:us,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rt(s=>s.id!==0),he(s=>ce(E({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),at(s=>{let a=!1,l=!1;return ae(s).pipe(at(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ti.SupersededByNewNavigation),Bi;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ce(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new kn(c.id,this.urlSerializer.serialize(c.rawUrl),h,Xa.IgnoredSameUrlNavigation)),c.resolve(!1),Bi}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ae(c).pipe(at(h=>{let p=this.transitions?.getValue();return this.events.next(new $o(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Bi:Promise.resolve(h)}),s1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new Ja(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:p,source:g,restoredState:C,extras:m}=c,x=new $o(h,this.urlSerializer.serialize(p),g,C);this.events.next(x);let R=zf(this.rootComponentType).snapshot;return this.currentTransition=s=ce(E({},c),{targetSnapshot:R,urlAfterRedirects:p,extras:ce(E({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,ae(s)}else{let h="";return this.events.next(new kn(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Xa.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Bi}}),$e(c=>{let d=new lu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),he(c=>(this.currentTransition=s=ce(E({},c),{guards:R_(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),N_(this.environmentInjector,c=>this.events.next(c)),$e(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw rl(this.urlSerializer,c.guardsResult);let d=new cu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),rt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ti.GuardRejected),!1)),iu(c=>{if(c.guards.canActivateChecks.length)return ae(c).pipe($e(d=>{let u=new du(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),at(d=>{let u=!1;return ae(d).pipe(a1(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",ti.NoDataFromResolver)}}))}),$e(d=>{let u=new uu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),iu(c=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe($e(p=>{u.component=p}),he(()=>{})));for(let p of u.children)h.push(...d(p));return h};return Gi(d(c.targetSnapshot.root)).pipe(Rd(null),Rt(1))}),iu(()=>this.afterPreactivation()),at(()=>{let{currentSnapshot:c,targetSnapshot:d}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?vt(u).pipe(he(()=>s)):ae(s)}),he(c=>{let d=y_(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=ce(E({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),$e(()=>{this.events.next(new ms)}),E_(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Rt(1),$e({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $i(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Ie(this.transitionAbortSubject.pipe($e(c=>{throw c}))),xn(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",ti.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Si(c=>{if(l=!0,$f(c))this.events.next(new ln(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),x_(c)?this.events.next(new Ko(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let d=new gs(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let u=si(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(u instanceof vs){let{message:h,cancellationCode:p}=rl(this.urlSerializer,u);this.events.next(new ln(s.id,this.urlSerializer.serialize(s.extractedUrl),h,p)),this.events.next(new Ko(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(d);let h=n.errorHandler(c);s.resolve(!!h)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Bi}))}))}cancelNavigationTransition(n,o,r){let s=new ln(n.id,this.urlSerializer.serialize(n.extractedUrl),o,r);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==o?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function b1(e){return e!==us}var w1=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:()=>L(y1),providedIn:"root"});let e=t;return e})(),Iu=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},y1=(()=>{let t=class t extends Iu{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),iv=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:()=>L(S1),providedIn:"root"});let e=t;return e})(),S1=(()=>{let t=class t extends iv{constructor(){super(...arguments),this.location=L(eo),this.urlSerializer=L(Ss),this.options=L(Rs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(Pu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new cn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zf(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{o.type==="popstate"&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof $o)this.stateMemento=this.createStateMemento();else if(n instanceof kn)this.rawUrlTree=o.initialUrl;else if(n instanceof Ja){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(o.targetBrowserUrl??r,o)}}else n instanceof ms?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(o.targetBrowserUrl??this.rawUrlTree,o)):n instanceof ln&&(n.code===ti.GuardRejected||n.code===ti.NoDataFromResolver)?this.restoreHistory(o):n instanceof gs?this.restoreHistory(o,!0):n instanceof $i&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){let r=n instanceof cn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||o.extras.replaceUrl){let s=this.browserPageId,a=E(E({},o.extras.state),this.generateNgRouterState(o.id,s));this.location.replaceState(r,"",a)}else{let s=E(E({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(n,o=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),cs=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(cs||{});function nv(e,t){e.events.pipe(rt(i=>i instanceof $i||i instanceof ln||i instanceof gs||i instanceof kn),he(i=>i instanceof $i||i instanceof kn?cs.COMPLETE:(i instanceof ln?i.code===ti.Redirect||i.code===ti.SupersededByNewNavigation:!1)?cs.REDIRECTING:cs.FAILED),rt(i=>i!==cs.REDIRECTING),Rt(1)).subscribe(()=>{t()})}function _1(e){throw e}var x1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fi=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(ka),this.stateManager=L(iv),this.options=L(Rs,{optional:!0})||{},this.pendingTasks=L(Ia),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(Au),this.urlSerializer=L(Ss),this.location=L(eo),this.urlHandlingStrategy=L(Pu),this._events=new K,this.errorHandler=this.options.errorHandler||_1,this.navigated=!1,this.routeReuseStrategy=L(w1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(ws,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(ll,{optional:!0}),this.eventsSubscription=new et,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(o=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(o,s),o instanceof ln&&o.code!==ti.Redirect&&o.code!==ti.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof $i)this.navigated=!0;else if(o instanceof Ko){let a=o.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(o.url,r.currentRawUrl),c=E({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||b1(r.source)},a);this.scheduleNavigation(l,us,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}D1(o)&&this._events.next(o)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),us,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)})}navigateToSyncWithBrowser(n,o,r){let s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let c=E({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Tu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){let{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,d=c?this.currentUrlTree.fragment:a,u=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let p=r?r.snapshot:this.routerState.snapshot.root;h=Nf(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return Vf(h,n,u,d??null)}navigateByUrl(n,o={skipLocationChange:!1}){let r=ro(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,us,null,o)}navigate(n,o={skipLocationChange:!1}){return R1(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let r;if(o===!0?r=E({},x1):o===!1?r=E({},E1):r=o,ro(n))return vf(this.currentUrlTree,n,r);let s=this.parseUrl(n);return vf(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.entries(n).reduce((o,[r,s])=>(s!=null&&(o[r]=s),o),{})}scheduleNavigation(n,o,r,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((h,p)=>{l=h,c=p});let u=this.pendingTasks.add();return nv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function R1(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Ge(4008,!1)}function D1(e){return!(e instanceof ms)&&!(e instanceof Ko)}var ov=(()=>{let t=class t{constructor(n,o,r,s,a,l){this.router=n,this.route=o,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new K,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof $i&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ro(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,o,r,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||o||r||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let o=this.href===null?null:nm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(n,o){let r=this.renderer,s=this.el.nativeElement;o!==null?r.setAttribute(s,n,o):r.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:ro(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(o){return new(o||t)(v(Fi),v(Pn),Ei("tabindex"),v(Ri),v(Q),v(Zr))},t.\u0275dir=q({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(o,r){o&1&&G("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),o&2&&V("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",O],skipLocationChange:[2,"skipLocationChange","skipLocationChange",O],replaceUrl:[2,"replaceUrl","replaceUrl",O],routerLink:"routerLink"},standalone:!0,features:[ve,We]});let e=t;return e})();var al=class{};var I1=(()=>{let t=class t{constructor(n,o,r,s,a){this.router=n,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(rt(n=>n instanceof $i),_n(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){let r=[];for(let s of o){s.providers&&!s._injector&&(s._injector=Pd(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return vt(r).pipe(_d())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let r;o.loadChildren&&o.canLoad===void 0?r=this.loader.loadChildren(n,o):r=ae(null);let s=r.pipe(qt(a=>a===null?ae(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(o.loadComponent&&!o._loadedComponent){let a=this.loader.loadComponent(o);return vt([s,a]).pipe(_d())}else return s})}};t.\u0275fac=function(o){return new(o||t)(k(Fi),k(Aa),k(xi),k(al),k(ku))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),rv=new $(""),M1=(()=>{let t=class t{constructor(n,o,r,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof $i?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof kn&&n.code===Xa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof el&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new el(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(o){Ao()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function sv(e,...t){return Rn([{provide:ws,multi:!0,useValue:e},[],{provide:Pn,useFactory:av,deps:[Fi]},{provide:Qr,multi:!0,useFactory:lv},t.map(i=>i.\u0275providers)])}function av(e){return e.routerState.root}function Ds(e,t){return{\u0275kind:e,\u0275providers:t}}function lv(){let e=L(ct);return t=>{let i=e.get(sn);if(t!==i.components[0])return;let n=e.get(Fi),o=e.get(cv);e.get(Ou)===1&&n.initialNavigation(),e.get(dv,null,Md.Optional)?.setUpPreloading(),e.get(rv,null,Md.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var cv=new $("",{factory:()=>new K}),Ou=new $("",{providedIn:"root",factory:()=>1});function F1(){return Ds(2,[{provide:Ou,useValue:0},{provide:Ad,multi:!0,deps:[ct],useFactory:t=>{let i=t.get(Tm,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let o=t.get(Fi),r=t.get(cv);nv(o,()=>{n(!0)}),t.get(Au).afterPreactivation=()=>(n(!0),r.closed?ae(void 0):r),o.initialNavigation()}))}}])}function T1(){return Ds(3,[{provide:Ad,multi:!0,useFactory:()=>{let t=L(Fi);return()=>{t.setUpLocationChangeListener()}}},{provide:Ou,useValue:2}])}var dv=new $("");function k1(e){return Ds(0,[{provide:dv,useExisting:I1},{provide:al,useExisting:e}])}function P1(){return Ds(8,[yf,{provide:ll,useExisting:yf}])}function A1(e){let t=[{provide:ev,useValue:f1},{provide:tv,useValue:E({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ds(9,t)}var Ef=new $("ROUTER_FORROOT_GUARD"),O1=[eo,{provide:Ss,useClass:Uo},Fi,xs,{provide:Pn,useFactory:av,deps:[Fi]},ku,[]],so=(()=>{let t=class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[O1,[],{provide:ws,multi:!0,useValue:n},{provide:Ef,useFactory:H1,deps:[[Fi,new To,new Ur]]},{provide:Rs,useValue:o||{}},o?.useHash?N1():V1(),L1(),o?.preloadingStrategy?k1(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?B1(o):[],o?.bindToComponentInputs?P1().\u0275providers:[],o?.enableViewTransitions?A1().\u0275providers:[],z1()]}}static forChild(n){return{ngModule:t,providers:[{provide:ws,multi:!0,useValue:n}]}}};t.\u0275fac=function(o){return new(o||t)(k(Ef,8))},t.\u0275mod=ee({type:t}),t.\u0275inj=J({});let e=t;return e})();function L1(){return{provide:rv,useFactory:()=>{let e=L(Om),t=L(ie),i=L(Rs),n=L(Au),o=L(Ss);return i.scrollOffset&&e.setOffset(i.scrollOffset),new M1(o,n,e,t,i)}}}function N1(){return{provide:Zr,useClass:Pm}}function V1(){return{provide:Zr,useClass:km}}function H1(e){return"guarded"}function B1(e){return[e.initialNavigation==="disabled"?T1().\u0275providers:[],e.initialNavigation==="enabledBlocking"?F1().\u0275providers:[]]}var Rf=new $("");function z1(){return[{provide:Rf,useFactory:lv},{provide:Qr,multi:!0,useExisting:Rf}]}var wv=(()=>{let t=class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(o){return new(o||t)(v(Ri),v(Q))},t.\u0275dir=q({type:t});let e=t;return e})(),yv=(()=>{let t=class t extends wv{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,features:[ge]});let e=t;return e})(),zt=new $(""),G1={provide:zt,useExisting:lt(()=>zu),multi:!0},zu=(()=>{let t=class t extends yv{writeValue(n){this.setProperty("checked",n)}};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(o,r){o&1&&G("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[we([G1]),ge]});let e=t;return e})(),W1={provide:zt,useExisting:lt(()=>Jo),multi:!0};function j1(){let e=No()?No().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var U1=new $(""),Jo=(()=>{let t=class t extends wv{constructor(n,o,r){super(n,o),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!j1())}writeValue(n){let o=n??"";this.setProperty("value",o)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(o){return new(o||t)(v(Ri),v(Q),v(U1,8))},t.\u0275dir=q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,r){o&1&&G("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[we([W1]),ge]});let e=t;return e})();function On(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function Sv(e){return e!=null&&typeof e.length=="number"}var er=new $(""),tr=new $(""),$1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ki=class{static min(t){return K1(t)}static max(t){return q1(t)}static required(t){return Y1(t)}static requiredTrue(t){return Q1(t)}static email(t){return Z1(t)}static minLength(t){return X1(t)}static maxLength(t){return J1(t)}static pattern(t){return ex(t)}static nullValidator(t){return _v(t)}static compose(t){return Mv(t)}static composeAsync(t){return Fv(t)}};function K1(e){return t=>{if(On(t.value)||On(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function q1(e){return t=>{if(On(t.value)||On(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function Y1(e){return On(e.value)?{required:!0}:null}function Q1(e){return e.value===!0?null:{required:!0}}function Z1(e){return On(e.value)||$1.test(e.value)?null:{email:!0}}function X1(e){return t=>On(t.value)||!Sv(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function J1(e){return t=>Sv(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function ex(e){if(!e)return _v;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(On(n.value))return null;let o=n.value;return t.test(o)?null:{pattern:{requiredPattern:i,actualValue:o}}}}function _v(e){return null}function xv(e){return e!=null}function Ev(e){return Pa(e)?vt(e):e}function Rv(e){let t={};return e.forEach(i=>{t=i!=null?E(E({},t),i):t}),Object.keys(t).length===0?null:t}function Dv(e,t){return t.map(i=>i(e))}function tx(e){return!e.validate}function Iv(e){return e.map(t=>tx(t)?t:i=>t.validate(i))}function Mv(e){if(!e)return null;let t=e.filter(xv);return t.length==0?null:function(i){return Rv(Dv(i,t))}}function Gu(e){return e!=null?Mv(Iv(e)):null}function Fv(e){if(!e)return null;let t=e.filter(xv);return t.length==0?null:function(i){let n=Dv(i,t).map(Ev);return xa(n).pipe(he(Rv))}}function Wu(e){return e!=null?Fv(Iv(e)):null}function hv(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Tv(e){return e._rawValidators}function kv(e){return e._rawAsyncValidators}function Lu(e){return e?Array.isArray(e)?e:[e]:[]}function ul(e,t){return Array.isArray(e)?e.includes(t):e===t}function pv(e,t){let i=Lu(t);return Lu(e).forEach(o=>{ul(i,o)||i.push(o)}),i}function gv(e,t){return Lu(t).filter(i=>!ul(e,i))}var hl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Gu(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Wu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},Ft=class extends hl{get formDirective(){return null}get path(){return null}},Pi=class extends hl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},pl=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ix={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},o7=ce(E({},ix),{"[class.ng-submitted]":"isSubmitted"}),ir=(()=>{let t=class t extends pl{constructor(n){super(n)}};t.\u0275fac=function(o){return new(o||t)(v(Pi,2))},t.\u0275dir=q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,r){o&2&&me("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ge]});let e=t;return e})(),nr=(()=>{let t=class t extends pl{constructor(n){super(n)}};t.\u0275fac=function(o){return new(o||t)(v(Ft,10))},t.\u0275dir=q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,r){o&2&&me("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ge]});let e=t;return e})();var Is="VALID",dl="INVALID",Qo="PENDING",Ms="DISABLED",Ln=class{},gl=class extends Ln{constructor(t,i){super(),this.value=t,this.source=i}},Ts=class extends Ln{constructor(t,i){super(),this.pristine=t,this.source=i}},ks=class extends Ln{constructor(t,i){super(),this.touched=t,this.source=i}},Zo=class extends Ln{constructor(t,i){super(),this.status=t,this.source=i}},Nu=class extends Ln{constructor(t){super(),this.source=t}},Vu=class extends Ln{constructor(t){super(),this.source=t}};function ju(e){return(Cl(e)?e.validators:e)||null}function nx(e){return Array.isArray(e)?Gu(e):e||null}function Uu(e,t){return(Cl(t)?t.asyncValidators:e)||null}function ox(e){return Array.isArray(e)?Wu(e):e||null}function Cl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Pv(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new Ge(1e3,"");if(!n[i])throw new Ge(1001,"")}function Av(e,t,i){e._forEachChild((n,o)=>{if(i[o]===void 0)throw new Ge(1002,"")})}var Xo=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=li(()=>this.statusReactive()),this.statusReactive=pt(void 0),this._pristine=li(()=>this.pristineReactive()),this.pristineReactive=pt(!0),this._touched=li(()=>this.touchedReactive()),this.touchedReactive=pt(!1),this._events=new K,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Di(this.statusReactive)}set status(t){Di(()=>this.statusReactive.set(t))}get valid(){return this.status===Is}get invalid(){return this.status===dl}get pending(){return this.status==Qo}get disabled(){return this.status===Ms}get enabled(){return this.status!==Ms}get pristine(){return Di(this.pristineReactive)}set pristine(t){Di(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Di(this.touchedReactive)}set touched(t){Di(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(pv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(pv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(gv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(gv(t,this._rawAsyncValidators))}hasValidator(t){return ul(this._rawValidators,t)}hasAsyncValidator(t){return ul(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let i=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ce(E({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new ks(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(t))}markAsUntouched(t={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),i&&t.emitEvent!==!1&&this._events.next(new ks(!1,n))}markAsDirty(t={}){let i=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ce(E({},t),{sourceControl:n})),i&&t.emitEvent!==!1&&this._events.next(new Ts(!1,n))}markAsPristine(t={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&t.emitEvent!==!1&&this._events.next(new Ts(!0,n))}markAsPending(t={}){this.status=Qo;let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Zo(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ce(E({},t),{sourceControl:i}))}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Ms,this.errors=null,this._forEachChild(o=>{o.disable(ce(E({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gl(this.value,n)),this._events.next(new Zo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(E({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Is,this._forEachChild(n=>{n.enable(ce(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ce(E({},t),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,i){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Is||this.status===Qo)&&this._runAsyncValidator(n,t.emitEvent)}let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gl(this.value,i)),this._events.next(new Zo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ce(E({},t),{sourceControl:i}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ms:Is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,i){if(this.asyncValidator){this.status=Qo,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=Ev(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:i,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,o)=>n&&n._find(o),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,i,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Zo(this.status,i)),this._parent&&this._parent._updateControlsErrors(t,i,n)}_initObservables(){this.valueChanges=new _,this.statusChanges=new _}_calculateStatus(){return this._allControlsDisabled()?Ms:this.errors?dl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qo)?Qo:this._anyControlsHaveStatus(dl)?dl:Is}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,i){let n=!this._anyControlsDirty(),o=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),o&&this._events.next(new Ts(this.pristine,i))}_updateTouched(t={},i){this.touched=this._anyControlsTouched(),this._events.next(new ks(this.touched,i)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Cl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=nx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ox(this._rawAsyncValidators)}},Ki=class extends Xo{constructor(t,i,n){super(ju(i),Uu(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){Av(this,!0,t),Object.keys(t).forEach(n=>{Pv(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,o)=>((n.enabled||this.disabled)&&(i[o]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((o,r)=>{n=i(n,o,r)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Hu=class extends Ki{};var Ps=new $("CallSetDisabledState",{providedIn:"root",factory:()=>bl}),bl="always";function wl(e,t){return[...t.path,e]}function ml(e,t,i=bl){$u(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),sx(e,t),lx(e,t),ax(e,t),rx(e,t)}function mv(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),vl(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function fl(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function rx(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function $u(e,t){let i=Tv(e);t.validator!==null?e.setValidators(hv(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=kv(e);t.asyncValidator!==null?e.setAsyncValidators(hv(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let o=()=>e.updateValueAndValidity();fl(t._rawValidators,o),fl(t._rawAsyncValidators,o)}function vl(e,t){let i=!1;if(e!==null){if(t.validator!==null){let o=Tv(e);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.validator);r.length!==o.length&&(i=!0,e.setValidators(r))}}if(t.asyncValidator!==null){let o=kv(e);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.asyncValidator);r.length!==o.length&&(i=!0,e.setAsyncValidators(r))}}}let n=()=>{};return fl(t._rawValidators,n),fl(t._rawAsyncValidators,n),i}function sx(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Ov(e,t)})}function ax(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Ov(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Ov(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function lx(e,t){let i=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function Lv(e,t){e==null,$u(e,t)}function cx(e,t){return vl(e,t)}function Nv(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function dx(e){return Object.getPrototypeOf(e.constructor)===yv}function Vv(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Hv(e,t){if(!t)return null;Array.isArray(t);let i,n,o;return t.forEach(r=>{r.constructor===Jo?i=r:dx(r)?n=r:o=r}),o||n||i||null}function ux(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var hx={provide:Ft,useExisting:lt(()=>As)},Fs=Promise.resolve(),As=(()=>{let t=class t extends Ft{get submitted(){return Di(this.submittedReactive)}constructor(n,o,r){super(),this.callSetDisabledState=r,this._submitted=li(()=>this.submittedReactive()),this.submittedReactive=pt(!1),this._directives=new Set,this.ngSubmit=new _,this.form=new Ki({},Gu(n),Wu(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Fs.then(()=>{let o=this._findContainer(n.path);n.control=o.registerControl(n.name,n.control),ml(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Fs.then(()=>{let o=this._findContainer(n.path);o&&o.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Fs.then(()=>{let o=this._findContainer(n.path),r=new Ki({});Lv(r,n),o.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Fs.then(()=>{let o=this._findContainer(n.path);o&&o.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,o){Fs.then(()=>{this.form.get(n.path).setValue(o)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Vv(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(o){return new(o||t)(v(er,10),v(tr,10),v(Ps,8))},t.\u0275dir=q({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,r){o&1&&G("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[we([hx]),ge]});let e=t;return e})();function fv(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function vv(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ti=class extends Xo{constructor(t=null,i,n){super(ju(i),Uu(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cl(i)&&(i.nonNullable||i.initialValueIsDefault)&&(vv(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){vv(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var px=e=>e instanceof Ti,gx=(()=>{let t=class t extends Ft{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return wl(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,features:[ge]});let e=t;return e})();var mx={provide:Pi,useExisting:lt(()=>Ku)},Cv=Promise.resolve(),Ku=(()=>{let t=class t extends Pi{constructor(n,o,r,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Ti,this._registered=!1,this.name="",this.update=new _,this._parent=n,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=Hv(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let o=n.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Nv(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ml(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Cv.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let o=n.isDisabled.currentValue,r=o!==0&&O(o);Cv.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?wl(n,this._parent):[n]}};t.\u0275fac=function(o){return new(o||t)(v(Ft,9),v(er,10),v(tr,10),v(zt,10),v(Te,8),v(Ps,8))},t.\u0275dir=q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[we([mx]),ge,We]});let e=t;return e})(),or=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var Bv=new $("");var fx={provide:Ft,useExisting:lt(()=>di)},di=(()=>{let t=class t extends Ft{get submitted(){return Di(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,o,r){super(),this.callSetDisabledState=r,this._submitted=li(()=>this._submittedReactive()),this._submittedReactive=pt(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let o=this.form.get(n.path);return ml(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){mv(n.control||null,n,!1),ux(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this._submittedReactive.set(!0),Vv(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Nu(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Vu(this.form))}_updateDomValue(){this.directives.forEach(n=>{let o=n.control,r=this.form.get(n.path);o!==r&&(mv(o||null,n),px(r)&&(ml(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let o=this.form.get(n.path);Lv(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let o=this.form.get(n.path);o&&cx(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$u(this.form,this),this._oldForm&&vl(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(o){return new(o||t)(v(er,10),v(tr,10),v(Ps,8))},t.\u0275dir=q({type:t,selectors:[["","formGroup",""]],hostBindings:function(o,r){o&1&&G("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[we([fx]),ge,We]});let e=t;return e})(),vx={provide:Ft,useExisting:lt(()=>yl)},yl=(()=>{let t=class t extends gx{constructor(n,o,r){super(),this.name=null,this._parent=n,this._setValidators(o),this._setAsyncValidators(r)}_checkParentType(){zv(this._parent)}};t.\u0275fac=function(o){return new(o||t)(v(Ft,13),v(er,10),v(tr,10))},t.\u0275dir=q({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[we([vx]),ge]});let e=t;return e})(),Cx={provide:Ft,useExisting:lt(()=>Sl)},Sl=(()=>{let t=class t extends Ft{constructor(n,o,r){super(),this.name=null,this._parent=n,this._setValidators(o),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return wl(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){zv(this._parent)}};t.\u0275fac=function(o){return new(o||t)(v(Ft,13),v(er,10),v(tr,10))},t.\u0275dir=q({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[we([Cx]),ge]});let e=t;return e})();function zv(e){return!(e instanceof yl)&&!(e instanceof di)&&!(e instanceof Sl)}var bx={provide:Pi,useExisting:lt(()=>ao)},ao=(()=>{let t=class t extends Pi{set isDisabled(n){}constructor(n,o,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new _,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(r),this.valueAccessor=Hv(this,s)}ngOnChanges(n){this._added||this._setUpControl(),Nv(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return wl(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(o){return new(o||t)(v(Ft,13),v(er,10),v(tr,10),v(zt,10),v(Bv,8))},t.\u0275dir=q({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[we([bx]),ge,We]});let e=t;return e})();var Gv=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({});let e=t;return e})(),Bu=class extends Xo{constructor(t,i,n){super(ju(i),Uu(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),i&&(this.controls.splice(o,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){Av(this,!1,t),t.forEach((n,o)=>{Pv(this,!1,o),this.at(o).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(t.forEach((n,o)=>{this.at(o)&&this.at(o).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,o)=>{n.reset(t[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function bv(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Wv=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,o=null){let r=this._reduceControls(n),s={};return bv(o)?s=o:o!==null&&(s.validators=o.validator,s.asyncValidators=o.asyncValidator),new Ki(r,s)}record(n,o=null){let r=this._reduceControls(n);return new Hu(r,o)}control(n,o,r){let s={};return this.useNonNullable?(bv(o)?s=o:(s.validators=o,s.asyncValidators=r),new Ti(n,ce(E({},s),{nonNullable:!0}))):new Ti(n,o,r)}array(n,o,r){let s=n.map(a=>this._createControl(a));return new Bu(s,o,r)}_reduceControls(n){let o={};return Object.keys(n).forEach(r=>{o[r]=this._createControl(n[r])}),o}_createControl(n){if(n instanceof Ti)return n;if(n instanceof Xo)return n;if(Array.isArray(n)){let o=n[0],r=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(o,r,s)}else return this.control(n)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _l=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ps,useValue:n.callSetDisabledState??bl}]}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Gv]});let e=t;return e})(),rr=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Bv,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ps,useValue:n.callSetDisabledState??bl}]}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Gv]});let e=t;return e})();var xl=class e{constructor(t,i,n){this.router=t;this.http=i;this._renderer=n;this.renderer=n.createRenderer(null,null)}userImageSource=new Ze(null);userImage$=this.userImageSource.asObservable();errorMessage="Something went wrong. Please try again after sometime.";setAutoHide=!0;autoHide=2e3;logoutSubject=new K;logoutAction$=this.logoutSubject.asObservable();href;IsError=!1;isSystemAlert=!1;renderer;doGet(t){let i={headers:new Jt};return localStorage.getItem("authToken")&&(i.headers=i.headers.set("Access-Control-Allow-Origin","*"),i.headers=i.headers.set("Access-Control-Allow-Methods","POST, GET, OPTIONS, DELETE, PUT")),this.http.get(t,i).pipe($e(()=>console.log("doGet success")),Si(o=>zi(()=>o)))}doPost(t,i){let n={headers:new Jt};return localStorage.getItem("authToken")&&(n.headers=n.headers.set("Access-Control-Allow-Origin","*"),n.headers=n.headers.set("Access-Control-Allow-Methods","POST, GET, OPTIONS, DELETE, PUT")),this.http.post(t,i,n).pipe($e(()=>console.log("doPost success")),Si(r=>zi(()=>r)))}static \u0275fac=function(i){return new(i||e)(k(Fi),k(io),k(Oo))};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})};var ui=class e{data=pt(null);static \u0275fac=function(i){return new(i||e)};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})};var El=class e{constructor(t,i,n){this.http=t;this.commonService=i;this.dataService=n}data;card;paymentUrl;qrCodeDataUrl;amount;ngOnInit(){this.data=this.dataService.data}onScroll(){console.log("scrolled!!")}static \u0275fac=function(i){return new(i||e)(v(io),v(xl),v(ui))};static \u0275cmp=W({type:e,selectors:[["app-temp"]],standalone:!0,features:[Y],decls:0,vars:0,template:function(i,n){},dependencies:[Se,_l],styles:[".payment-container[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto;padding:20px;background-color:#f7f7f7;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}#payment-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}#card-element[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:4px;border:1px solid #ccc}#card-errors[_ngcontent-%COMP%]{color:red;margin-top:10px}button[_ngcontent-%COMP%]{background-color:#5469d4;color:#fff;border:none;padding:12px;font-size:16px;border-radius:4px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#4353c6}#loading[_ngcontent-%COMP%]{text-align:center;margin-top:10px;font-size:18px;color:#5469d4}.upi-qr-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}img[_ngcontent-%COMP%]{width:200px;height:200px;margin-top:10px}"]})};var Rl=class e{ngOnInit(){}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=W({type:e,selectors:[["app-temp1"]],standalone:!0,features:[Y],decls:0,vars:0,template:function(i,n){},dependencies:[Se]})};var Cr=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){let n=t?this.allAsyncListeners:this.allSyncListeners,o=n.get(e);return!o&&i&&(o=new Set,n.set(e,o)),o}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){let n=this.getListeners(e,i,!1);n&&(n.delete(t),n.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let i=e.type;if(t&&"event"in e){let a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}let n=(a,l)=>a.forEach(c=>{if(!l.has(c))return;let d=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(d):d()}),o=this.getListeners(i,t,!1)??new Set,r=new Set(o);r.size>0&&n(r,o),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{let l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,e)):()=>a(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},vC=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(vC||{}),jv={};function Ph(e,t){jv[t]||(e(),jv[t]=!0)}function gi(e,...t){console.log("AG Grid: "+e,...t)}function A(e,...t){Ph(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Oe(e,...t){Ph(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}function Ah(e){return!!(e&&e.constructor&&e.call&&e.apply)}function yx(e){Sx(e,400)}var qu=[],Yu=!1;function Uv(e){qu.push(e),!Yu&&(Yu=!0,window.setTimeout(()=>{let t=qu.slice();qu.length=0,Yu=!1,t.forEach(i=>i())},0))}function Sx(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}function Ot(e,t){let i;return function(...n){let o=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(o,n)},t)}}function $v(e,t){let i=0;return function(...n){let o=this,r=new Date().getTime();r-i<t||(i=r,e.apply(o,n))}}function _x(e,t,i=100,n){let o=new Date().getTime(),r=null,s=!1,a=()=>{let l=new Date().getTime()-o>i;(e()||l)&&(t(),s=!0,r!=null&&(window.clearInterval(r),r=null),l&&n&&A(n))};a(),s||(r=window.setInterval(a,10))}function xx(...e){return t=>e.reduce((i,n)=>n(i),t)}function hn(e){return e==null||e===""?null:e}function B(e,t=!1){return e!=null&&(e!==""||t)}function Fe(e){return!B(e)}function jt(e){return e==null||e.length===0}function hh(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function go(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;let t=parseInt(e,10);return isNaN(t)?void 0:t}function ph(e){if(e!==void 0)return e===null||e===""?!1:gh(e)}function gh(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function Ks(e,t){let i=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return i===n}function Ex(e,t,i=!1){let n=e==null,o=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&o)return 0;if(n)return-1;if(o)return 1;function r(s,a){return s>a?1:s<a?-1:0}if(typeof e!="string"||!i)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}function Ol(e){if(e instanceof Set||e instanceof Map){let t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}function CC(e,t){return e.get("rowModelType")===t}function Xe(e){return CC(e,"clientSide")}function fn(e){return CC(e,"serverSide")}function wt(e,t){return e.get("domLayout")===t}function Hl(e){return Gl(e)!==void 0}function Bl(e){return!e.get("suppressAsyncEvents")}function bC(e){return typeof e.get("getRowHeight")=="function"}function Rx(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Gn(e,t,i=!1,n){if(n==null&&(n=e.environment.getDefaultRowHeight()),bC(e)){if(i)return{height:n,estimated:!0};let s={node:t,data:t.data},a=e.getCallback("getRowHeight")(s);if(mh(a))return a===0&&A("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(t.detail&&e.get("masterDetail"))return Dx(e);let o=e.get("rowHeight");return{height:o&&mh(o)?o:n,estimated:!1}}function Dx(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return mh(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function mo(e){let{environment:t}=e,i=e.get("rowHeight");if(!i||Fe(i))return t.getDefaultRowHeight();let n=t.refreshRowHeightVariable();return n!==-1?n:(A("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function mh(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function qs(e,t,i){let n=t[e.getDomDataKey()];return n?n[i]:void 0}function bo(e,t,i,n){let o=e.getDomDataKey(),r=t[o];Fe(r)&&(r={},t[o]=r),r[i]=n}function it(e){let t=null,i=e.get("getDocument");return i&&B(i)?t=i():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&B(t)?t:document}function wC(e){return it(e).defaultView||window}function Ys(e){return e.eGridDiv.getRootNode()}function Qe(e){return Ys(e).activeElement}function yC(e){let t=it(e),i=Qe(e);return i===null||i===t.body}function dr(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function Jl(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||wt(e,"print"))}function Qi(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function fh(e){let t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function SC(e){let t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function _C(e){let t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;let i=e.get("groupIncludeFooter");if(typeof i=="function"){let n=e.getCallback("groupIncludeFooter");return o=>n(o)?"bottom":void 0}return()=>i?"bottom":void 0}function xC(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function ec(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function br(e){let t=e.getCallback("getRowId");return t===void 0?t:i=>{let n=t(i);return typeof n!="string"&&(A("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}function pr(e){return e?.checkboxes??!0}function zl(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function Ix(e){return e?.hideDisabledCheckboxes??!1}function Mx(e){return typeof e.get("rowSelection")!="string"}function Fx(e){return e.get("cellSelection")!==void 0}function Tx(e){let t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t?.suppressMultiRanges??!1:!1:e.get("suppressMultiRangeSelection")}function Xi(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function kx(e){let t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t.handle?.mode==="range":!1:e.get("enableRangeHandle")}function Kv(e){let t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t.handle?.mode==="fill":!1:e.get("enableFillHandle")}function EC(e){let t=e.get("rowSelection")??"single";if(typeof t=="string"){let i=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return i&&n?!1:i?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Px(e){let t=EC(e);return t===!0||t==="enableSelection"}function Qu(e){let t=EC(e);return t===!0||t==="enableDeselection"}function Oh(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function Gl(e){let t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t?.mode}function Lh(e){return Gl(e)==="multiRow"}function Ax(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function Nh(e){let t=e.get("rowSelection");if(typeof t=="string"){let i=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return i&&n?"filteredDescendants":i?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function wo(e){let t=Nh(e);return t==="descendants"||t==="filteredDescendants"}function Zu(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function De(e){if(!(!e||!e.length))return e[e.length-1]}function Un(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,o)=>i?i(n,t[o]):t[o]===n)}function Ox(e){return e.sort((t,i)=>t-i)}function RC(e,t){let i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function Lt(e,t){let i=e.indexOf(t);i>=0&&e.splice(i,1)}function Lx(e,t){for(let i=0;i<t.length;i++)RC(e,t[i])}function Nx(e,t){for(let i=0;i<t.length;i++)Lt(e,t[i])}function Wl(e,t,i){e.splice(i,0,t)}function DC(e,t,i){Nx(e,t),t.slice().reverse().forEach(n=>Wl(e,n,i))}function fo(e,t){return e.indexOf(t)>-1}function Vx(e){return e?.flatMap(t=>t)??[]}function qv(e,t){t==null||e==null||t.forEach(i=>e.push(i))}var IC="__ag_Grid_Stop_Propagation",Hx=["touchstart","touchend","touchmove","touchcancel","scroll"],Xu={};function gr(e){e[IC]=!0}function pn(e){return e[IC]===!0}var MC=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof Xu[i]=="boolean")return Xu[i];let n=document.createElement(e[i]||"div");return i="on"+i,Xu[i]=i in n}})();function vh(e,t,i){let n=t;for(;n;){let o=qs(e,n,i);if(o)return o;n=n.parentElement}return null}function Bx(e,t){return!t||!e?!1:Gx(t).indexOf(e)>=0}function zx(e){let t=[],i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function Gx(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():zx(t)}function Wx(e,t,i,n){let r=fo(Hx,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,n,r)}var T=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new Cr),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService&&this.localEventService.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let i=[];for(let n in t){let o=t[n];o&&i.push(this._setupListener(e,n,o))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?Wx(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);let n=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);let i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let i=e.join("-")+this.propertyListenerId++,n=o=>{if(o.changeSet){if(o.changeSet&&o.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=o.changeSet.id}let r={type:"gridPropertyChanged",changeSet:o.changeSet,source:o.source};t(r)};e.forEach(o=>this.setupGridOptionListener(o,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){let i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Pt(e){return e instanceof Ll}var Ll=class extends T{constructor(e,t,i,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=kC(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{jn(t)?e.push(t):Pt(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1,n=this.findChildrenRemovingPadding();for(let r=0,s=n.length;r<s;r++){let a=n[r];if(!a.isVisible())continue;let l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}let o=e&&t&&i;this.expandable!==o&&(this.expandable=o,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],t=i=>{i.forEach(n=>{Pt(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},FC="ag-Grid-ControlsColumn",jx=class extends T{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){let e=this.gos.get("rowSelection");if(!e||typeof e=="string")return[];let t=pr(e),i=zl(e);if(t||i){let n=this.gos.get("selectionColumnDef"),o=this.gos.get("enableRtl"),r=ce(E({maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:o?"right":"left",comparator(a,l,c,d){let u=c.isSelected(),h=d.isSelected();return u&&h?0:u?1:-1},editable:!1,suppressFillHandle:!0},n),{colId:`${FC}`}),s=new zh(r,null,r.colId,!1);return this.createBean(s),[s]}return[]}},tc="ag-Grid-AutoColumn";function Vh(e){let t=[],i=n=>{for(let o=0;o<n.length;o++){let r=n[o];jn(r)?t.push(r):Pt(r)&&i(r.getChildren())}};return i(e),t}function dn(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function Bn(e,t,i){let n={};if(!t)return;mn(null,t,r=>{n[r.getInstanceId()]=r}),i&&mn(null,i,r=>{n[r.getInstanceId()]=null});let o=Object.values(n).filter(r=>r!=null);e.destroyBeans(o)}function Ch(e){return e.getId().startsWith(tc)}function mr(e){return e.getColId().startsWith(FC)}function Nl(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?A("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):A("colDef.type should be of type 'string' | 'string[]'"),t}var Hh=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=i=>{this.frameworkOverrides.wrapOutgoing(()=>e(i))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(i,n)=>{this.frameworkOverrides.wrapOutgoing(()=>e(i,n))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},Bh=new Set(["__proto__","constructor","prototype"]);function pi(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(let[i,n]of Object.entries(e))t(i,n)}}function TC(e){let t={},i=Object.keys(e);for(let n=0;n<i.length;n++){if(Bh.has(i[n]))continue;let o=i[n],r=e[o];t[o]=r}return t}function bh(e,t){if(!e)return;let i=e,n={};return Object.keys(i).forEach(o=>{if(t&&t.indexOf(o)>=0||Bh.has(o))return;let r=i[o];wh(r)&&r.constructor===Object?n[o]=bh(r):n[o]=r}),n}function Wn(e){if(!e)return[];let t=Object;if(typeof t.values=="function")return t.values(e);let i=[];for(let n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&i.push(e[n]);return i}function At(e,t,i=!0,n=!1){B(t)&&pi(t,(o,r)=>{if(Bh.has(o))return;let s=e[o];s!==r&&(n&&s==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(s={},e[o]=s),wh(r)&&wh(s)&&!Array.isArray(s)?At(s,r,i,n):(i||r!==void 0)&&(e[o]=r))})}function Gs(e,t,i){if(!t||!e)return;if(!i)return e[t];let n=t.split("."),o=e;for(let r=0;r<n.length;r++){if(o==null)return;o=o[n[r]]}return o}function wh(e){return typeof e=="object"&&e!==null}var Ux={resizable:!0,sortable:!0},$x=0;function kC(){return $x++}function jn(e){return e instanceof zh}var zh=class extends T{constructor(e,t,i,n){super(),this.isColumn=!0,this.instanceId=kC(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new Cr,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);let t=e.sortIndex,i=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);let n=e.hide,o=e.initialHide;n!==void 0?this.visible=!n:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);let r=e.flex,s=e.initialFlex;r!==void 0?this.flex=r:s!==void 0&&(this.flex=s)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){let e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=B(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=B(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=B(this.colDef.tooltipField)||B(this.colDef.tooltipValueGetter)||B(this.colDef.tooltipComponent)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,i=go(e.width),n=go(e.initialWidth);return i!=null?t=i:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Fe(this.colDef)||Fe(this.colDef.showRowGroup))return!1;let t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new Hh(this.frameworkOverrides));let i=this.frameworkEventListenerService?.wrap(t)??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){let i=this.frameworkEventListenerService?.unwrap(t)??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){let t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){let t=this.gos.get("rowSelection");if(t&&typeof t!="string"){let i=mr(this)&&pr(t);return this.isColumnFunc(e,i)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Ux[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Fe(this.sort)}isSorting(){return B(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));let n=this.createColumnEvent("filterChanged",t);i&&At(n,i),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let i=e===!0;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){let e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Fe(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(Fe(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Kx={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},qx=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=hh(e);let i=0;for(;;){let n;if(e?(n=e,i!==0&&(n+="_"+i)):t?(n=t,i!==0&&(n+="_"+i)):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},Yx=class extends T{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,n){let o=new qx,{existingCols:r,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(i);o.addExistingKeys(a);let l=this.recursivelyCreateColumns(e,0,t,r,o,s,n),c=this.findMaxDept(l,0),d=this.balanceColumnTree(l,0,c,o);return mn(null,d,(h,p)=>{Pt(h)&&h.setupExpandable(),h.setOriginalParent(p)}),{columnTree:d,treeDept:c}}extractExistingTreeData(e){let t=[],i=[],n=[];return e&&mn(null,e,o=>{if(Pt(o)){let r=o;i.push(r)}else{let r=o;n.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}balanceTreeForAutoCols(e,t){let i=[],n=this.findDepth(t);return e.forEach(o=>{let r=o;for(let s=n-1;s>=0;s--){let a=new Ll(null,`FAKE_PATH_${o.getId()}}_${s}`,!0,s);this.createBean(a),a.setChildren([r]),r.setOriginalParent(a),r=a}n===0&&o.setOriginalParent(null),i.push(r)}),[i,n]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&Pt(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,n){let o=[];for(let r=0;r<e.length;r++){let s=e[r];if(Pt(s)){let a=s,l=this.balanceColumnTree(a.getChildren(),t+1,i,n);a.setChildren(l),o.push(a)}else{let a,l;for(let c=i-1;c>=t;c--){let d=n.getUniqueKey(null,null),u=this.createMergedColGroupDef(null),h=new Ll(u,d,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(o.push(a),e.some(d=>Pt(d))){l.setChildren([s]);continue}else{l.setChildren(e);break}o.push(s)}}return o}findMaxDept(e,t){let i=t;for(let n=0;n<e.length;n++){let o=e[n];if(Pt(o)){let r=o,s=this.findMaxDept(r.getChildren(),t+1);i<s&&(i=s)}}return i}recursivelyCreateColumns(e,t,i,n,o,r,s){if(!e)return[];let a=new Array(e.length);for(let l=0;l<a.length;l++){let c=e[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(i,c,t,n,o,r,s):a[l]=this.createColumn(i,c,n,o,s)}return a}createColumnGroup(e,t,i,n,o,r,s){let a=this.createMergedColGroupDef(t),l=o.getUniqueKey(a.groupId||null,null),c=new Ll(a,l,!1,i);this.createBean(c);let d=this.findExistingGroup(t,r);d&&r.splice(d.idx,1);let u=d?.group;u&&c.setExpanded(u.isExpanded());let h=this.recursivelyCreateColumns(a.children,i+1,e,n,o,r,s);return c.setChildren(h),c}createMergedColGroupDef(e){let t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,n,o){let r=this.findExistingColumn(t,i);r&&i?.splice(r.idx,1);let s=r?.column;if(s){let a=this.addColumnDefaultAndTypes(t,s.getColId());s.setColDef(a,t,o),this.applyColumnState(s,a,o)}else{let a=n.getUniqueKey(t.colId,t.field),l=this.addColumnDefaultAndTypes(t,a);s=new zh(l,t,a,e),this.createBean(s)}return this.dataTypeService?.addColumnListeners(s),s}applyColumnState(e,t,i){let n=go(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){let a=go(t.width);if(a!=null)e.setActualWidth(a,i);else{let l=e.getActualWidth();e.setActualWidth(l,i)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,i):e.setSort(void 0,i));let r=go(t.sortIndex);r!==void 0&&e.setSortIndex(r);let s=ph(t.hide);s!==void 0&&e.setVisible(!s,i),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){let n=t[i].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(n.field===e.field)return{idx:i,column:t[i]};continue}if(n===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){let o=t[n];if(o.getColGroupDef()&&o.getId()===e.groupId)return{idx:n,group:o}}}addColumnDefaultAndTypes(e,t){let i={},n=this.gos.get("defaultColDef");At(i,n,!1,!0);let o=this.updateColDefAndGetColumnType(i,e,t);o&&this.assignColumnTypes(o,i),At(i,e,!1,!0);let r=this.gos.get("autoGroupColumnDef"),s=Qi(this.gos);return e.rowGroup&&r&&s&&At(i,{sort:r.sort,initialSort:r.initialSort},!1,!0),this.dataTypeService?.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){let n=this.dataTypeService?.updateColDefAndGetColumnType(e,t,i),o=t.type??n??e.type;return e.type=o,o?Nl(o):void 0}assignColumnTypes(e,t){if(!e.length)return;let i=Object.assign({},Kx),n=this.gos.get("columnTypes")||{};pi(n,(o,r)=>{o in i?A(`the column type '${o}' is a default column type and cannot be overridden.`):(r.type&&A("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[o]=r)}),e.forEach(o=>{let r=i[o.trim()];r?At(t,r,!1,!0):A("colDef.type '"+o+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function mn(e,t,i){if(t)for(let n=0;n<t.length;n++){let o=t[n];Pt(o)&&mn(o,o.getChildren(),i),i(o,e)}}var Qx=class extends T{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){let e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(uo(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,uo(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(uo(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(uo(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),uo(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){let t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();let i=this.colDefCols?.list,n=this.colDefCols?.tree,o=this.columnFactory.createColumnTree(this.colDefs,!0,n,e);Bn(this.context,this.colDefCols?.tree,o.columnTree);let r=o.columnTree,s=o.treeDept,a=Vh(r),l={};a.forEach(c=>l[c.getId()]=c),this.colDefCols={tree:r,treeDepth:s,list:a,map:l},this.funcColsService.extractCols(e,i),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;let t=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();let i=Rx(this.gos,this.showingPivotResult);(!e||i)&&this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Un(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){let e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){let{map:t,list:i,tree:n,treeDepth:o}=e;this.cols={list:i.slice(),map:E({},t),tree:n.slice(),treeDepth:o},e.list.some(s=>this.cols?.map[s.getColId()]!==void 0)||(this.lastPivotOrder=null)}else{let{map:t,list:i,tree:n,treeDepth:o}=this.colDefCols;this.cols={list:i.slice(),map:E({},t),tree:n.slice(),treeDepth:o}}}getColsToShow(){let e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter(n=>{let o=Ch(n);if(e){let r=t&&fo(t,n);return o||r}else return o||n.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),Yv(this.cols))}createAutoCols(){let e=ec(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),o=!(i.length>0||this.gos.get("treeData"))||t||e,r=()=>{this.autoCols&&(Bn(this.context,this.autoCols.tree),this.autoCols=null)};if(o||!this.autoColService){r();return}let s=this.autoColService.createAutoCols(i)??[],a=Zx(s,this.autoCols?.list||null),l=this.cols.treeDepth,d=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&d)return;r();let[u,h]=this.columnFactory.balanceTreeForAutoCols(s,this.cols?.tree);this.autoCols={list:s,tree:u,treeDepth:h,map:{}};let p=g=>{if(!g)return null;let C=g.filter(m=>!Ch(m));return[...s,...C]};this.lastOrder=p(this.lastOrder),this.lastPivotOrder=p(this.lastPivotOrder)}createControlsCols(){Bn(this.context,this.controlsCols?.tree),this.controlsCols=null;let e=this.controlsColService?.createControlsCols()??[],[t,i]=this.columnFactory.balanceTreeForAutoCols(e,this.cols.tree);this.controlsCols={list:e,tree:t,treeDepth:i,map:{}};function n(o,r){let s=mr(o),a=mr(r);return s&&!a?-1:!s&&a?1:0}this.lastOrder?.sort(n),this.lastPivotOrder?.sort(n)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),Yv(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,i){this.columnApplyStateService.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},i)}setColsPinned(e,t,i){if(!this.cols||jt(e))return;if(wt(this.gos,"print")){A("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;t===!0||t==="left"?n="left":t==="right"?n="right":n=null;let o=[];e.forEach(r=>{if(!r)return;let s=this.getCol(r);s&&s.getPinned()!==n&&(s.setPinned(n),o.push(s))}),o.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(o,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let n;Pt(e)?n=e.getId():n=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColGroup(e){let t=null;return mn(null,this.cols?.tree,i=>{Pt(i)&&i.getId()===e&&(t=i)}),t}isColGroupLocked(e){let t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;let n=this.funcColsService.getRowGroupColumns().findIndex(o=>o.getColId()===e.getColId());return t>n}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Xe(this.gos)||fn(this.gos)||A("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){let e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;let t=new Map(e.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>t.has(l)))return;let n=new Map(this.cols.list.map(l=>[l,!0])),o=e.filter(l=>n.has(l)),r=new Map(o.map(l=>[l,!0])),s=this.cols.list.filter(l=>!r.has(l)),a=o.slice();s.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}let d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(g=>{let C=a.indexOf(g)>=0,m=d.indexOf(g)<0;C&&m&&d.push(g)}),c=c.getOriginalParent();if(!d.length){a.push(l);return}let u=d.map(p=>a.indexOf(p)),h=Math.max(...u);Wl(a,l,h+1)}),this.cols.list=a}sortColsLikeKeys(e){if(this.cols==null)return;let t=[],i={};e.forEach(o=>{if(i[o])return;let r=this.cols.map[o];r&&(t.push(r),i[o]=!0)});let n=0;if(this.cols.list.forEach(o=>{let r=o.getColId();if(i[r]!=null)return;r.startsWith(tc)?Wl(t,o,n++):t.push(o)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){A("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(i=>this.cols.list.indexOf(i)<0).length>0||e.sort((i,n)=>{let o=this.cols.list.indexOf(i),r=this.cols.list.indexOf(n);return o-r})}resetColDefIntoCol(e,t){let i=e.getUserProvidedColDef();if(!i)return!1;let n=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(n,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){DC(this.cols?.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;let e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((n,o)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(o)):this.lastOrder&&e.sort((n,o)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(o));let t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(A("Pivot mode not available with treeData."),!1):!0}isPivotActive(){let e=this.funcColsService.getPivotColumns();return this.pivotMode&&!jt(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){Bn(this.context,this.colDefCols?.tree),Bn(this.context,this.autoCols?.tree),Bn(this.context,this.controlsCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){let t=this.pivotResultColsService.getPivotResultCols()?.list;return[this.colDefCols?.list??[],this.autoCols?.list??[],this.controlsCols?.list??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;let{map:i,list:n}=t;if(typeof e=="string"&&i[e])return i[e];for(let o=0;o<n.length;o++)if(Qv(n[o],e))return n[o];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols?.list.find(t=>Qv(t,e))??null}getAutoCols(){return this.autoCols?.list??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){let e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(let i of t){if(!i)continue;let n=i.getGroupRowCount()||0;for(let o=0;o<n;o++){let r=i.getGroupRowCtrlAtIndex(o),s=e[o];if(r){let a=this.getColumnGroupHeaderRowHeight(r);(s==null||a>s)&&(e[o]=a)}}}return e}getColumnGroupHeaderRowHeight(e){let t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight(),i=0,n=e.getHeaderCtrls();for(let o of n){let r=o.getColumn();if(r.isAutoHeaderHeight()){let s=r.getAutoHeaderHeight();s!=null&&s>i&&(i=s)}}return Math.max(t,i)}getColumnHeaderRowHeight(){let e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,i){if(typeof e=="string"||typeof t=="string")return;let n=t?pr(t):void 0,o=e?pr(e):void 0,r=n!==o,s=t?zl(t):void 0,a=e?zl(e):void 0;(r||s!==a)&&this.refreshAll(i)}};function uo(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function Yv(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Qv(e,t){let i=e===t,n=e.getColDef()===t,o=e.getColId()==t;return i||n||o}function Zx(e,t){return Un(e,t,(i,n)=>i.getColId()===n.getColId())}var Xx=class extends T{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}let{colKeys:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:o,source:r="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;let s=[],a=-1,l=i??this.gos.get("skipHeaderOnAutoSize"),c=n??l;for(;a!==0;){a=0;let d=[];t.forEach(u=>{if(!u)return;let h=this.columnModel.getCol(u);if(!h||s.indexOf(h)>=0)return;let p=this.autoWidthCalculator.getPreferredWidthForColumn(h,l);if(p>0){let g=this.normaliseColumnWidth(h,p);h.setActualWidth(g,r),s.push(h),a++}d.push(h)}),d.length&&this.visibleColsService.refresh(r)}c||this.autoSizeColumnGroupsByColumns(t,r,o),this.eventDispatcher.columnResized(s,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){let n=new Set;this.columnModel.getColsForKeys(e).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||n.add(l),l=l.getParent()});let r,s=[];for(let a of n){for(let l of this.ctrlsService.getHeaderRowContainerCtrls())if(r=l.getHeaderCtrlForColumn(a),r)break;r&&r.resizeLeafColumnsToFit(t)}return s}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}let i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){let i=e.getMinWidth();t<i&&(t=i);let n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},Jx=class extends T{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>Lt(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>Lt(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>Lt(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){let t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);let i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return jt(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;let n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,n)=>this.setRowGroupActive(i,n,t),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(i,n)=>{n.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(i,n)=>this.setValueActive(i,n,t),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){let n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;let n=this.rowGroupCols[e],o=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(o,i)}setColList(e,t,i,n,o,r,s){let a=this.columnModel.getCols();if(jt(a))return;let l=new Map;t.forEach((d,u)=>l.set(d,u)),t.length=0,B(e)&&e.forEach(d=>{let u=this.columnModel.getColDefCol(d);u&&t.push(u)}),t.forEach((d,u)=>{let h=l.get(d);if(h===void 0){l.set(d,0);return}n&&h!==u||l.delete(d)}),(this.columnModel.getColDefCols()||[]).forEach(d=>{let u=t.indexOf(d)>=0;r(u,d)}),o&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(s),this.eventDispatcher.columnChanged(i,[...l.keys()],s)}updateColList(e,t,i,n,o,r,s){if(!e||jt(e))return;let a=!1,l=new Set;e.forEach(c=>{if(!c)return;let d=this.columnModel.getColDefCol(c);if(d){if(l.add(d),i){if(t.indexOf(d)>=0)return;t.push(d)}else{let u=t.indexOf(d);if(u<0)return;for(let h=u+1;h<t.length;h++)l.add(t[h]);Lt(t,d)}o(d),a=!0}}),a&&(n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(s),this.eventDispatcher.genericColumnEvent(r,Array.from(l),s))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(i,n)=>i.setValueActive(n,e),()=>{},()=>{},i=>{let n=i.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueCols.forEach(i=>{let n=i.getColDef();n.aggFunc!=null&&n.aggFunc!=""?i.setAggFunc(n.aggFunc):i.getAggFunc()||i.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(i,n)=>i.setRowGroupActive(n,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(i,n)=>i.setPivotActive(n,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(e=[],t=[],i,n,o,r,s){let a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(h=>{let p=e.indexOf(h)<0,g=h.getColDef(),C=ph(r(g)),m=ph(s(g)),x=go(n(g)),R=go(o(g)),D;C!==void 0?D=C:x!==void 0?x===null?D=!1:D=x>=0:p?m!==void 0?D=m:R!==void 0?D=R!=null&&R>=0:D=!1:D=t.indexOf(h)>=0,D&&((p?x!=null||R!=null:x!=null)?a.push(h):l.push(h))});let d=h=>{let p=n(h.getColDef()),g=o(h.getColDef());return p??g};a.sort((h,p)=>{let g=d(h),C=d(p);return g===C?0:g<C?-1:1});let u=[].concat(a);return t.forEach(h=>{l.indexOf(h)>=0&&u.push(h)}),l.forEach(h=>{u.indexOf(h)<0&&u.push(h)}),t.forEach(h=>{u.indexOf(h)<0&&i(h,!1)}),u.forEach(h=>{t.indexOf(h)<0&&i(h,!0)}),u}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={},n=(o,r,s,a,l,c)=>{let d=this.columnModel.getColDefCols();if(!r.length||!d)return[];let u=Object.keys(o),h=new Set(u),p=new Set(u),g=new Set(r.map(X=>{let te=X.getColId();return p.delete(te),te}).concat(u)),C=[],m={},x=0;for(let X=0;X<d.length;X++){let te=d[X].getColId();g.has(te)&&(C.push(te),m[te]=x++)}let R=1e3,D=!1,N=0,re=X=>{let te=m[X];for(let de=N;de<te;de++){let ye=C[de];p.has(ye)&&(o[ye][l]=R++,p.delete(ye))}N=te};r.forEach(X=>{let te=X.getColId();if(h.has(te))re(te),o[te][l]=R++;else{let de=X.getColDef();(de[l]===null||de[l]===void 0&&de[c]==null)&&(D||(de[s]||de[s]===void 0&&de[a]?re(te):(p.forEach(on=>{o[on][l]=R+m[on]}),R+=C.length,D=!0)),i[te]||(i[te]={colId:te}),i[te][l]=R++)}})};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},eE=class extends T{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){let i=this.columnModel.getColDefCols()||[];if(jt(i))return!1;if(e&&e.state&&!e.state.forEach)return A("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;let n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),o=(a,l,c)=>{let d=this.compareColumnStatesAndDispatchEvents(t),u=l.slice(),h={},p={},g=[],C=[],m=0,x=this.funcColsService.getRowGroupColumns().slice(),R=this.funcColsService.getPivotColumns().slice();a.forEach(X=>{let te=X.colId||"";if(te.startsWith(tc)){g.push(X),C.push(X);return}let ye=c(te);ye?(this.syncColumnWithStateItem(ye,X,e.defaultState,h,p,!1,t,n),Lt(u,ye)):(C.push(X),m+=1)});let D=X=>this.syncColumnWithStateItem(X,null,e.defaultState,h,p,!1,t,n);u.forEach(D),this.funcColsService.sortRowGroupColumns(Zv.bind(this,h,x)),this.funcColsService.sortPivotColumns(Zv.bind(this,p,R)),this.columnModel.refreshCols(!1);let re=(this.columnModel.getAutoCols()||[]).slice();return g.forEach(X=>{let te=this.columnModel.getAutoCol(X.colId);Lt(re,te),this.syncColumnWithStateItem(te,X,e.defaultState,null,null,!0,t,n)}),re.forEach(D),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),d(),{unmatchedAndAutoStates:C,unmatchedCount:m}};this.columnAnimationService.start();let{unmatchedAndAutoStates:r,unmatchedCount:s}=o(e.state||[],i,a=>this.columnModel.getColDefCol(a));if(r.length>0||B(e.defaultState)){let l=this.pivotResultColsService.getPivotResultCols()?.list;s=o(r,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),s===0}resetColumnState(e){let t=this.columnModel.getColDefCols();if(jt(t))return;let i=this.columnModel.getColDefColTree(),n=Vh(i),o=[],r=1e3,s=1e3,a=[],l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),n&&(a=a.concat(n)),a.forEach(c=>{let d=this.getColumnStateFromColDef(c);Fe(d.rowGroupIndex)&&d.rowGroup&&(d.rowGroupIndex=r++),Fe(d.pivotIndex)&&d.pivot&&(d.pivotIndex=s++),o.push(d)}),this.applyColumnState({state:o,applyOrder:!0},e)}getColumnStateFromColDef(e){let t=(g,C)=>g??C??null,i=e.getColDef(),n=t(i.sort,i.initialSort),o=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),s=t(i.pinned,i.initialPinned),a=t(i.width,i.initialWidth),l=t(i.flex,i.initialFlex),c=t(i.rowGroupIndex,i.initialRowGroupIndex),d=t(i.rowGroup,i.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let u=t(i.pivotIndex,i.initialPivotIndex),h=t(i.pivot,i.initialPivot);u==null&&(h==null||h==!1)&&(u=null,h=null);let p=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:o,hide:r,pinned:s,width:a,flex:l,rowGroup:d,rowGroupIndex:c,pivot:h,pivotIndex:u,aggFunc:p}}syncColumnWithStateItem(e,t,i,n,o,r,s,a){if(!e)return;let l=(N,re)=>{let X={value1:void 0,value2:void 0},te=!1;return t&&(t[N]!==void 0&&(X.value1=t[N],te=!0),B(re)&&t[re]!==void 0&&(X.value2=t[re],te=!0)),!te&&i&&(i[N]!==void 0&&(X.value1=i[N]),B(re)&&i[re]!==void 0&&(X.value2=i[re])),X},c=l("hide").value1;c!==void 0&&e.setVisible(!c,s);let d=l("pinned").value1;d!==void 0&&e.setPinned(d);let u=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),h=l("flex").value1;if(h!==void 0&&e.setFlex(h),h==null){let N=l("width").value1;N!=null&&u!=null&&N>=u&&e.setActualWidth(N,s)}let p=l("sort").value1;p!==void 0&&(p==="desc"||p==="asc"?e.setSort(p,s):e.setSort(void 0,s));let g=l("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),r||!e.isPrimary())return;let C=l("aggFunc").value1;C!==void 0&&(typeof C=="string"?(e.setAggFunc(C),e.isValueActive()||(e.setValueActive(!0,s),a.addValueCol(e))):(B(C)&&A("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),a.removeValueCol(e))));let{value1:m,value2:x}=l("rowGroup","rowGroupIndex");(m!==void 0||x!==void 0)&&(typeof x=="number"||m?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),a.addGroupCol(e)),n&&typeof x=="number"&&(n[e.getId()]=x)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),a.removeGroupCol(e)));let{value1:R,value2:D}=l("pivot","pivotIndex");(R!==void 0||D!==void 0)&&(typeof D=="number"||R?(e.isPivotActive()||(e.setPivotActive(!0,s),a.addPivotCol(e)),o&&typeof D=="number"&&(o[e.getId()]=D)):e.isPivotActive()&&(e.setPivotActive(!1,s),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;let t=[];e.state.forEach(i=>{i.colId!=null&&t.push(i.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){let t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),n={};return i.forEach(o=>{n[o.colId]=o}),()=>{let o=this.columnModel.getAllCols(),r=(C,m,x,R)=>{let D=m.map(R),N=x.map(R);if(Un(D,N))return;let X=new Set(m);x.forEach(de=>{X.delete(de)||X.add(de)});let te=[...X];this.eventService.dispatchEvent({type:C,columns:te,column:te.length===1?te[0]:null,source:e})},s=C=>{let m=[];return o.forEach(x=>{let R=n[x.getColId()];R&&C(R,x)&&m.push(x)}),m},a=C=>C.getColId();r("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),r("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);let c=s((C,m)=>{let x=C.aggFunc!=null,R=x!=m.isValueActive(),D=x&&C.aggFunc!=m.getAggFunc();return R||D});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,e);let d=(C,m)=>C.width!=m.getActualWidth();this.eventDispatcher.columnResized(s(d),!0,e);let u=(C,m)=>C.pinned!=m.getPinned();this.eventDispatcher.columnPinned(s(u),e);let h=(C,m)=>C.hide==m.isVisible();this.eventDispatcher.columnVisible(s(h),e);let g=s((C,m)=>C.sort!=m.getSort()||C.sortIndex!=m.getSortIndex());g.length>0&&this.sortController.dispatchSortChangedEvents(e,g),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){let i=this.columnGetStateService.getColumnState(),n={};i.forEach(l=>n[l.colId]=l);let o={};e.forEach(l=>{n[l.colId]&&(o[l.colId]=!0)});let r=e.filter(l=>o[l.colId]),s=i.filter(l=>o[l.colId]),a=[];s.forEach((l,c)=>{let d=r&&r[c];if(d&&d.colId!==l.colId){let u=this.columnModel.getCol(d.colId);u&&a.push(u)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},Zv=(e,t,i,n)=>{let o=e[i.getId()],r=e[n.getId()],s=o!=null,a=r!=null;if(s&&a)return o-r;if(s)return-1;if(a)return 1;let l=t.indexOf(i),c=t.indexOf(n),d=l>=0,u=c>=0;return d&&u?l-c:d?-1:1},tE=class extends T{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){let n=this.columnModel.getCols();if(!n)return;let o=n[e];this.moveColumns([o],t,i)}moveColumns(e,t,i,n=!0){let o=this.columnModel.getCols();if(!o)return;if(t>o.length-e.length){A("tried to insert columns in invalid location, toIndex = ",t),A("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();let r=this.columnModel.getColsForKeys(e);this.doesMovePassRules(r,t)&&(this.columnModel.moveInCols(r,t,i),this.eventDispatcher.columnMoved({movedColumns:r,source:i,toIndex:t,finished:n})),this.columnAnimationService.finish()}doesMovePassRules(e,t){let i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){let n=this.columnModel.getCols().slice();return DC(n,e,t),n}doesMovePassLockedPositions(e){let t=r=>r?r==="left"||r===!0?-1:1:0,i=this.gos.get("enableRtl"),n=i?1:-1,o=!0;return e.forEach(r=>{let s=t(r.getColDef().lockPosition);i?s>n&&(o=!1):s<n&&(o=!1),n=s}),o}doesMovePassMarryChildren(e){let t=!0,i=this.columnModel.getColTree();return mn(null,i,n=>{if(!Pt(n))return;let o=n,r=o.getColGroupDef();if(!(r&&r.marryChildren))return;let a=[];o.getLeafColumns().forEach(h=>{let p=e.indexOf(h);a.push(p)});let l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),d=l-c,u=o.getLeafColumns().length-1;d>u&&(t=!1)}),t}placeLockedColumns(e){let t=[],i=[],n=[];return e.forEach(r=>{let s=r.getColDef().lockPosition;s==="right"?n.push(r):s==="left"||s===!0?t.push(r):i.push(r)}),this.gos.get("enableRtl")?[...n,...i,...t]:[...t,...i,...n]}},iE=/[&<>"']/g,nE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Zi(e,t){if(e==null)return null;let i=e.toString().toString();return t?i:i.replace(iE,n=>nE[n])}function oE(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(o=>o.substring(0,1).toUpperCase()+(o.length>1?o.substring(1,o.length):"")).join(" ")}function rE(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var sE=class extends T{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;let n=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){let n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,o){let r=e.headerValueGetter;if(r){let s=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:o});return typeof r=="function"?r(s):typeof r=="string"?this.expressionService.evaluate(r,s):(A("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return oE(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;let i=e.getColDef().pivotValueColumn,n=B(i),o=null,r;if(n){let s=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&s.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;o=i?i.getAggFunc():null,r=!0}else{let s=e.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();s&&a?(o=e.getAggFunc(),r=!0):r=!1}if(r){let s=typeof o=="string"?o:"func";return`${this.localeService.getLocaleTextFunc()(s,s)}(${t})`}return t}},aE=class extends T{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){Bn(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;let i=this.columnModel.getColDefCol(t),n=null;return this.pivotResultCols.list.forEach(o=>{let r=o.getColDef().pivotKeys,s=o.getColDef().pivotValueColumn;Un(r,e)&&s===i&&(n=o)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);let i=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);Bn(this.context,this.pivotResultCols?.tree,i.columnTree);let n=i.columnTree,o=i.treeDept,r=Vh(n),s={};this.pivotResultCols={tree:n,treeDepth:o,list:r,map:s},this.pivotResultCols.list.forEach(l=>this.pivotResultCols.map[l.getId()]=l);let a=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!a)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){let t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;let n=o=>{o.forEach(r=>{if(B(r.children)){let a=r;i&&i(a),n(a.children)}else t&&t(r)})};e&&n(e)}},lE=class extends T{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,n){let o=[];e.forEach(r=>{let s=this.columnModel.getColDefCol(r.key)||this.columnModel.getCol(r.key);if(!s)return;if(o.push({width:r.newWidth,ratios:[1],columns:[s]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){let l=this.visibleColsService.getColAfter(s);if(!l)return;let c=s.getActualWidth()-r.newWidth,d=l.getActualWidth()+c;o.push({width:d,ratios:[1],columns:[l]})}}),o.length!==0&&this.resizeColumnSets({resizeSets:o,finished:i,source:n})}resizeColumnSets(e){let{resizeSets:t,finished:i,source:n}=e;if(!(!t||t.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(i){let d=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(d,i,n)}return}let r=[],s=[];t.forEach(d=>{let{width:u,columns:h,ratios:p}=d,g={},C={};h.forEach(R=>s.push(R));let m=!0,x=0;for(;m;){if(x++,x>1e3){Oe("infinite loop in resizeColumnSets");break}m=!1;let R=[],D=0,N=u;h.forEach((X,te)=>{if(C[X.getId()])N-=g[X.getId()];else{R.push(X);let ye=p[te];D+=ye}});let re=1/D;R.forEach((X,te)=>{let de=te===R.length-1,ye;de?ye=N:(ye=Math.round(p[te]*u*re),N-=ye);let Ht=X.getMinWidth(),on=X.getMaxWidth();ye<Ht?(ye=Ht,C[X.getId()]=!0,m=!0):on>0&&ye>on&&(ye=on,C[X.getId()]=!0,m=!0),g[X.getId()]=ye})}h.forEach(R=>{let D=g[R.getId()];R.getActualWidth()!==D&&(R.setActualWidth(D,n),r.push(R))})});let a=r.length>0,l=[];a&&(l=this.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());let c=s.concat(l);(a||i)&&this.eventDispatcher.columnResized(c,i,n,l)}checkMinAndMaxWidthsForSet(e){let{columns:t,width:i}=e,n=0,o=0,r=!0;t.forEach(l=>{let c=l.getMinWidth();n+=c||0;let d=l.getMaxWidth();d>0?o+=d:r=!1});let s=i>=n,a=!r||i<=o;return s&&a}refreshFlexedColumns(e={}){let t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let i=this.visibleColsService.getCenterCols(),n=-1;if(e.resizingCols){let h=new Set(e.resizingCols);for(let p=i.length-1;p>=0;p--)if(h.has(i[p])){n=p;break}}let o=0,r=[],s=0,a=0;for(let h=0;h<i.length;h++)i[h].getFlex()&&h>n?(r.push(i[h]),a+=i[h].getFlex(),s+=i[h].getMinWidth()):o+=i[h].getActualWidth();if(!r.length)return[];let l=[];o+s>this.flexViewportWidth&&(r.forEach(h=>h.setActualWidth(h.getMinWidth(),t)),l=r,r=[]);let c=[],d;e:for(;;){d=this.flexViewportWidth-o;let h=d/a;for(let p=0;p<r.length;p++){let g=r[p],C=h*g.getFlex(),m=0,x=g.getMinWidth(),R=g.getMaxWidth();if(C<x?m=x:C>R&&(m=R),m){g.setActualWidth(m,t),RC(r,g),a-=g.getFlex(),l.push(g),o+=g.getActualWidth();continue e}c[p]=Math.floor(C)}break}let u=d;return r.forEach((h,p)=>{let g=p<r.length-1?Math.min(c[p],u):Math.max(c[p],u);h.setActualWidth(g,t),l.push(h),u-=c[p]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,r),r}sizeColumnsToFit(e,t="sizeColumnsToFit",i,n){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,n));return}let o={};n&&n?.columnLimits?.forEach(g=>{var C=g,{key:h}=C,p=ya(C,["key"]);o[typeof h=="string"?h:h.getColId()]=p});let r=this.visibleColsService.getAllCols(),s=e===dn(r);if(e<=0||!r.length||s)return;let a=[],l=[];r.forEach(h=>{h.getColDef().suppressSizeToFit===!0?l.push(h):a.push(h)});let c=a.slice(0),d=!1,u=h=>{Lt(a,h),l.push(h)};for(a.forEach(h=>{h.resetActualWidth(t);let p=o?.[h.getId()],g=p?.minWidth??n?.defaultMinWidth,C=p?.maxWidth??n?.defaultMaxWidth,m=h.getActualWidth();typeof g=="number"&&m<g?h.setActualWidth(g,t,!0):typeof C=="number"&&m>C&&h.setActualWidth(C,t,!0)});!d;){d=!0;let h=e-dn(l);if(h<=0)a.forEach(p=>{let g=o?.[p.getId()]?.minWidth??n?.defaultMinWidth;if(typeof g=="number"){p.setActualWidth(g,t,!0);return}p.setMinimum(t)});else{let p=h/dn(a),g=h;for(let C=a.length-1;C>=0;C--){let m=a[C],x=o?.[m.getId()],R=x?.minWidth??n?.defaultMinWidth,D=x?.maxWidth??n?.defaultMaxWidth,N=m.getMinWidth(),re=m.getMaxWidth(),X=typeof R=="number"&&R>N?R:N,te=typeof D=="number"&&D<re?D:re,de=Math.round(m.getActualWidth()*p);de<X?(de=X,u(m),d=!1):de>te?(de=te,u(m),d=!1):C===0&&(de=g),m.setActualWidth(de,t,!0),g-=de}}}c.forEach(h=>{h.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(c,!0,t)}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){let{columnLimits:i,defaultMinWidth:n,defaultMaxWidth:o}=e,r=i?.map(({colId:s,minWidth:a,maxWidth:l})=>({key:s,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:o,columnLimits:r})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function PC(e,t){return e+"_"+t}function tt(e){return e instanceof AC}var AC=class extends T{constructor(e,t,i,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return PC(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{tt(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=De(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{jn(t)?e.push(t):tt(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{jn(t)?e.push(t):tt(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(tt(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},OC=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},cE=class extends T{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=Ju(this.treeLeft),this.columnsCenter=Ju(this.treeCenter),this.columnsRight=Ju(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){let e=dn(this.columnsCenter),t=dn(this.columnsLeft),i=dn(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?De(this.columnsRight):null):(t=this.columnsLeft?De(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===i,e)})}buildTrees(){let e=this.columnModel.getColsToShow(),t=e.filter(r=>r.getPinned()=="left"),i=e.filter(r=>r.getPinned()=="right"),n=e.filter(r=>r.getPinned()!="left"&&r.getPinned()!="right"),o=new OC;this.treeLeft=this.createGroups({columns:t,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){let e=this.columnModel.getCols(),t=[],i=[],n=[];for(let o of e){let r=o.getPinned();r?r===!0||r==="left"?t.push(o):n.push(o):i.push(o)}this.ariaOrderColumns=t.concat(i).concat(n)}getAriaColIndex(e){let t;return tt(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{tt(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;let i=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(o=>{if(n){let r=dn(o);o.forEach(s=>{r-=s.getActualWidth(),s.setLeft(r,e)})}else{let r=0;o.forEach(s=>{s.setLeft(r,e),r+=s.getActualWidth()})}Lx(i,o)}),i.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,n){let o=[],r=null;for(let s=0;s<t.length;s++){let a=t[s],l=t.length-s,c=Math.min(a.getColSpan(e),l),d=[a];if(c>1){let h=c-1;for(let p=1;p<=h;p++)d.push(t[s+p]);s+=h}let u;i?(u=!1,d.forEach(h=>{i(h)&&(u=!0)})):u=!0,u&&(o.length===0&&r&&(n&&n(a))&&o.push(r),o.push(a)),r=a}return o}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){let t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){let i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),o=t==="After"?De(n):n[0],r=`getCol${t}`;for(;;){let s=this[r](o);if(!s)return null;let a=this.getColGroupAtLevel(s,i);if(a!==e)return a}}getColGroupAtLevel(e,t){let i=e.getParent(),n,o;for(;n=i.getProvidedColumnGroup().getLevel(),o=i.getPaddingLevel(),!(n+o<=t);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};ho(this.treeCenter,!1,e),ho(this.treeLeft,!1,e),ho(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){let e=this.getAllTrees();ho(e,!1,t=>{tt(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){let n=this[t[i]]();if(n.length)return e?De(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(tt(e))return e;let i=this.getAllTrees(),n=typeof t=="number",o=null;return ho(i,!1,r=>{if(tt(r)){let s=r,a;n?a=e===s.getGroupId()&&t===s.getPartId():a=e===s.getGroupId(),a&&(o=s)}}),o}getColAfter(e){let t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return dn(this.columnsLeft)}getDisplayedColumnsRightWidth(){return dn(this.columnsRight)}isColAtEdge(e,t){let i=this.getAllCols();if(!i.length)return!1;let n=t==="first",o;if(tt(e)){let r=e.getDisplayedLeafColumns();if(!r.length)return!1;o=n?r[0]:De(r)}else o=e;return(n?i[0]:De(i))===o}createGroups(e){let{columns:t,idCreator:i,pinned:n,oldDisplayedGroups:o,isStandaloneStructure:r}=e,s=this.mapOldGroupsById(o),a=[],l=t;for(;l.length;){let c=l;l=[];let d=0,u=h=>{let p=d;d=h;let g=c[p],m=(tt(g)?g.getProvidedColumnGroup():g).getOriginalParent();if(m==null){for(let R=p;R<h;R++)a.push(c[R]);return}let x=this.createColGroup(m,i,s,n,r);for(let R=p;R<h;R++)x.addChild(c[R]);l.push(x)};for(let h=1;h<c.length;h++){let p=c[h],C=(tt(p)?p.getProvidedColumnGroup():p).getOriginalParent(),m=c[d],R=(tt(m)?m.getProvidedColumnGroup():m).getOriginalParent();C!==R&&u(h)}d<c.length&&u(c.length)}return r||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,i,n,o){let r=e.getGroupId(),s=t.getInstanceIdForKey(r),a=PC(r,s),l=i[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),B(l)?l.reset():(l=new AC(e,r,s,n),o||this.createBean(l)),l}mapOldGroupsById(e){let t={},i=n=>{n.forEach(o=>{if(tt(o)){let r=o;t[o.getUniqueId()]=r,i(r.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.setParent(t),tt(i)){let n=i;this.setupParentsIntoCols(n.getChildren(),n)}})}};function ho(e,t,i){if(e)for(let n=0;n<e.length;n++){let o=e[n];if(tt(o)){let r=t?o.getDisplayedChildren():o.getChildren();ho(r,t,i)}i(o)}}function Ju(e){let t=[];return ho(e,!0,i=>{jn(i)&&t.push(i)}),t}var LC=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],dE=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],uE=[...LC,...dE],hE={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},_t=class{};_t.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];_t.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];_t.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];_t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];_t.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];_t.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];_t.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];_t.ALL_PROPERTIES=[..._t.ARRAY_PROPERTIES,..._t.OBJECT_PROPERTIES,..._t.STRING_PROPERTIES,..._t.NUMBER_PROPERTIES,..._t.FUNCTION_PROPERTIES,..._t.BOOLEAN_PROPERTIES,..._t.OTHER_PROPERTIES];var Qs=_t,fi=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};fi.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";fi.PUBLIC_EVENTS=LC;fi.EVENT_CALLBACKS=uE.map(e=>fi.getCallbackForEvent(e));fi.BOOLEAN_PROPERTIES=Qs.BOOLEAN_PROPERTIES;fi.ALL_PROPERTIES=Qs.ALL_PROPERTIES;fi.ALL_PROPERTIES_AND_CALLBACKS=[...fi.ALL_PROPERTIES,...fi.EVENT_CALLBACKS];fi.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(fi.ALL_PROPERTIES_AND_CALLBACKS);var Zs=fi;function NC(e,t){typeof e!="object"&&(e={});let i=E({},e);return Zs.ALL_PROPERTIES_AND_CALLBACKS.forEach(o=>{let r=t[o];typeof r<"u"&&r!==Zs.VUE_OMITTED_PROPERTY&&(i[o]=r)}),i}function VC(e,t){if(!e)return;let i={},n=!1;if(Object.keys(e).filter(s=>Zs.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)).forEach(s=>{i[s]=e[s],n=!0}),!n)return;let o={type:"gridOptionsChanged",options:i};t.dispatchEvent(o);let r={type:"componentStateChanged"};pi(i,(s,a)=>{r[s]=a}),t.dispatchEvent(r)}function ta(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var pE=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){let t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){let n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){let t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){let n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){let t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){let n=(e||"").split(" ");if(n.length>1){n.forEach(o=>this.addOrRemoveCssClass(o,t));return}}if(this.cssClassStates[e]!==t&&e.length){let n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}};function vn(e,t,i){i==null||typeof i=="string"&&i==""?HC(e,t):Li(e,t,i)}function Li(e,t,i){e.setAttribute(BC(t),i.toString())}function HC(e,t){e.removeAttribute(BC(t))}function BC(e){return`aria-${e}`}function Ut(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function gE(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function mE(e){return e.getAttribute("aria-label")}function fr(e,t){vn(e,"label",t)}function Xs(e,t){vn(e,"labelledby",t)}function zC(e,t){vn(e,"live",t)}function fE(e,t){vn(e,"atomic",t)}function vE(e,t){vn(e,"relevant",t)}function CE(e,t){vn(e,"disabled",t)}function Gh(e,t){vn(e,"hidden",t)}function jl(e,t){Li(e,"expanded",t)}function bE(e,t){Li(e,"setsize",t)}function wE(e,t){Li(e,"posinset",t)}function yE(e,t){Li(e,"multiselectable",t)}function SE(e,t){Li(e,"rowcount",t)}function GC(e,t){Li(e,"rowindex",t)}function _E(e,t){Li(e,"colcount",t)}function WC(e,t){Li(e,"colindex",t)}function xE(e,t){Li(e,"colspan",t)}function EE(e,t){Li(e,"sort",t)}function RE(e){HC(e,"sort")}function Ul(e,t){vn(e,"selected",t)}function DE(e,t){vn(e,"controls",t.id),Xs(t,e.id)}function Wh(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var eh,Dl,th,ih,nh,oh,yh,Sh,rh;function Ji(){return eh===void 0&&(eh=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),eh}function jC(){if(Dl===void 0)if(Ji()){let e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Dl=e[1]!=null?parseFloat(e[1]):0)}else Dl=0;return Dl}function jh(){if(th===void 0){let e=window;th=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return th}function Uh(){return ih===void 0&&(ih=/(firefox)/i.test(navigator.userAgent)),ih}function UC(){return nh===void 0&&(nh=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),nh}function $n(){return oh===void 0&&(oh=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),oh}function _h(){return!Ji()||jC()>=15}function xh(e){if(!e)return null;let t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!Uh())?null:t.toString()}function IE(){if(rh!==void 0)return rh;if(!document.body)return-1;let e=1e6,t=Uh()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){let n=e*2;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),rh=e,e}function ME(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}function FE(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}function TE(){return Sh==null&&$C(),Sh}function $C(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(Sh=i,yh=i===0)}function KC(){return yh==null&&$C(),yh}var Il;var kE="[tabindex], input, select, button, textarea, [href]",qC="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function $h(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),o=t.call(e,qC),r=Oi(e);return n&&!o&&r}function Ye(e,t,i={}){let{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||Gh(e,!t)}function PE(e,t,i={}){let{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||Gh(e,!t)}function Js(e,t){let i="disabled",n=t?o=>o.setAttribute(i,""):o=>o.removeAttribute(i);n(e),t0(e.querySelectorAll("input"),o=>n(o))}function ur(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++n>i)break}else if(e===i)break}return!1}function yo(e){let{height:t,width:i,borderTopWidth:n,borderRightWidth:o,borderBottomWidth:r,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:d,marginTop:u,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:C}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(u||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:C}}function Kh(e){let t=yo(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function ia(e){let t=yo(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function YC(e){let{height:t,marginBottom:i,marginTop:n}=yo(e);return Math.floor(t+i+n)}function $l(e){let{width:t,marginLeft:i,marginRight:n}=yo(e);return Math.floor(t+i+n)}function QC(e){let t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:o,borderBottomWidth:r}=yo(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(o||0),bottom:t.bottom+(r||0)}}function Kl(){if(typeof Il=="boolean")return Il;let e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,Il=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),Il}function ql(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),jh()&&!Kl()&&(i=e.scrollWidth-e.clientWidth-i)),i}function Yl(e,t,i){i&&(Kl()?t*=-1:(Ji()||jh())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function xt(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function mi(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ZC(e){return!!e.offsetParent}function Oi(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!ZC(e)||window.getComputedStyle(e).visibility!=="visible")}function ea(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function XC(e,t,i){i&&i.nextSibling===t||(i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function JC(e,t){for(let i=0;i<t.length;i++){let n=t[i],o=e.children[i];o!==n&&e.insertBefore(n,o)}}function AE(e,t,i){i?i.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function e0(e,t){if(t)for(let[i,n]of Object.entries(t)){if(!i||!i.length||n==null)continue;let o=rE(i),r=n.toString(),s=r.replace(/\s*!important/g,""),a=s.length!=r.length?"important":void 0;e.style.setProperty(o,s,a)}}function OE(e){return e.clientWidth<e.scrollWidth}function LE(e){return e.clientHeight<e.scrollHeight}function Ql(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Ai(e,t)}function Ai(e,t){t=qh(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Ws(e,t){t=qh(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function qh(e){return typeof e=="number"?`${e}px`:e}function Yh(e){return e instanceof Node||e instanceof HTMLElement}function NE(e){if(e==null)return[];let t=[];return t0(e,i=>t.push(i)),t}function VE(e,t){if(e)for(let i=0;i<e.length;i++){let n=e[i];t(n.name,n.value)}}function vi(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function t0(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}var vr=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){let e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},HE=1e3,BE=1e3,Xv=100,zE=(()=>{let e=class lo extends T{constructor(i,n,o,r){super(),this.parentComp=i,this.tooltipShowDelayOverride=n,this.tooltipHideDelayOverride=o,this.shouldDisplayTooltip=r,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(i){this.popupService=i.popupService,this.userComponentFactory=i.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let i=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(i,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(i,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(i,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(i,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(i){let n=this.gos.get(i);return n<0&&A(`${i} should not be lower than 0`),Math.max(200,n)}getTooltipDelay(i){return i==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let i=this.gos.get("tooltipTrigger");return!i||i==="hover"?0:1}onMouseEnter(i){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!$n()&&(lo.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(i)},Xv):this.prepareToShowTooltip(i))}onMouseMove(i){this.lastMouseEvent&&(this.lastMouseEvent=i),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(i){let n=i.relatedTarget,o=this.parentComp.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||o.contains(n)||this.interactionEnabled&&r?.contains(n)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(i){if(this.state!=0||lo.isLocked)return;let n=0;i&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=i||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=1}isLastTooltipHiddenRecently(){let i=new Date().getTime(),n=lo.lastTooltipHideTime;return i-n<HE}setToDoNothing(i){!i&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let i=E({},this.parentComp.getTooltipParams());if(!B(i.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;let n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(i).newAgStackInstance().then(n)}hideTooltip(i){!i&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),lo.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),i&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(i,n){if(this.state!==2||this.tooltipInstanceCount!==i){this.destroyBean(n);return}let r=n.getGui();this.tooltipComp=n,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");let s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:r,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let l=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:l,columnMoved:l})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let i=this.tooltipComp?.getGui(),n=Qe(this.gos);return!!i&&i.contains(n)}onTooltipFocusOut(i){let n=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,n.contains(i.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let i={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(ce(E({},i),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(ce(E({},i),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let i=this.tooltipPopupDestroyFunc,n=this.tooltipComp,o=this.tooltipTrigger===0?BE:0;window.setTimeout(()=>{i(),this.destroyBean(n)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(i=>{i&&i()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){lo.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},Xv)}unlockService(){lo.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};return e.isLocked=!1,e})(),GE=zE,wr=class extends T{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){let t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(this.tooltipManager!=null)return;let e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new GE(e,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){let e=this.ctrl,t=e.getColumn?.(),i=e.getColDef?.(),n=e.getRowNode?.();return{location:e.getLocation(),colDef:i,column:t,rowIndex:e.getRowIndex?.(),node:n,data:n?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},WE=new vr,Z=null,ke=class i0 extends T{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=WE.next(),this.cssClassManager=new pE(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){let{newTooltipText:i,showDelayOverride:n,hideDelayOverride:o,location:r,shouldDisplayTooltip:s}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);let a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new wr({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>r??"UNKNOWN",getColDef:t?.getColDef,getColumn:t?.getColumn,getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:o!=null?()=>o:void 0,shouldDisplayTooltip:s})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,n,o=null){if(i===void 0&&(i=this.getDataRefAttribute(t)),i){let r=this[i];if(r===Z)this[i]=o??t;else{let s=n&&n[i];!this.suppressDataRefValidation&&!s&&A(`Issue with data-ref: ${i} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(t,i){NE(t.childNodes).forEach(o=>{if(!(o instanceof HTMLElement))return;let r=this.createComponentFromElement(o,s=>{s.getGui()&&this.copyAttributesFromNode(o,s.getGui())},i);if(r){if(r.addItems&&o.children.length){this.createChildComponentsFromTags(o,i);let s=Array.prototype.slice.call(o.children);r.addItems(s)}this.swapComponentForNode(r,t,o)}else o.childNodes&&this.createChildComponentsFromTags(o,i)})}createComponentFromElement(t,i,n){let o=t.nodeName,r=this.getDataRefAttribute(t),s=o.indexOf("AG-")===0,a=s?this.componentSelectors.get(o):null,l=null;if(a){i0.elementGettingCreated=t;let c=n&&r?n[r]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,i)}else s&&A(`Missing selector: ${o}`);return this.applyElementsToComponent(t,r,n,l),l}copyAttributesFromNode(t,i){VE(t.attributes,(n,o)=>i.setAttribute(n,o))}swapComponentForNode(t,i,n){let o=t.getGui();i.replaceChild(o,n),i.insertBefore(document.createComment(n.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){let i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",i.toString()))}setTemplate(t,i,n){let o=ea(t);this.setTemplateFromElement(o,i,n)}setTemplateFromElement(t,i,n,o=!1){if(this.eGui=t,this.suppressDataRefValidation=o,i)for(let r=0;r<i.length;r++){let s=i[r];this.componentSelectors.set(s.selector,s)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let n=i;return t==null?null:(n||(n=this.eGui),Yh(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,i){let{element:n,parent:o}=this.getContainerAndElement(t,i)||{};!n||!o||o.insertAdjacentElement("afterbegin",n)}appendChild(t,i){let{element:n,parent:o}=this.getContainerAndElement(t,i)||{};!n||!o||o.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;let{skipAriaHidden:n}=i;PE(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;let{skipAriaHidden:n}=i;Ye(this.eGui,t,{skipAriaHidden:n});let o={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(o)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,n){this.eGui.addEventListener(t,i,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},n0={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},jE=(()=>{let e=new Set(Object.values(n0));return e.add("eye"),e})();function UE(e,t,i){let n=ni(e,t,i);if(n){let{className:r}=n;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return n}let o=document.createElement("span");return o.appendChild(n),o}function ni(e,t,i,n){let o=null,r=i&&i.getColDef().icons;if(r&&(o=r[e]),t&&!o){let s=t.get("icons");s&&(o=s[e])}if(o){let s;if(typeof o=="function")s=o();else if(typeof o=="string")s=o;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return ea(s);if(Yh(s))return s;A("iconRenderer should return back a string or a dom object")}else{let s=document.createElement("span"),a=n0[e]??(jE.has(e)?e:void 0);return a||(n?a=e:(A(`Did not find icon ${e}`),a="")),s.setAttribute("class",`ag-icon ag-icon-${a}`),s.setAttribute("unselectable","on"),Ut(s,"presentation"),s}}var $E=class extends ke{constructor(){super(...arguments),this.dragSource=null,this.eIcon=Z,this.eLabel=Z}postConstruct(){let e=t=>UE(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){xt(this.eIcon);let i=null;e||(e=this.dragSource?.getDefaultIconName?this.dragSource?.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eIcon.appendChild(i)}setLabel(e){this.eLabel.textContent=Zi(e)}};function o0(e,t,i){if(i===0)return!1;let n=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(n,o)<=i}var zn=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Cr,this.eElement=e,this.preventMouseClick=t;let i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let t=this.touchStart;window.setTimeout(()=>{let i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;let n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);if(!t)return;!o0(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function Ls(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var KE=`<span class="ag-sort-indicator-container">
        ${Ls("Order","order")}
        ${Ls("Asc","ascending-icon")}
        ${Ls("Desc","descending-icon")}
        ${Ls("Mixed","mixed-icon")}
        ${Ls("None","none-icon")}
    </span>`,Qh=class extends ke{constructor(e){super(),this.eSortOrder=Z,this.eSortAsc=Z,this.eSortDesc=Z,this.eSortMixed=Z,this.eSortNone=Z,e||this.setTemplate(KE)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,n,o){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=o}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let i=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;let n=ni(e,this.gos,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){let t=e==="asc";Ye(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){let t=e==="desc";Ye(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){let t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=e==null;Ye(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);let e=this.column.getColDef().showRowGroup;Qi(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){let e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Ye(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;let e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some(o=>this.sortController.getDisplaySortIndexForColumn(o)??!1),n=t>=0&&i;Ye(this.eSortOrder,n,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():xt(this.eSortOrder)}},qE={selector:"AG-SORT-INDICATOR",component:Qh},YE=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,Eh=class extends ke{constructor(){super(...arguments),this.eFilter=Z,this.eFilterButton=Z,this.eSortIndicator=Z,this.eMenu=Z,this.eLabel=Z,this.eText=Z,this.eSortOrder=Z,this.eSortAsc=Z,this.eSortDesc=Z,this.eSortMixed=Z,this.eSortNone=Z,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){let t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??YE;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[qE]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;let t=Zi(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(t==null)return;let n=ni(e,this.gos,i);n&&t.appendChild(n)}setupTap(){let{gos:e}=this;if(e.get("suppressTouch"))return;let t=new zn(this.getGui(),!0),i=this.shouldSuppressMenuHide(),n=i&&B(this.eMenu),o=n?new zn(this.eMenu,!0):t;if(this.params.enableMenu){let r=n?"tap":"longTap",s=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(o,{[r]:s})}if(this.params.enableSorting){let r=s=>{let a=s.touchStart.target;i&&(this.eMenu?.contains(a)||this.eFilterButton?.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:r})}if(this.params.enableFilterButton){let r=new zn(this.eFilterButton,!0);this.addManagedListeners(r,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>r.destroy())}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>o.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){mi(this.eMenu),this.eMenu=void 0;return}let e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){let t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Qh(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{let i=this.params.column.isMoving(),o=new Date().getTime()-this.lastMovingChanged<50;if(!(i||o)){let a=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(a)}}});let e=()=>{let t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){let o=!this.funcColsService.getSourceColumnsForGroupColumn(this.params.column)?.every(r=>this.params.column.getSort()==r.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",o)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,i){if(!e)return mi(t),!1;let n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:i}),i(),!0}onFilterChangedIcon(){let e=this.params.column.isFilterActive();Ye(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},QE=class extends ke{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=Z,this.agClosed=Z,this.agLabel=Z}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&A("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);let e=o=>{if(pn(o))return;let r=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),r,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);let t=o=>{gr(o)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();let i=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){let i=new zn(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){let t=this.params.columnGroup.isExpanded();Ye(this.agOpened,t),Ye(this.agClosed,!t)}else Ye(this.agOpened,!1),Ye(this.agClosed,!1)}addInIcon(e,t){let i=ni(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Ye(this.agOpened,!1),Ye(this.agClosed,!1);return}}setupLabel(){let{displayName:e,columnGroup:t}=this.params;if(B(e)){let i=Zi(e,!0);this.agLabel.textContent=i}this.addOrRemoveCssClass("ag-sticky-label",!t.getColGroupDef()?.suppressStickyLabel)}},ZE="\u2191",XE="\u2193",JE=class extends ke{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");let i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){let i=Math.abs(t),n=e.formatValue(i),o=B(n)?n:i,r=t>=0;r?this.eDelta.textContent=ZE+o:this.eDelta.textContent=XE+o,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),xt(this.eDelta)}refresh(e,t=!1){let i=e.value;if(i===this.lastValue||(B(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:B(e.value)?this.eValue.textContent=i:xt(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){let n=i-this.lastValue;this.showDelta(e,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},eR=class extends ke{constructor(){super(),this.refreshCount=0;let e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let i=e.value;return Fe(i)&&(i=""),i===this.lastValue||this.filterManager?.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=i,B(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:B(e.value)?this.eCurrent.textContent=i:xt(this.eCurrent),!0)}},P=(()=>{let e=class{};return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e.A="KeyA",e.C="KeyC",e.D="KeyD",e.V="KeyV",e.X="KeyX",e.Y="KeyY",e.Z="KeyZ",e})(),tR=class extends ke{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:o}=this.config;o!=null&&this.setDisabled(o),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){xt(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Ye(this.eLabel,!1),Ut(this.eLabel,"presentation")):(Ye(this.eLabel,!0),Ut(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Ql(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return Js(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},r0=class extends tR{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||mE(e)!==null?Xs(e,""):Xs(e,t??"")}setAriaLabel(e){return fr(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Ai(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},po=class extends r0{constructor(e,t,i="text",n="input"){super(e,e?.template??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=n,this.eLabel=Z,this.eWrapper=Z,this.eInput=Z}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;let{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Ql(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return vi(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return fr(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Js(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)vi(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";vi(this.eInput,"autocomplete",t)}return this}},Zh=class extends po{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});let n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},Xh={selector:"AG-CHECKBOX",component:Zh},iR=class extends ke{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Xh]),this.eCheckbox=Z}init(e){this.refresh(e);let t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),zC(t,"polite"),this.addManagedListeners(t,{click:i=>{if(gr(i),this.eCheckbox.isDisabled())return;let n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:i=>{gr(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===P.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Qe(this.gos)&&this.eCheckbox.toggle();let n=this.eCheckbox.getValue();this.onCheckboxChanged(n),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{let a=e.column.getColId();a.startsWith(tc)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[a]!==void 0?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);let n=e.disabled!=null?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(n);let o=this.localeService.getLocaleTextFunc(),r=Wh(o,t),s=n?r:`${o("ariaToggleCellValue","Press SPACE to toggle cell value")} (${r})`;this.eCheckbox.setInputAriaLabel(s)}onCheckboxChanged(e){let{column:t,node:i,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n});let o=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t?.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:o}),o||this.updateCheckbox(this.params)}},nR=class extends ke{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=Z,this.eLoadingText=Z}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){let e=ni("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);let t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},oR=class extends ke{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){let t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Xs(e.eParentOfValue)),Xs(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){let e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");let t=e("ariaSkeletonCellLoadingFailed","Row failed to load");fr(this.getGui(),t)}setupLoading(e){let i=it(this.gos).createElement("div");i.classList.add("ag-skeleton-effect");let n=e.node.rowIndex;if(n!=null){let s=75+25*(n%2===0?Math.sin(n):Math.cos(n));i.style.width=`${s}%`}this.getGui().appendChild(i);let r=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");fr(this.getGui(),r)}refresh(e){return!1}destroy(){super.destroy()}},s0=class extends ke{constructor(){super()}destroy(){super.destroy()}},rR=class extends s0{init(){let e=hn(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){let t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},sR=class extends s0{init(){let e=hn(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){let t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}},yr=class extends ke{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},aR=class extends yr{constructor(){super('<div class="ag-tooltip"></div>')}init(e){let{value:t}=e;this.getGui().textContent=Zi(t,!0)}};function lR(e,t,i){let n={},o=e.filter(r=>!t.some(s=>s===r));return o.length>0&&o.forEach(r=>n[r]=a0(r,i).values),n}function a0(e,t,i,n){let o=t.map((a,l)=>({value:a,relevance:cR(e.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(o.sort((a,l)=>l.relevance-a.relevance),i&&(o=o.filter(a=>a.relevance!==0)),o.length>0&&n&&n>0){let l=o[0].relevance*n;o=o.filter(c=>l-c.relevance<0)}let r=[],s=[];for(let a of o)r.push(a.value),s.push(a.idx);return{values:r,indices:s}}function cR(e,t){let i=e.replace(/\s/g,""),n=t.replace(/\s/g,""),o=0,r=-1;for(let s=0;s<i.length;s++){let a=n.indexOf(i[s],r+1);a!==-1&&(r=a,o+=100-r*100/1e4*100)}return o}var dR=class extends T{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:$E,agColumnHeader:Eh,agColumnGroupHeader:QE,agSortIndicator:Qh,agAnimateShowChangeCellRenderer:JE,agAnimateSlideCellRenderer:eR,agLoadingCellRenderer:nR,agSkeletonCellRenderer:oR,agCheckboxCellRenderer:iR,agLoadingOverlay:rR,agNoRowsOverlay:sR,agTooltipComponent:aR},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){let e=this.gos.get("components");e!=null&&pi(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t,i){this.agGridDefaults[e]=t,i&&(this.agGridDefaultParams[e]=i)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){let i=(a,l,c)=>({componentFromFramework:l,component:a,params:c}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(n!=null)return i(n,!0);let o=this.jsComps[t];if(o){let a=this.getFrameworkOverrides().isFrameworkComponent(o);return i(o,a)}let r=this.agGridDefaults[t];if(r)return i(r,!1,this.agGridDefaultParams[t]);let s=this.enterpriseAgDefaultCompsModule[t];return s?this.gos.assertModuleRegistered(s,`AG Grid '${e}' component: ${t}`):Ph(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){let i=[...Object.keys(this.agGridDefaults).filter(o=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(o)),...Object.keys(this.jsComps)],n=a0(t,i,!0,.8).values;A(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&A(`         Did you mean: [${n.slice(0,3)}]?`),A(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},ii=class Bs{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new Bs(i=>{let n=t.length,o=new Array(n);t.forEach((r,s)=>{r.then(a=>{o[s]=a,n--,n===0&&i(o)})})}):Bs.resolve()}static resolve(t=null){return new Bs(i=>i(t))}then(t){return new Bs(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},uR={propertyName:"dateComponent",cellRenderer:!1},hR={propertyName:"dragAndDropImageComponent",cellRenderer:!1},pR={propertyName:"headerComponent",cellRenderer:!1},gR={propertyName:"headerGroupComponent",cellRenderer:!1},Jv={propertyName:"cellRenderer",cellRenderer:!0},mR={propertyName:"cellRenderer",cellRenderer:!1},fR={propertyName:"loadingCellRenderer",cellRenderer:!0},vR={propertyName:"cellEditor",cellRenderer:!1},eC={propertyName:"innerRenderer",cellRenderer:!0},CR={propertyName:"loadingOverlayComponent",cellRenderer:!1},bR={propertyName:"noRowsOverlayComponent",cellRenderer:!1},wR={propertyName:"tooltipComponent",cellRenderer:!1},Jh={propertyName:"filter",cellRenderer:!1},yR={propertyName:"floatingFilterComponent",cellRenderer:!1},SR={propertyName:"toolPanel",cellRenderer:!1},_R={propertyName:"statusPanel",cellRenderer:!1},xR={propertyName:"fullWidthCellRenderer",cellRenderer:!0},ER={propertyName:"loadingCellRenderer",cellRenderer:!0},RR={propertyName:"groupRowRenderer",cellRenderer:!0},DR={propertyName:"detailCellRenderer",cellRenderer:!0},IR={propertyName:"menuItem",cellRenderer:!1},l0=class c0 extends T{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,hR,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,i){return this.getCompDetails(t,pR,"agColumnHeader",i)}getHeaderGroupCompDetails(t){let i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,gR,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,xR,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,ER,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,RR,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,DR,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,eC,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,eC,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,Jv,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,mR,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,fR,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,vR,"agCellEditor",i,!0)}getFilterDetails(t,i,n){return this.getCompDetails(t,Jh,n,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,uR,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,CR,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,bR,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,wR,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,Jv,null,i)}getFloatingFilterCompDetails(t,i,n){return this.getCompDetails(t,yR,n,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,SR,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,_R,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,IR,"agMenuItem",i,!0)}getCompDetails(t,i,n,o,r=!1){let{propertyName:s,cellRenderer:a}=i,{compName:l,jsComp:c,fwComp:d,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:p}=c0.getCompKeys(this.frameworkOverrides,t,i,o),g,C=D=>{let N=this.userComponentRegistry.retrieve(s,D);N&&(c=N.componentFromFramework?void 0:N.component,d=N.componentFromFramework?N.component:void 0,g=N.params)};if(l!=null&&C(l),c==null&&d==null&&n!=null&&C(n),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(s,c)),!c&&!d){r&&Oe(`Could not find component ${l}, did you forget to configure this component?`);return}let m=this.mergeParamsWithApplicationProvidedParams(t,i,o,u,g),x=c==null,R=c||d;return{componentFromFramework:x,componentClass:R,params:m,type:i,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(R,x,m,i)}}static getCompKeys(t,i,n,o){let{propertyName:r}=n,s,a,l,c,d,u;if(i){let h=i,p=h[r+"Selector"],g=p?p(o):null,C=m=>{typeof m=="string"?s=m:m!=null&&m!==!0&&(t.isFrameworkComponent(m)?l=m:a=m)};g?(C(g.component),c=g.params,d=g.popup,u=g.popupPosition):C(h[r])}return{compName:s,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:u}}newAgStackInstance(t,i,n,o){let r=o.propertyName,s=!i,a;if(s)a=new t;else{let c=this.componentMetadataProvider.retrieve(r);a=this.frameworkComponentWrapper.wrap(t,c.mandatoryMethodList,c.optionalMethodList,o)}let l=this.initComponent(a,n);return l==null?ii.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(t,i,n,o=null,r){let s=this.gos.getGridCommonParams();At(s,n),r&&At(s,r);let a=t,l=a&&a[i.propertyName+"Params"];if(typeof l=="function"){let c=l(n);At(s,c)}else typeof l=="object"&&At(s,l);return At(s,o),s}initComponent(t,i){if(this.createBean(t),t.init!=null)return t.init(i)}};function js(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var MR=(()=>{let e=class He{static register(i){He.__register(i,!0,void 0)}static registerModules(i){He.__registerModules(i,!0,void 0)}static __register(i,n,o){He.runVersionChecks(i),o!==void 0?(He.areGridScopedModules=!0,He.gridModulesMap[o]===void 0&&(He.gridModulesMap[o]={}),He.gridModulesMap[o][i.moduleName]=i):He.globalModulesMap[i.moduleName]=i,He.setModuleBased(n)}static __unRegisterGridModules(i){delete He.gridModulesMap[i]}static __registerModules(i,n,o){He.setModuleBased(n),i&&i.forEach(r=>He.__register(r,n,o))}static isValidModuleVersion(i){let[n,o]=i.version.split(".")||[],[r,s]=He.currentModuleVersion.split(".")||[];return n===r&&o===s}static runVersionChecks(i){He.currentModuleVersion||(He.currentModuleVersion=i.version);let n=o=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${o} Please update all modules to the same version.`;if(i.version?He.isValidModuleVersion(i)||Oe(n(`'${i.moduleName}' is version ${i.version} but the other modules are version ${He.currentModuleVersion}.`)):Oe(n(`'${i.moduleName}' is incompatible.`)),i.validate){let o=i.validate();o.isValid||Oe(`${o.message}`)}}static setModuleBased(i){He.moduleBased===void 0?He.moduleBased=i:He.moduleBased!==i&&(Oe("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Oe("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){He.isBundled=!0}static __assertRegistered(i,n,o){if(this.__isRegistered(i,o))return!0;let r;if(He.isBundled)r=`AG Grid: unable to use ${n} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(He.moduleBased||He.moduleBased===void 0){let s=Object.entries(vC).find(([a,l])=>l===i)?.[0];r=`AG Grid: unable to use ${n} as the ${s} is not registered${He.areGridScopedModules?` for gridId: ${o}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${s} } from '${i}';
    
    ModuleRegistry.registerModules([ ${s} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${n} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Oe(r),!1}static __isRegistered(i,n){return!!He.globalModulesMap[i]||!!He.gridModulesMap[n]?.[i]}static __getRegisteredModules(i){return[...Ol(He.globalModulesMap),...Ol(He.gridModulesMap[i]||{})]}static __getGridRegisteredModules(i){return Ol(He.gridModulesMap[i]??{})||[]}static __isPackageBased(){return!He.moduleBased}};return e.globalModulesMap={},e.gridModulesMap={},e.areGridScopedModules=!1,e})(),un=MR,FR=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach(([t,i])=>{this.beans[t]=i}),e.beanClasses.forEach(t=>{let i=new t;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(i)}),e.derivedBeans?.forEach(t=>{let{beanName:i,bean:n}=t(this);this.beans[i]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{i.preWireBeans?.(this.beans),i.wireBeans?.(this.beans)}),e.forEach(i=>i.preConstruct?.()),t&&e.forEach(t),e.forEach(i=>i.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},TR=class extends FR{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),un.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}};var d0=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(d0||{});var kR=class extends T{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){let i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){let t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Lt(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){if(this.dragSource?.onDragStopped?.(),this.lastDropTarget?.onDragStop){let t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.clearDragAndDropProperties()}onDragCancel(){this.dragSource?.onDragCancelled?.(),this.lastDropTarget?.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){let i=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let o=this.dropTargets.filter(s=>this.isMouseOnDropTarget(e,s)),r=this.findCurrentDropTarget(e,o);if(r!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,i,n,t),this.lastDropTarget!==null&&r===null&&this.dragSource?.onGridExit?.(this.dragItem),this.lastDropTarget===null&&r!==null&&this.dragSource?.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(r,e,i,n,t),r&&this.dragAndDropImageComp){let{comp:s,promise:a}=this.dragAndDropImageComp;s?s.setIcon(r.getIconName?r.getIconName():null):a.then(l=>{l&&l.setIcon(r.getIconName?r.getIconName():null)})}this.lastDropTarget=r}else if(r&&r.onDragging){let s=this.createDropTargetEvent(r,e,i,n,t);r.onDragging(s)}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(let i of t){let{width:n,height:o,left:r,right:s,top:a,bottom:l}=i.getBoundingClientRect();if(n===0||o===0)return!1;let c=e.clientX>=r&&e.clientX<s,d=e.clientY>=a&&e.clientY<l;if(!c||!d)return!1}return!0}isMouseOnDropTarget(e,t){let i=this.getAllContainersFromDropTarget(t),n=!1;for(let s of i)if(this.allContainersIntersect(e,s)){n=!0;break}let{eElement:o,type:r}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:n&&t.isInterestedIn(r,o)}findCurrentDropTarget(e,t){let i=t.length;if(i===0)return null;if(i===1)return t[0];let o=Ys(this.gos).elementsFromPoint(e.clientX,e.clientY);for(let r of o)for(let s of t)if(Vx(this.getAllContainersFromDropTarget(s)).indexOf(r)!==-1)return s;return null}enterDragTargetIfExists(e,t,i,n,o){if(e&&e.onDragEnter){let r=this.createDropTargetEvent(e,t,i,n,o);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,i,n){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){let r=this.createDropTargetEvent(this.lastDropTarget,e,t,i,n);this.lastDropTarget.onDragLeave(r)}let o=this.getDragAndDropImageComponent();o&&o.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){let i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return i.contains(n)}getHorizontalDirection(e){let t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){let t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,n,o){let r=e.getContainer(),s=r.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=t.clientX-s.left,d=t.clientY-s.top;return this.gos.addGridCommonParams({event:t,x:c,y:d,vDirection:n,hDirection:i,dragSource:l,fromNudge:o,dragItem:a,dropZoneTarget:r})}positionDragAndDropImageComp(e){let t=this.getDragAndDropImageComponent();if(!t)return;let i=t.getGui(),o=i.getBoundingClientRect().height,r=ME()-2,s=FE()-2;if(!i.offsetParent)return;let l=QC(i.offsetParent),{clientY:c,clientX:d}=e,u=c-l.top-o/2,h=d-l.left-10,p=it(this.gos),g=p.defaultView||window,C=g.pageYOffset||p.documentElement.scrollTop,m=g.pageXOffset||p.documentElement.scrollLeft;r>0&&h+i.clientWidth>r+m&&(h=r+m-i.clientWidth),h<0&&(h=0),s>0&&u+i.clientHeight>s+C&&(u=s+C-i.clientHeight),u<0&&(u=0),i.style.left=`${h}px`,i.style.top=`${u}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){let{comp:e}=this.dragAndDropImageComp;if(e){let t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){let{dragSource:e}=this;if(!e)return;let i=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(n=>{!n||!this.isAlive()||(this.processDragAndDropImageComponent(n),this.dragAndDropImageComp.comp=n)})}processDragAndDropImageComponent(e){let{dragSource:t,mouseEventService:i,environment:n}=this;if(!t)return;let o=e.getGui();o.style.setProperty("position","absolute"),o.style.setProperty("z-index","9999"),i.stampTopLevelGridCompWithGridInstance(o),n.applyThemeClasses(o),e.setIcon(null);let{dragItemName:r}=t;Ah(r)&&(r=r()),e.setLabel(r||""),o.style.top="20px",o.style.left="20px";let s=it(this.gos),a=null,l=null;try{a=s.fullscreenElement}catch{}finally{a||(a=Ys(this.gos));let c=a.querySelector("body");c?l=c:a instanceof ShadowRoot?l=a:a instanceof Document?l=a?.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(o):A("Could not find document body, it is needed for drag and drop.")}},PR=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){let i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;let n=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<n.left+o,this.tickRight=e.clientX>n.right-o,this.tickUp=e.clientY<n.top+o&&!i,this.tickDown=e.clientY>n.bottom-o&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};var AR=class extends T{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){Xe(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{let t=e.gridBodyCtrl;this.autoScrollService=new PR({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){return!!(this.funcColsService.getRowGroupColumns().length||this.filterManager?.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let n=[...this.selectionService.getSelectedNodes()].sort((o,r)=>o.rowIndex==null||r.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(r));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;let t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){let i=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),o=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){let t=e.getRowIndexString();return parseInt(De(t.split("-")),10)}moveRowAndClearHighlight(e){let t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,o=e.dragItem.rowNodes,r=i?1:0;if(this.isFromThisGrid(e))o.forEach(s=>{s.rowTop<n&&(r-=1)}),this.moveRows(o,n,r);else{let s=br(this.gos),a=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&a--,this.clientSideRowModel.updateRowData({add:o.filter(l=>!this.clientSideRowModel.getRowNode(s?.({data:l.data,level:0,rowPinned:l.rowPinned})??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){A("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){A("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(t.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(t.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(t.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",n))}),e.onDragCancel&&(t.onDragCancel=n=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",n))}));let i=E({isInterestedIn:n=>n===2,getIconName:()=>"move",external:!0},t);this.dragAndDropService.addDropTarget(i),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(i))}getRowDropZone(e){let t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),o=this.onDragging.bind(this),r=this.onDragStop.bind(this),s=this.onDragCancel.bind(this),a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{i(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:i,onDragLeave:e.onDragLeave?l=>{n(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:n,onDragging:e.onDragging?l=>{o(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:o,onDragStop:e.onDragStop?l=>{r(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:r,onDragCancel:e.onDragCancel?l=>{s(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:s,fromGrid:!0}:a={getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:o,onDragStop:r,onDragCancel:s,fromGrid:!0},a}draggingToRowDragEvent(e,t){let i=this.mouseEventService.getNormalisedPosition(t).y,n=i>this.pageBoundsService.getCurrentPageHeight(),o=-1,r;n||(o=this.rowModel.getRowIndexAtPixel(i),r=this.rowModel.getRow(o));let s;switch(t.vDirection){case 1:s="down";break;case 0:s="up";break;default:s=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:o,overNode:r,y:i,vDirection:s})}dispatchGridEvent(e,t){let i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},OR=class extends T{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){let t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){let n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){let t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),Lt(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:o}=e;i.addEventListener("mousedown",t);let r=null,s=this.gos.get("suppressTouch");n&&!s&&(r=a=>{$h(a.target)||(o&&a.stopPropagation(),this.onTouchStart(e,a))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let i=t.touches[0];this.touchLastTime=i,this.touchStart=i;let n=l=>this.onTouchMove(l,e.eElement),o=l=>this.onTouchUp(l,e.eElement),r=l=>{l.cancelable&&l.preventDefault()},s=t.target,a=[{target:Ys(this.gos),type:"touchmove",listener:r,options:{passive:!1}},{target:s,type:"touchmove",listener:n,options:{passive:!0}},{target:s,type:"touchend",listener:o,options:{passive:!0}},{target:s,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){let i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let n=c=>this.onMouseMove(c,e.eElement),o=c=>this.onMouseUp(c,e.eElement),r=c=>c.preventDefault(),s=c=>{c.key===P.ESCAPE&&this.cancelDrag(e.eElement)},a=Ys(this.gos),l=[{target:a,type:"mousemove",listener:n},{target:a,type:"mouseup",listener:o},{target:a,type:"contextmenu",listener:r},{target:a,type:"keydown",listener:s}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{let{target:i,type:n,listener:o,options:r}=t;i.addEventListener(n,o,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{let{target:i,type:n,listener:o,options:r}=t;i.removeEventListener(n,o,r)})})}isEventNearStartEvent(e,t){let{dragStartPixels:i}=this.currentDragParams,n=B(i)?i:4;return o0(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){let i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){Ji()&&it(this.gos).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){let t=this.gos.get("enableCellTextSelection"),i=e.type==="mousemove";return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){return!!e.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventService.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},Rh=class extends ke{constructor(e,t,i,n,o,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=o,this.suppressVisibilityChange=r,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ni("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){let e=this.gos.get("rowDragManaged")?new NR(this,this.beans,this.rowNode,this.column):new LR(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];let t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){let e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&A("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);let i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{let n=this.getDragItem(),o=n.rowNodes?.length||1,r=this.getRowDragText(this.column);return r?r(n,o):o===1?this.cellValueFn():`${o} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},u0=class extends T{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){let t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=Ah(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},LR=class extends u0{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},NR=class extends u0{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),o=this.beans.dragAndDropService.hasExternalDropZones(),r=i&&!o||n;this.setDisplayedOrVisible(r)}},VR=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),HR=(()=>{let e=class Hn{constructor(i){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Hn.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=i}setData(i){this.setDataCommon(i,!1)}updateData(i){this.setDataCommon(i,!0)}setDataCommon(i,n){let o=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();let r=this.createDataChangedEvent(i,o,n);this.localEventService?.dispatchEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(i,n,o){return{type:"dataChanged",node:this,oldData:n,newData:i,update:o}}getRowIndexString(){return this.rowIndex==null?(Oe("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Hn.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Hn.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){let i=new Hn(this.beans);return i.id=this.id,i.data=this.data,i.__daemon=!0,i.selected=this.selected,i.level=this.level,i}setDataAndId(i,n){let o=B(this.id)?this.createDaemonNode():null,r=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(n),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,o);let s=this.createDataChangedEvent(i,r,!1);this.localEventService?.dispatchEvent(s)}checkRowSelectable(){let i=Oh(this.beans.gos);this.setRowSelectable(i?i(this):!0)}setRowSelectable(i,n){if(this.selectable!==i){if(this.selectable=i,this.dispatchRowEvent("selectableChanged"),n)return;if(wo(this.beans.gos)){let r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(i){let n=br(this.beans.gos);if(n)if(this.data){let o=this.parent?.getRoute()??[];this.id=n({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Hn.ID_PREFIX_ROW_GROUP)&&Oe(`Row IDs cannot start with ${Hn.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=i}setRowTop(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.dispatchRowEvent("topChanged"),this.setDisplayed(i!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(i){this.hovered=i}isHovered(){return this.hovered}setMaster(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.dispatchRowEvent("masterChanged"))}setGroup(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(i,n=!1){this.rowHeight=i,this.rowHeightEstimated=n,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(i,n){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[n.getId()]=i,i!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Ot(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let i=!1,n=!0,o=0,r=this.__autoHeights;if(r==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let c=r[l.getId()];if(c==null)if(this.beans.columnModel.isColSpanActive()){let d=[];switch(l.getPinned()){case"left":d=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":d=this.beans.visibleColsService.getRightColsForRow(this);break;case null:d=this.beans.columnViewportService.getColsWithinViewport(this);break}if(d.includes(l)){i=!0;return}c=-1}else{i=!0;return}else n=!1;c>o&&(o=c)}),i)||((n||o<10)&&(o=Gn(this.beans.gos,this).height),o==this.rowHeight))return;this.setRowHeight(o),this.beans.rowModel.onRowHeightChangedDebounced?.()}setExpanded(i,n,o){if(this.expanded===i)return;this.expanded=i,this.dispatchRowEvent("expandedChanged");let r=ce(E({},this.createGlobalRowEvent("rowGroupOpened")),{expanded:i,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r,o),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(i){return this.beans.gos.addGridCommonParams({type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(i,n,o){let s=typeof i!="string"?i:this.beans.columnModel.getCol(i)??this.beans.columnModel.getColDefCol(i),a=this.beans.valueService.getValueForDisplay(s,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:s,colDef:s.getColDef(),data:this.data,node:this,oldValue:a,newValue:n,value:n,source:o}),!1;let l=this.beans.valueService.setValue(this,s,n,o);return this.dispatchCellChangedEvent(s,n,a),this.checkRowSelectable(),l}setGroupValue(i,n){let o=this.beans.columnModel.getCol(i);Fe(this.groupData)&&(this.groupData={});let r=o.getColId(),s=this.groupData[r];s!==n&&(this.groupData[r]=n,this.dispatchCellChangedEvent(o,n,s))}setAggData(i){let n=this.aggData;if(this.aggData=i,this.localEventService){let o=r=>{let s=this.aggData?this.aggData[r]:void 0,a=n?n[r]:void 0;if(s===a)return;let l=this.beans.columnModel.getCol(r);l&&this.dispatchCellChangedEvent(l,s,a)};for(let r in n)o(r);for(let r in i)(!n||!(r in n))&&o(r)}}updateHasChildren(){let i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(fn(this.beans.gos)){let o=this.beans.gos.get("treeData"),r=this.beans.gos.get("isServerSideGroup");i=!this.stub&&!this.footer&&(o?!!r&&r(this.data):!!this.group)}i!==this.__hasChildren&&(this.__hasChildren=!!i,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(i,n,o){let r={type:"cellChanged",node:this,column:i,newValue:n,oldValue:o};this.localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(n=>n.depthFirstSearch(i)),i(this)}calculateSelectedFromChildren(){let i=!1,n=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){let r=this.childrenAfterGroup[o],s=r.isSelected();if(!r.selectable){let a=r.calculateSelectedFromChildren();if(a===null)continue;s=a}switch(s){case!0:i=!0;break;case!1:n=!0;break;default:return}}if(!(i&&n))return i?!0:n?!1:this.selectable?this.selected:null}setSelectedInitialValue(i){this.selected=i}dispatchRowEvent(i){this.localEventService?.dispatchEvent({type:i,node:this})}selectThisNode(i,n,o="api"){let r=!this.selectable&&i,s=this.selected===i;if(r||s)return!1;this.selected=i,this.dispatchRowEvent("rowSelected");let a=this.sibling;return a&&a.footer&&a.localEventService&&a.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent(ce(E({},this.createGlobalRowEvent("rowSelected")),{event:n||null,source:o})),!0}setSelected(i,n=!1,o="api"){if(typeof o=="boolean"){A("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:i,clearSelection:n,rangeSelect:!1,source:o})}setSelectedParams(i){return this.rowPinned?(A("cannot select pinned rows"),0):this.id===void 0?(A("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(ce(E({},i),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return!!this.rowPinned}addEventListener(i,n){this.localEventService||(this.localEventService=new Cr),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new Hh(this.beans.frameworkOverrides));let o=this.frameworkEventListenerService?.wrap(n)??n;this.localEventService.addEventListener(i,o)}removeEventListener(i,n){if(!this.localEventService)return;let o=this.frameworkEventListenerService?.unwrap(n)??n;this.localEventService.removeEventListener(i,o),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(A("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;let i=this.beans.gos.getCallback("isFullWidthRow");return i?i({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let i=[],n=this;for(;n&&n.key!=null;)i.push(n.key),n=n.parent;return i.reverse()}createFooter(){if(this.sibling)return;let i=new Hn(this.beans);Object.keys(this).forEach(n=>{VR.has(n)||(i[n]=this[n])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(i){this.firstChild!==i&&(this.firstChild=i,this.dispatchRowEvent("firstChildChanged"))}setLastChild(i){this.lastChild!==i&&(this.lastChild=i,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(i){this.childIndex!==i&&(this.childIndex=i,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(i){this.displayed!==i&&(this.displayed=i,this.dispatchRowEvent("displayedChanged"))}setDragging(i){this.dragging!==i&&(this.dragging=i,this.dispatchRowEvent("draggingChanged"))}setHighlighted(i){this.highlighted!==i&&(this.highlighted=i,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(i){this.allChildrenCount!==i&&(this.allChildrenCount=i,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(i){this.rowIndex!==i&&(this.rowIndex=i,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(i){this.uiLevel!==i&&(this.uiLevel=i,this.dispatchRowEvent("uiLevelChanged"))}};return e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e})(),gn=HR,BR=class extends T{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){fh(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:i,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):ii.resolve()).then(()=>{let o={source:t,type:"filterChanged",columns:n};i&&At(o,i),this.eventService.dispatchEvent(o),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!fh(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return this.columnFilterService?.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){A("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){this.columnFilterService?.setColDefPropertiesForDataType(e,t,i)}},zR=class extends ke{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??ii.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:i}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(n=>{let o=n.getGui();B(o)||A(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(xt(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},h0="ag-resizer-wrapper",Nn=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,GR=`<div class="${h0}">
        ${Nn("eTopLeft","topLeft")}
        ${Nn("eTop","top")}
        ${Nn("eTopRight","topRight")}
        ${Nn("eRight","right")}
        ${Nn("eBottomRight","bottomRight")}
        ${Nn("eBottom","bottom")}
        ${Nn("eBottomLeft","bottomLeft")}
        ${Nn("eLeft","left")}
    </div>`,WR=class extends T{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:o,height:r,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0,d=Oi(this.element);if(d){let u=this.findBoundaryElement(),h=window.getComputedStyle(u);if(h.minWidth!=null){let p=u.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-p}if(h.minHeight!=null){let p=u.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-p}}if(this.minHeight=o||l,this.minWidth=i||c,n&&this.setWidth(n),r&&this.setHeight(r),(!n||!r)&&this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(d&&t){let u=this.boundaryEl,h=!0;if(u||(u=this.findBoundaryElement(),h=!1),u){let p=parseFloat(u.style.top),g=parseFloat(u.style.left);h?this.offsetElement(isNaN(g)?0:g,isNaN(p)?0:p):this.setPosition(g,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let n=!!e[t],o=this.getResizerElement(t),r={dragStartPixels:0,eElement:o,onDragStart:s=>this.onResizeStart(s,t),onDragging:this.onResize.bind(this),onDragStop:s=>this.onResizeEnd(s,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(r),this.resizeListeners.push(r),o.style.pointerEvents="all"):o.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,i=this.element,n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ws(i,e),e=YC(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let o=this.getAvailableHeight();o&&e>o&&(e=o)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?Ws(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:i}=this.offsetParent;if(!i)return null;let n=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:n.top,s=e?0:o.top,a=0;if(t){let c=this.element.parentElement;if(c){let{bottom:d}=c.getBoundingClientRect();a=d-n.bottom}}return i+s-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:i}=this.config,n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ai(t,e),e=$l(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:o}=this.offsetParent,r=i?this.position.x:this.element.getBoundingClientRect().left;o&&e+r>o&&(e=o-r)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Ai(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:i,isTop:n,anywhereWithin:o,topBuffer:r}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!i,!!o,s)?0:s,c=this.shouldSkipY(t,!!n,r,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,i,n){let o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:o.left,l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=s.right;return l?!0:(t?l=n<0&&e.clientX>a+r.left||n>0&&e.clientX<a+r.left:i?l=n<0&&e.clientX>s.right||n>0&&e.clientX<a+r.left:l=n<0&&e.clientX>s.right||n>0&&e.clientX<s.right,l)}shouldSkipY(e,t,i=0,n){let o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:o.top,l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=s.bottom;return l?!0:(t?l=n<0&&e.clientY>a+r.top+i||n>0&&e.clientY<a+r.top:l=n<0&&e.clientY>s.bottom||n>0&&e.clientY<s.bottom,l)}createResizeMap(){let e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;let e=this.element;if(!e)return;let i=new DOMParser().parseFromString(GR,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${h0}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,i=0;for(let n=0;n<e.length;n++){let o=e[n],r=!!o.style.flex&&o.style.flex!=="0 0 auto";if(o===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(r){let l=window.getComputedStyle(o);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=o.offsetHeight,a=o.offsetWidth;t+=s,i+=a}return{height:t,width:i}}applySizeToSiblings(e){let t=null,i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){let o=i[n];o!==t&&(e?o.style.height=`${o.offsetHeight}px`:o.style.width=`${o.offsetWidth}px`,o.style.flex="0 0 auto",o===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:o,isBottom:r,isLeft:s}=this.currentResizer,a=o||s,l=r||n,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:s,isTop:n}),u=this.position.x,h=this.position.y,p=0,g=0;if(a&&c){let C=s?-1:1,m=this.getWidth(),x=m+c*C,R=!1;s&&(p=m-x,(u+p<=0||x<=this.minWidth)&&(R=!0,p=0)),R||this.setWidth(x)}if(l&&d){let C=n?-1:1,m=this.getHeight(),x=m+d*C,R=!1;n?(g=m-x,(h+g<=0||x<=this.minHeight)&&(R=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&m<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(R=!0),R||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&p||g)&&this.offsetElement(u+p,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:i}=this.position,n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());let{movementX:o,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+o,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},jR=(()=>{let e=class p0 extends T{constructor(i,n={}){super(),this.eFocusableElement=i,this.callbacks=n,this.callbacks=E({shouldStopEventPropagation:()=>!1,onTabKeyDown:o=>{if(o.defaultPrevented)return;let r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,o.shiftKey);r&&(r.focus(),o.preventDefault())}},n)}wireBeans(i){this.focusService=i.focusService}postConstruct(){this.eFocusableElement.classList.add(p0.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(i){this.addManagedElementListeners(i,{keydown:n=>{if(!(n.defaultPrevented||pn(n))){if(this.callbacks.shouldStopEventPropagation(n)){gr(n);return}n.key===P.TAB?this.callbacks.onTabKeyDown(n):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(n)}}})}};return e.FOCUS_MANAGED_CLASS="ag-focus-managed",e})(),So=jR,g0={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function ep(e,t){return Zl(e)?(e.debounceMs!=null&&A("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function Zl(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var UR=class extends ke{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Z,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new So(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new WR(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);let i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=Zl(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Zl(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){let{buttons:i,readOnly:n}=t??{},{buttons:o,readOnly:r}=e;if(n===r&&Ks(i,o))return;let s=o&&o.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(xt(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):s&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!s){this.eButtonsPanel&&mi(this.eButtonsPanel);return}let a=document.createDocumentFragment(),l=c=>{let d,u;switch(c){case"apply":d=this.translate("applyFilter"),u=g=>this.onBtApply(!1,!1,g);break;case"clear":d=this.translate("clearFilter"),u=()=>this.onBtClear();break;case"reset":d=this.translate("resetFilter"),u=()=>this.onBtReset();break;case"cancel":d=this.translate("cancelFilter"),u=g=>{this.onBtCancel(g)};break;default:A("Unknown button type specified");return}let p=ea(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${d}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(p,{click:u})),a.append(p)};o.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){let e=ep(this.providedFilterParams,this.getDefaultDebounceMs()),t=Ot(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){let i=()=>{this.onUiChanged(!1,"prevent"),t?.()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){let t=this.getModelFromUi();if(!this.isModelValid(t))return!1;let i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});let{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;let t=e,i=t&&t.key,n;(i==="Enter"||i==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let i=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&Js(n,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;let t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:i,gos:n}=this;t?(i.restoreLastSize(),i.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){let t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,g0[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},$R=class extends Zh{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},KR=class extends ke{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let t=e.key;switch(t){case P.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case P.DOWN:case P.UP:e.preventDefault(),this.navigate(t);break;case P.PAGE_DOWN:case P.PAGE_UP:case P.PAGE_HOME:case P.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){let t=e===P.DOWN,i;if(!this.highlightedEl)i=this.itemEls[t?0:this.itemEls.length-1];else{let o=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);o=Math.min(Math.max(o,0),this.itemEls.length-1),i=this.itemEls[o]}this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;let t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,n=this.itemEls[0].clientHeight,o=Math.floor(this.getGui().clientHeight/n),r=-1;e===P.PAGE_HOME?r=0:e===P.PAGE_END?r=i:e===P.PAGE_DOWN?r=Math.min(t+o,i):e===P.PAGE_UP&&(r=Math.max(t-o,0)),r!==-1&&this.highlightItem(this.itemEls[r])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){let{value:t,text:i}=e,n=i||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{mi(e)}),this.itemEls=[]}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{wE(t,i+1),bE(t,e.length)})}renderOption(e,t){let i=it(this.gos),n=i.createElement("div");Ut(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let o=i.createElement("span");n.appendChild(o),o.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:r=>{r.preventDefault(),r.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new wr({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>o.scrollWidth>o.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let i=this.options.findIndex(n=>n.value===e);if(i!==-1){let n=this.options[i];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Oi(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),Ul(this.highlightedEl,!0);let t=this.getGui(),{scrollTop:i,clientHeight:n}=t,{offsetTop:o,offsetHeight:r}=e;(o+r>i+n||o<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Oi(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Ul(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},qR=class extends r0{constructor(e){if(super(e,e?.template||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Z,this.eWrapper=Z,this.eDisplayField=Z,this.eIcon=Z,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:o,maxPickerWidth:r}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,i!=null&&this.setPickerMaxHeight(i),o!=null&&this.setPickerMinWidth(o),r!=null&&this.setPickerMaxWidth(r)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:i,inputWidth:n}=this.config;if(i){let o=ni(i,this.gos);o&&this.eIcon.appendChild(o)}n!=null&&this.setInputWidth(n)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),jl(e,!1),this.ariaRole&&Ut(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case P.UP:case P.DOWN:case P.ENTER:case P.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case P.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:n,modalPicker:o=!0}=this.config,r={modal:o,eChild:e,closeOnEsc:!0,closedCallback:()=>{let h=yC(this.gos);this.beforeHidePicker(),h&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,n),anchorToElement:this.eWrapper};e.style.position="absolute";let s=this.popupService.addPopup(r),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:d}=this;d?(l&&(e.style.minWidth=l),e.style.width=qh($l(this.eWrapper)),c&&(e.style.maxWidth=c)):Ql(e,c??$l(this.eWrapper));let u=a??`${Kh(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",u),this.alignPickerToComponent(),s.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();jl(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Ql(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},tp=class extends qR{constructor(e){super(E({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new KR("select",!0)),this.listComponent.setParentComponent(this);let e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),DE(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:t}=e;switch(t===P.TAB&&this.hidePicker(),t){case P.ENTER:case P.UP:case P.DOWN:case P.PAGE_UP:case P.PAGE_DOWN:case P.PAGE_HOME:case P.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case P.ESCAPE:super.onKeyDown(e);break;case P.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let o=this.listComponent.getDisplayValue();return o==null&&this.config.placeholder&&(o=this.config.placeholder),this.eDisplayField.textContent=o,this.setTooltip({newTooltipText:o??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},YR={selector:"AG-SELECT",component:tp},m0=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;let t=[["displayKey"],["displayName"],["predicate","test"]],i=n=>n.some(o=>e[o]!=null)?!0:(A(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(i)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){let t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:A("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else A("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},f0=class extends UR{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){let t=this.optionsFactory.getCustomOption(e);if(t){let{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{i===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;let i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let r;if(i){let s=e,a=t;r=this.areSimpleModelsEqual(s,a)}else{let s=e,a=t;r=s.operator===a.operator&&Un(s.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return r}shouldRefresh(e){let t=this.getModel(),i=t?t.conditions??[t]:null,n=e.filterOptions?.map(r=>typeof r=="string"?r:r.displayKey)??this.getDefaultFilterOptions();return!(!(!i||i.every(r=>n.find(s=>s===r.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let i=e,n=i.conditions;n==null&&(n=[],A("Filter model is missing 'conditions'"));let o=this.validateAndUpdateConditions(n),r=this.getNumConditions();if(o<r)this.removeConditionsAndOperators(o);else if(o>r)for(let a=r;a<o;a++)this.createJoinOperatorPanel(),this.createOption();let s=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!s,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(s,!0)),n.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{let i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ii.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),A('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){let t=this.getModel();if(t==null)return!0;let{operator:i}=t,n=[];if(i){let r=t;n.push(...r.conditions??[])}else n.push(t);return n[i&&i==="OR"?"some":"every"](r=>this.individualConditionPasses(e,r))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new m0,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(A('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(A('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(A('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){let e=this.createManagedBean(new tp);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());let t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);let i=this.getNumConditions()-1;this.forEachPositionInput(i,n=>this.resetInput(n)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){let e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");let t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);let n=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,o),this.resetJoinOperatorOr(i,n,o),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){let n=this.createManagedBean(new $R);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){let e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);let n=e+1,o=i-n;o>0&&this.removeConditionsAndOperators(n,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,o)=>{let r=this.isConditionDisabled(o,e);n.setDisabled(r||this.filterListOptions.length<=1),o===1&&(Js(this.eJoinOperatorPanels[0],r),this.eJoinOperatorsAnd[0].setDisabled(r),this.eJoinOperatorsOr[0].setDisabled(r))}),this.eConditionBodies.forEach((n,o)=>{Ye(n,this.isConditionBodyVisible(o))});let i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(i,!0)}),this.forEachInput((n,o,r,s)=>{this.setElementDisplayed(n,o<s),this.setElementDisabled(n,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);let i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(o=>mi(o))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(o=>{mi(o.getGui()),this.destroyBean(o)})}removeItems(e,t,i){return i==null?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{let t=this.getInputs(0)[0];if(!t)return;t instanceof po&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();let e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1,o=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,i=s);else{let a=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),l=s<t;(a||l)&&(this.removeConditionsAndOperators(s,1),n=!0,l&&i--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(i,o),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(Ah(this.filterPlaceholder)){let n=this.filterPlaceholder,o=this.eTypes[t].getValue(),r=this.translate(o);i=n({filterOptionKey:o,filterOption:r,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,n,o)=>{if(!(t instanceof po))return;let r=i===0&&o>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",s=i===0&&o>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,n)),t.setInputAriaLabel(s)})}setElementValue(e,t,i){e instanceof po&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof ke&&Ye(e.getGui(),t)}setElementDisabled(e,t){e instanceof ke&&Js(e.getGui(),t)}attachElementOnChange(e,t){e instanceof po&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){let i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){let n=this.getNumberOfInputs(t),o=this.getInputs(e);for(let r=0;r<o.length;r++){let s=o[r];s!=null&&i(s,r,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),ii.resolve()}resetType(e){let i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,o){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let i=this.mapValuesFromModel(e);this.forEachInput((n,o,r)=>{r===t&&this.setElementValue(n,i[o]!=null?i[o]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,n)=>{this.setElementValue(t,i===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){let i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),o=this.optionsFactory.getCustomOption(t.type),r=this.evaluateCustomFilter(o,n,i);return r??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e))}evaluateCustomFilter(e,t,i){if(e==null)return;let{predicate:n}=e;if(n!=null&&!t.some(o=>o==null))return n(t,i)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},v0=class extends f0{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){let n=this.comparator(),o=e[0]!=null?n(e[0],t):0;switch(i.type){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{let r=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&r<=0:o>0&&r<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return A('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},QR=65,ZR=67,XR=86,JR=68,eD=90,tD=89;function C0(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function Dh(e,t,i,n,o){let r=n?n.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;let s=e.addGridCommonParams({event:t,editing:o,column:n,node:i,data:i.data,colDef:n.getColDef()});return!!(r&&r(s))}function iD(e,t,i,n){let o=n.getDefinition(),r=o&&o.suppressHeaderKeyboardEvent;if(!B(r))return!1;let s=e.addGridCommonParams({colDef:o,column:n,headerRowIndex:i,event:t});return!!r(s)}function nD(e){let{keyCode:t}=e,i;switch(t){case QR:i=P.A;break;case ZR:i=P.C;break;case XR:i=P.V;break;case JR:i=P.D;break;case eD:i=P.Z;break;case tD:i=P.Y;break;default:i=e.code}return i}function oD(e,t=!1){return e===P.DELETE?!0:!t&&e===P.BACKSPACE?UC():!1}var _o=class extends po{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=B(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{C0(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{let n=i.clipboardData?.getData("text");n&&n.split("").some(o=>!e.test(o))&&i.preventDefault()}})}},ic={selector:"AG-INPUT-TEXT-FIELD",component:_o},ip=class extends _o{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{let o=parseFloat(this.eInput.value),r=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==r&&this.setValue(r)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";let{precision:e,min:t,max:i,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof i=="number"&&this.setMax(i),typeof n=="number"&&this.setStep(n)}onWheel(e){Qe(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));let t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){let n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}let i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,vi(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,vi(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,vi(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(B(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(!n){i=this.adjustPrecision(i);let o=this.normalizeValue(i);n=i!=o}if(n)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;let e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},rD={selector:"AG-INPUT-NUMBER-FIELD",component:ip},b0=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],np=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;let t=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(t){let n=e,r=(n.conditions??[]).map(a=>this.getModelAsString(a)),s=n.operator==="AND"?"andCondition":"orCondition";return r.join(` ${i(s,g0[s])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{let n=e,o=this.optionsFactory.getCustomOption(n.type),{displayKey:r,displayName:s,numberOfInputs:a}=o||{};return r&&s&&a===0?(i(r,s),s):this.conditionToString(n,o)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},w0=class extends np{conditionToString(e,t){let{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function Ih(e){let{allowedCharPattern:t}=e??{};return t??null}var sD=class extends v0{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new w0(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return b0}setElementValue(e,t,i){let n=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){let e=Ih(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Ut(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){let o=this.createManagedBean(n?new _o({allowedCharPattern:n}):new ip);o.addCssClass(`ag-filter-${i}`),o.addCssClass("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){let t=[];return this.forEachPositionInput(e,(i,n,o,r)=>{n<r&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=hn(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){let t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},y0=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],S0=class extends np{conditionToString(e,t){let{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function _0(e){let t=e&&e.trim();return t===""?e:t}var aD=class extends f0{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{let n=t.lastIndexOf(i);return n>=0&&n===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new S0(this.localeService,this.optionsFactory)}getTextMatcher(){let e=this.textFilterParams.textCustomComparator;return e?(A("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:n})=>e(t,i,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){let t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){let i=[];return this.forEachPositionInput(e,(n,o,r,s)=>{if(o<s){let a=hn(n.getValue());t&&this.textFilterParams.trimInput&&(a=_0(a)??null,n.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return y0}createValueElement(){let e=document.createElement("div");return e.classList.add("ag-filter-body"),Ut(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){let n=this.createManagedBean(new _o);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){let{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,n){let o=e.map(h=>this.formatter(h))||[],r=this.formatter(t),{api:s,colDef:a,column:l,context:c,textFormatter:d}=this.textFilterParams;if(i.type==="blank")return this.isBlank(t);if(i.type==="notBlank")return!this.isBlank(t);let u={api:s,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:i.type,value:r,textFormatter:d};return o.some(h=>this.matcher(ce(E({},u),{filterText:h})))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function x0(e){if(typeof e=="number")return e;if(typeof e=="string"){let t=parseInt(e);return isNaN(t)?void 0:t}}function Yi(e,t=Number.MAX_VALUE){return i=>{let n=x0(i);if(!(n==null||n<e||n>t))return n}}function Us(e,t){return e.toString().padStart(t,"0")}function lD(e,t){let i=[];for(let n=e;n<=t;n++)i.push(n);return i}function cD(e,t,i){return typeof e!="number"?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function Ci(e,t=!0,i="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(o=>Us(o,2)).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(o=>Us(o,2)).join(":")),n}var sh=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function $s(e,t="YYYY-MM-DD"){let i=Us(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Us(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${sh(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${sh(e.getDate())}`,DD:()=>Us(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>o[e.getDay()],ddd:()=>o[e.getDay()].slice(0,3),dd:()=>o[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${sh(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(r).join("|"),"g");return t.replace(s,a=>a in r?r[a]():a)}function Wt(e){if(!e)return null;let[t,i]=e.split(" ");if(!t)return null;let n=t.split("-").map(u=>parseInt(u,10));if(n.filter(u=>!isNaN(u)).length!==3)return null;let[o,r,s]=n,a=new Date(o,r-1,s);if(a.getFullYear()!==o||a.getMonth()!==r-1||a.getDate()!==s)return null;if(!i||i==="00:00:00")return a;let[l,c,d]=i.split(":").map(u=>parseInt(u,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),d>=0&&d<60&&a.setSeconds(d),a}var E0=class{constructor(e,t,i,n,o){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(i).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(n.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),o?.(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Ye(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;this.dateComp?.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&this.dateComp?.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&A("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},R0=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],D0=class extends np{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){let{type:i}=e,{numberOfInputs:n}=t||{},o=i=="inRange"||n===2,r=Wt(e.dateFrom),s=Wt(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(o){let l=r!==null?$s(r,a):"null",c=s!==null?$s(s,a):"null";return`${l}-${c}`}return r!=null?$s(r,a):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},tC=1e3,iC=1/0,dD=class extends v0{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=tC,this.maxValidYear=iC,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){let{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&Wt(t)||null,i&&Wt(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){let i=t;return t==null||i<e?-1:i>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);let t=(i,n)=>{if(e[i]!=null)if(isNaN(e[i]))A(`DateFilter ${i} is not a number`);else return e[i]==null?n:Number(e[i]);return n};this.minValidYear=t("minValidYear",tC),this.maxValidYear=t("maxValidYear",iC),this.minValidYear>this.maxValidYear&&A("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Wt(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Wt(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&A("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new D0(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){let t=new E0(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return R0}createValueElement(){let t=it(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,n){let r=it(this.gos).createElement("div");r.classList.add(`ag-filter-${n}`),r.classList.add(`ag-filter-date-${n}`),t.push(r),e.appendChild(r),i.push(this.createDateCompWrapper(r))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(o=>o.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,n,o,r)=>{o!==e||!t||n>=r||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){let t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=Ci(n[0])),n.length>1&&(i.dateTo=Ci(n[1])),E({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},i)}resetPlaceholder(){let e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(i,n,o,r)=>{n<r&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},op=class extends T{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?De(this.colsSpanning):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let e=this.beans.gos.get("suppressColumnMoveAnimation"),t=B(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,i),o=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=o,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===o&&this.setLeft(o)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!wt(this.beans.gos,"print")||e.getPinned()==="left")return t;let n=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){let o=this.beans.visibleColsService.getBodyContainerWidth();return n+o+t}return n+t}setLeft(e){if(B(e)&&(this.eCell.style.left=`${e}px`),tt(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&xE(this.ariaEl,t.length)}}},uD="ag-column-first",hD="ag-column-last";function I0(e,t,i,n){return Fe(e)?[]:gD(e.headerClass,e,t,i,n)}function M0(e,t,i){e.addOrRemoveCssClass(uD,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(hD,i.isColAtEdge(t,"last"))}function pD(e,t,i,n){return t.addGridCommonParams({colDef:e,column:i,columnGroup:n})}function gD(e,t,i,n,o){if(Fe(e))return[];let r;if(typeof e=="function"){let s=pD(t,i,n,o);r=e(s)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}var mD=0,fD=(()=>{let e=class F0 extends T{constructor(i,n,o){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=i,this.parentRowCtrl=o,this.beans=n,this.instanceId=i.getUniqueId()+"-"+mD++}wireBeans(i){this.pinnedWidthService=i.pinnedWidthService,this.focusService=i.focusService,this.userComponentFactory=i.userComponentFactory,this.ctrlsService=i.ctrlsService,this.dragAndDropService=i.dragAndDropService,this.menuService=i.menuService}postConstruct(){let i=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],i),this.addManagedEventListeners({overlayExclusiveChanged:i})}shouldStopEventPropagation(i){let{headerRowIndex:n,column:o}=this.focusService.getFocusedHeader();return iD(this.gos,i,n,o)}getWrapperHasFocus(){return Qe(this.gos)===this.eGui}setGui(i,n){this.eGui=i,this.addDomData(n),n.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),n.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(i){let{wrapperElement:n,checkMeasuringCallback:o,compBean:r}=i,{animationFrameService:s,resizeObserverService:a,columnModel:l,gos:c}=this.beans,d=m=>{if(!this.isAlive()||!r.isAlive())return;let{paddingTop:x,paddingBottom:R,borderBottomWidth:D,borderTopWidth:N}=yo(this.getGui()),re=x+R+D+N,te=n.offsetHeight+re;if(m<5){let de=it(c),ye=!de||!de.contains(n),Ht=te==0;if(ye||Ht){s.requestAnimationFrame(()=>d(m+1));return}}l.setColHeaderHeight(this.column,te)},u=!1,h,p=()=>{let m=this.column.isAutoHeaderHeight();m&&!u&&g(),!m&&u&&C()},g=()=>{u=!0,d(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),h=a.observeResize(n,()=>d(0))},C=()=>{u=!1,h&&h(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),h=void 0};p(),r.addDestroyFunc(()=>C()),r.addManagedListeners(this.column,{widthChanged:()=>u&&d(0)}),r.addManagedEventListeners({sortChanged:()=>{u&&window.setTimeout(()=>d(0))}}),o&&o(p)}onDisplayedColumnsChanged(){let{comp:i,column:n,beans:o,eGui:r}=this;!i||!n||!r||(M0(i,n,o.visibleColsService),WC(r,o.visibleColsService.getAriaColIndex(n)))}addResizeAndMoveKeyboardListeners(i){this.resizeFeature&&i.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let i=this.focusService.isHeaderFocusSuppressed();this.eGui&&vi(this.eGui,"tabindex",i?null:"-1")}onGuiKeyDown(i){let n=Qe(this.gos),o=i.key===P.LEFT||i.key===P.RIGHT;if(this.isResizing&&(i.preventDefault(),i.stopImmediatePropagation()),n!==this.eGui||!i.shiftKey&&!i.altKey||((this.isResizing||o)&&(i.preventDefault(),i.stopImmediatePropagation()),!o))return;let r=i.key===P.LEFT!==this.gos.get("enableRtl"),s=d0[r?"Left":"Right"];if(i.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let a=this.getViewportAdjustedResizeDiff(i);this.resizeHeader(a,i.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(s)}getViewportAdjustedResizeDiff(i){let n=this.getResizeDiff(i);if(this.column.getPinned()){let r=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),a=ia(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+s+n>a)if(a>r+s)n=a-r-s;else return 0}return n}getResizeDiff(i){let n=i.key===P.LEFT!==this.gos.get("enableRtl"),o=this.column.getPinned(),r=this.gos.get("enableRtl");return o&&r!==(o==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(i){let n=this.getWrapperHasFocus();switch(i.key){case P.PAGE_DOWN:case P.PAGE_UP:case P.PAGE_HOME:case P.PAGE_END:n&&i.preventDefault()}}addDomData(i){let n=F0.DOM_DATA_KEY_HEADER_CTRL;bo(this.gos,this.eGui,n,this),i.addDestroyFunc(()=>bo(this.gos,this.eGui,n,null))}getGui(){return this.eGui}focus(i){return this.eGui?(this.lastFocusEvent=i||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(i,n,o){let r=i??n;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault(),this.menuService.isHeaderContextMenuEnabled(o)&&this.menuService.showHeaderContextMenu(o,i,n),this.dispatchColumnMouseEvent("columnHeaderContextMenu",o)}dispatchColumnMouseEvent(i,n){this.eventService.dispatchEvent({type:i,column:n})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};return e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",e})(),nc=fD,rp=class extends T{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},vD=class extends nc{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,n,o){this.comp=e,o=ta(this,this.beans.context,o),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t,o),this.setupActive(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o),o.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(o)}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){let e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=ni("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new So(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.localeService.getLocaleTextFunc();fr(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Qe(this.gos)===this.eGui)return;let n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),n.focus();return}let o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleColsService,i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case P.UP:case P.DOWN:t||e.preventDefault();case P.LEFT:case P.RIGHT:if(t)return;e.stopPropagation();case P.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case P.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&ur(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){let r=this.lastFocusEvent,s=!!(r&&r.key===P.TAB);if(r&&s){let a=r.shiftKey;this.focusService.focusInto(this.eGui,a)}}let o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.column)}setupHover(e){e.createManagedBean(new rp([this.column],this.eGui));let t=()=>{if(!this.gos.get("columnHoverHighlight"))return;let i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){let t=new op(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;let e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{filterManager:t}=this.beans,i=n=>{if(n?.source==="filterDestroyed"&&!this.isAlive())return;let o=this.comp.getFloatingFilterComp();o&&o.then(r=>{if(r){let s=t?.getCurrentFloatingFilterParentModel(this.column),a=n?ce(E({},n),{columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}):null;r.onParentModelChanged(s,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t?.isFilterActive(this.column)&&i(null)}setupWidth(e){let t=()=>{let i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let n=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!n?this.updateCompDetails(e,n,i):o.then(r=>{!r||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,i):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;let t=e.params;this.comp.getFloatingFilterComp()?.then(i=>{let n=!1;i?.refresh&&typeof i.refresh=="function"&&i.refresh(t)!==null&&(n=!0),!n&&i?.onParamsUpdated&&typeof i.onParamsUpdated=="function"&&i.onParamsUpdated(t)!==null&&A("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var pe="32.2.1";function CD(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()}function bD(e,t,i){return e.filterManager?.getFilterInstance(t,i)}function wD(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function yD(e,t){let i=e.columnModel.getColDefCol(t);if(i)return e.filterManager?.destroyFilter(i,"api")}function SD(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function _D(e){return e.filterManager?.getFilterModel()??{}}function xD(e,t){return e.filterManager?.getColumnFilterModel(t)??null}function ED(e,t,i){return e.filterManager?.setColumnFilterModel(t,i)??Promise.resolve()}function RD(e,t){let i=e.columnModel.getCol(t);if(!i){Oe(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function DD(e,t,i){if(t==null)return null;let n=null,{compName:o,jsComp:r,fwComp:s}=l0.getCompKeys(e,t,Jh);return o?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[o]:r==null&&s==null&&t.filter===!0&&(n=i()),n}var nC={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},oC=["january","february","march","april","may","june","july","august","september","october","november","december"],ID=class extends T{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel=E({},this.gos.get("initialState")?.filter?.filterModel??{})}setFilterModel(e,t="api"){if(this.dataTypeService?.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}let i=[],n=this.getFilterModel(!0);if(e){let o=new Set(Object.keys(e));this.allColumnFilters.forEach((r,s)=>{let a=e[s];i.push(this.setModelOnFilterWrapper(r.filterPromise,a)),o.delete(s)}),o.forEach(r=>{let s=this.columnModel.getColDefCol(r)||this.columnModel.getCol(r);if(!s){A("setFilterModel() - no column found for colId: "+r);return}if(!s.isFilterAllowed()){A("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+r);return}let a=this.getOrCreateFilterWrapper(s);if(!a){A("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+r);return}i.push(this.setModelOnFilterWrapper(a.filterPromise,e[r]))})}else this.allColumnFilters.forEach(o=>{i.push(this.setModelOnFilterWrapper(o.filterPromise,null))});ii.all(i).then(()=>{let o=this.getFilterModel(!0),r=[];this.allColumnFilters.forEach((s,a)=>{let l=n?n[a]:null,c=o?o[a]:null;Ks(l,c)||r.push(s.column)}),r.length>0&&this.filterManager?.onFilterChanged({columns:r,source:t})})}setModelOnFilterWrapper(e,t){return new ii(i=>{e.then(n=>{typeof n.setModel!="function"&&(A("filter missing setModel method, which is needed for setFilterModel"),i()),(n.setModel(t)||ii.resolve()).then(()=>i())})})}getFilterModel(e){let t={},{allColumnFilters:i,initialFilterModel:n}=this;return i.forEach((o,r)=>{let s=this.getModelFromFilterWrapper(o);B(s)&&(t[r]=s)}),e||Object.entries(n).forEach(([o,r])=>{B(r)&&!i.has(o)&&this.columnModel.getCol(o)?.isFilterAllowed()&&(t[o]=r)}),t}getModelFromFilterWrapper(e){let{filter:t}=e;return t?typeof t.getModel!="function"?(A("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){let e=r=>r?r.isFilterActive?r.isFilterActive():(A("Filter is missing isFilterActive() method"),!1):!1,t=!!fh(this.gos),i=r=>{if(!r.isPrimary())return!0;let a=!this.columnModel.isPivotActive();return!r.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:t},n=[],o=[];return this.forEachColumnFilter((r,s)=>{e(r)&&(i(s.column)?n.push(r):o.push(r))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,n)=>n.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return ii.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){let{data:n,aggData:o}=e,r=i?this.activeAggregateFilters:this.activeColumnFilters,s=i?o:n;for(let a=0;a<r.length;a++){let l=r[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:s}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){let t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){let{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(o=>{o&&o!==t&&o.onAnyFilterChanged&&o.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{let n=i?this.columnModel.getCol(i):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){let{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(Zu(this.gos))t="agSetColumnFilter";else{let i=this.dataTypeService?.getBaseDataType(e);i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(Zu(this.gos))t="agSetColumnFloatingFilter";else{let i=this.dataTypeService?.getBaseDataType(e);i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){let i=this.getDefaultFilter(e),n=e.getColDef(),o,r=ce(E({},this.createFilterParams(e,n)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(o,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(o,e)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(o,a):!0}),s=this.userComponentFactory.getFilterDetails(n,r,i);return s?{filterPromise:()=>{let a=s.newAgStackInstance();return a?.then(l=>{o=l,t&&(t.filter=l)}),a},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:TC(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){let t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=i?.()??null,t.compDetails=n,t}onColumnsChanged(){let e=[];this.allColumnFilters.forEach((i,n)=>{let o;i.column.isPrimary()?o=this.columnModel.getColDefCol(n):o=this.columnModel.getCol(n),!(o&&o===i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(n))});let t=e.every(i=>i.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof i?.isFilterAllowed=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){let i=l=>{let c=this.getOrCreateFilterWrapper(e)?.filterPromise;c?.then(d=>{l(js(d))})},n=e.getColDef(),o=ce(E({},this.createFilterParams(e,n)),{filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,e)())}),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,Jh,o),s=DD(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));s==null&&(s="agReadOnlyFloatingFilter");let a={column:e,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,s)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){let i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&(this.disposeFilterWrapper(n,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{let n=i?.source??"columnFilter",o={filter:e,additionalEventAttributes:i,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(o)}}checkDestroyFilter(e){let t=this.allColumnFilters.get(e);if(!t)return;let i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(i,"paramsUpdated");return}let o=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(r=>{(r?.refresh?r.refresh(E(ce(E({},this.createFilterParams(i,i.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(r,i),filterChangedCallback:this.filterChangedCallbackFactory(r,i),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,a):!0}),o)):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){let i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:i}=e,{componentClass:n}=t;return!(i===n||i?.render&&n?.render&&i.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{let n=js(i);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(js(i))})})}getFilterInstanceImpl(e){let t=this.columnModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??ii.resolve(null):ii.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){let t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let r=()=>{},s=new Promise(a=>{r=a});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:r}),s}let i=this.columnModel.getColDefCol(e),n=i?this.getOrCreateFilterWrapper(i):null;return n?(r=>new Promise(s=>{r.then(a=>s(a))}))(this.setModelOnFilterWrapper(n.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){let t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){let n=Zu(this.gos),o=this.localeService.getLocaleTextFunc(),r=s=>{let{filterParams:a}=e;e.filterParams=typeof a=="object"?E(E({},a),s):s};switch(t.baseDataType){case"number":{n&&r({comparator:(s,a)=>{let l=s==null?0:parseInt(s),c=a==null?0:parseInt(a);return l===c?0:l>c?1:-1}});break}case"boolean":{r(n?{valueFormatter:s=>B(s.value)?o(String(s.value),s.value?"True":"False"):o("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(s,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(s,a)=>a===!1,numberOfInputs:0}]});break}case"date":{n&&r({valueFormatter:s=>{let a=i(s);return B(a)?a:o("blanks","(Blanks)")},treeList:!0,treeListFormatter:(s,a)=>{if(a===1&&s!=null){let l=oC[Number(s)-1];return o(l,nC[l])}return s??o("blanks","(Blanks)")}});break}case"dateString":{let s=t.dateParser;r(n?{valueFormatter:a=>{let l=i(a);return B(l)?l:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{let l=s(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){let c=oC[Number(a)-1];return o(c,nC[c])}return a??o("blanks","(Blanks)")}}:{comparator:(a,l)=>{let c=s(l);return l==null||c<a?-1:c>a?1:0}});break}case"object":{n?r({valueFormatter:s=>{let a=i(s);return B(a)?a:o("blanks","(Blanks)")}}):e.filterValueGetter=s=>i({column:s.column,node:s.node,value:this.valueService.getValue(s.column,s.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function MD(e){return!!e.filterManager?.isAnyFilterPresent()}function FD(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var TD=class extends ke{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[ic]),this.eFloatingFilterText=Z}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;let t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},T0=class extends ke{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}let t=e.operator,i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new m0,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;let i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){let t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return i==null||i==1}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){let t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${t} ${i("ariaFilterInput","Filter Input")}`}},kD=class extends T0{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[ic]),this.eReadOnlyText=Z,this.eDateWrapper=Z}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return R0}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new D0(this.filterParams,this.localeService,this.optionsFactory);let t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){let i=e;this.dateComp.setDate(Wt(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ye(this.eDateWrapper,e),Ye(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){let e=this.dateComp.getDate(),t=Ci(e);this.params.parentFilterInstance(i=>{if(i){let n=Wt(t);i.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){let e=ep(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ot(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new E0(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){let e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},PD=class extends ke{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[ic]),this.eDateInput=Z}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===Qe(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){let t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Ji(),t.type=i?"date":"text";let{minValidYear:n,maxValidYear:o,minValidDate:r,maxValidDate:s}=e.filterParams||{};if(r&&n&&A("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),s&&o&&A("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),r&&s){let[a,l]=[r,s].map(c=>c instanceof Date?c:Wt(c));a&&l&&a.getTime()>l.getTime()&&A("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}r?r instanceof Date?t.min=$s(r):t.min=r:n&&(t.min=`${n}-01-01`),s?s instanceof Date?t.max=$s(s):t.max=s:o&&(t.max=`${o}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Wt(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Ci(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:jh()||Uh()||Ji()&&jC()>=14.1}},k0=class extends T{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=Z,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new _o(this.params?.config));let t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);let i=n=>this.valueChangedListener(n);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},P0=class extends T0{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Z}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;let t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Zl(this.params.filterParams),!this.isReadOnly()){let i=ep(this.params.filterParams,this.getDefaultDebounceMs()),n=Ot(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let t=this.floatingFilterInputService.getValue();xt(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){let t=e.key===P.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=_0(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},AD=class extends T{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new ip),this.eFloatingFilterTextInput=this.createManagedBean(new _o),this.eFloatingFilterTextInput.setDisabled(!0);let t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(i,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},OD=class extends P0{init(e){super.init(e),this.filterModelFormatter=new w0(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){Ih(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return b0}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=Ih(e.filterParams),this.allowedCharPattern?this.createManagedBean(new k0({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new AD)}},LD=class extends P0{init(e){super.init(e),this.filterModelFormatter=new S0(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return y0}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new k0)}};function ND(e){return!!e.filterManager?.isQuickFilterPresent()}function VD(e){return e.gos.get("quickFilterText")}function HD(e){e.filterManager?.resetQuickFilterCache()}var BD=class extends T{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){let e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){let e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols(),n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:i)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(o=>o.isVisible()||o.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return B(e)?Xe(this.gos)?e.toUpperCase():(A("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){A(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}let t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{let n=this.getQuickFilterTextForColumn(i,e);return B(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);let{quickFilterParts:n,matcher:o}=this;return o(n,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0),n=e.getColDef();if(n.getQuickFilterText){let o=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(o)}return B(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){let t=[];return this.colsForQuickFilter.forEach(i=>{let n=this.getQuickFilterTextForColumn(i,e);B(n)&&t.push(n)}),t.join(`
`)}},sp={version:pe,moduleName:"@ag-grid-community/filter-core",beans:[BR]},zD={version:pe,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:MD,onFilterChanged:FD},dependantModules:[sp]},oc={version:pe,moduleName:"@ag-grid-community/column-filter",beans:[ID],dependantModules:[sp]},GD={version:pe,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:CD,getFilterInstance:bD,getColumnFilterInstance:wD,destroyFilter:yD,setFilterModel:SD,getFilterModel:_D,getColumnFilterModel:xD,setColumnFilterModel:ED,showColumnFilter:RD},dependantModules:[oc,zD]},ap={version:pe,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:vD}],dependantModules:[oc]},_7={version:pe,moduleName:"@ag-grid-community/floating-filter",dependantModules:[ap,oc]},WD={version:pe,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:TD}],dependantModules:[ap]},jD={version:pe,moduleName:"@ag-grid-community/simple-filter",dependantModules:[oc],userComponents:[{name:"agTextColumnFilter",classImp:aD},{name:"agNumberColumnFilter",classImp:sD},{name:"agDateColumnFilter",classImp:dD},{name:"agDateInput",classImp:PD}]},UD={version:pe,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[jD,ap],userComponents:[{name:"agTextColumnFloatingFilter",classImp:LD},{name:"agNumberColumnFloatingFilter",classImp:OD},{name:"agDateColumnFloatingFilter",classImp:kD}]},A0={version:pe,moduleName:"@ag-grid-community/quick-filter-core",beans:[BD],dependantModules:[sp]},$D={version:pe,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:ND,getQuickFilter:VD,resetQuickFilter:HD},dependantModules:[A0]},KD={version:pe,moduleName:"@ag-grid-community/quick-filter",dependantModules:[A0,$D]},qD={version:pe,moduleName:"@ag-grid-community/filter",dependantModules:[UD,WD,KD,GD]},lp=class extends ke{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},YD=class extends lp{constructor(e){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,e),this.eFloatingFilterBody=Z,this.eButtonWrapper=Z,this.eButtonShowMainFilter=Z}postConstruct(){let e=this.getGui(),t={addOrRemoveCssClass:(i,n)=>this.addOrRemoveCssClass(i,n),addOrRemoveBodyCssClass:(i,n)=>this.eFloatingFilterBody.classList.toggle(i,n),setButtonWrapperDisplayed:i=>Ye(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},QD=class extends lp{constructor(e){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,e),this.eResize=Z,this.eHeaderCompWrapper=Z,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){let e=this.getGui();((o,r)=>{r!=null&&r!=""?e.setAttribute(o,r):e.removeAttribute(o)})("col-id",this.column.getColId());let i={setWidth:o=>e.style.width=o,addOrRemoveCssClass:(o,r)=>this.addOrRemoveCssClass(o,r),setAriaSort:o=>o?EE(e,o):RE(e),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);let n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},ZD=class extends lp{constructor(e){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,e),this.eResize=Z,this.eHeaderCompWrapper=Z}postConstruct(){let e=this.getGui(),t=(n,o)=>o!=null?e.setAttribute(n,o):e.removeAttribute(n);e.setAttribute("col-id",this.ctrl.getColId());let i={addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),setResizableDisplayed:n=>Ye(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>t("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}let i=this.getGui(),n=e.getGui();this.eHeaderCompWrapper.appendChild(n),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}};var XD=class extends ke{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){GC(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;let i=this.headerComps;if(this.headerComps={},e.forEach(n=>{let o=n.instanceId,r=i[o];delete i[o],r==null&&(r=this.createHeaderComp(n),this.getGui().appendChild(r.getGui())),this.headerComps[o]=r}),pi(i,(n,o)=>{this.getGui().removeChild(o.getGui()),this.destroyBean(o)}),t){let n=Wn(this.headerComps);n.sort((r,s)=>{let a=r.getCtrl().getColumnGroupChild().getLeft(),l=s.getCtrl().getColumnGroupChild().getLeft();return a-l});let o=n.map(r=>r.getGui());JC(this.getGui(),o)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new ZD(e);break;case"filter":t=new YD(e);break;default:t=new QD(e);break}return this.createBean(t),t.setParentComponent(this),t}};var JD=class extends T{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});let e=it(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount()??0}getHeaderPositionForColumn(e,t){let i;if(typeof e=="string"?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;let o=this.ctrlsService.getHeaderRowContainerCtrl()?.getAllCtrls(),r=De(o||[]).getType()==="filter",s=this.getHeaderRowCount()-1,a=-1,l=i;for(;l;)a++,l=l.getParent();let c=a;return t&&r&&c===s-1&&c++,c===-1?null:{headerRowIndex:c,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;let{headerRowIndex:n}=t,o=t.column,r=this.getHeaderRowCount(),s=e===0,{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=s?this.headerPositionUtils.getColumnVisibleParent(o,n):this.headerPositionUtils.getColumnVisibleChild(o,n),d=!1;return a<0&&(a=0,l=o,d=!0),a>=r?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!d&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){let n=this.focusService.getFocusedHeader(),o=e===2,r=this.gos.get("enableRtl"),s,a;if(this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,o!==r?(a="Before",s=this.headerPositionUtils.findHeader(n,a)):(a="After",s=this.headerPositionUtils.findHeader(n,a)),s||!t)return this.focusService.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:i});if(t){let l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a})}return this.focusNextHeaderRow(n,a,i)}focusNextHeaderRow(e,t,i){let n=e.headerRowIndex,o=null,r;if(t==="Before"?n>0&&(r=n-1,this.currentHeaderRowWithoutSpan-=1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"end")):(r=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),o=this.headerPositionUtils.findColAtEdgeForHeaderRow(r,"start")),!o)return!1;let{column:s,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(o.column,o?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(tt(e)){let n=e.getDisplayedLeafColumns();i=t==="Before"?De(n):n[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},e3=class extends T{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new So(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();let n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){let{columnModel:e}=this,t=0,i=this.columnModel.getGroupRowsHeight().reduce((r,s)=>r+s,0),n=this.columnModel.getColumnHeaderRowHeight();if(this.filterManager?.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=i,t+=n,this.headerHeight===t)return;this.headerHeight=t;let o=`${t+1}px`;this.comp.setHeightAndMinHeight(o),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){let e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){let t=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),i=e.shiftKey,n=i!==t?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,e)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case P.LEFT:t=2;case P.RIGHT:{B(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case P.UP:t=0;case P.DOWN:{B(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:t}=e;!t&&this.eGui.contains(Qe(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;let{target:n}=e??t;(n===this.eGui||n===this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement())&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!$n())return;let t=new zn(this.eGui),i=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}},cp=class extends T{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=wt(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth(),o;e?o=t+i+n:(o=t,this.addSpacer&&(this.gos.get("enableRtl")?i:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(o+=this.scrollVisibleService.getScrollbarWidth())),this.callback(o)}},t3=class extends T{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function O0(e){let{isFromHeader:t,fromLeft:i,xPosition:n,fromEnter:o,fakeEvent:r,pinned:s,gos:a,columnModel:l,columnMoveService:c,visibleColsService:d}=e,{allMovingColumns:u}=e;if(t){let re=[];u.forEach(X=>{let te=null,de=X.getParent();for(;de!=null&&de.getDisplayedLeafColumns().length===1;)te=de,de=de.getParent();te!=null?(!!te.getColGroupDef()?.marryChildren?te.getProvidedColumnGroup().getLeafColumns():te.getLeafColumns()).forEach(on=>{re.includes(on)||re.push(on)}):re.includes(X)||re.push(X)}),u=re}let h=u.slice();l.sortColsLikeCols(h);let p=r3({movingCols:h,draggingRight:i,xPosition:n,pinned:s,gos:a,columnModel:l,visibleColsService:d}),g=i3(h,l);if(p.length===0)return;let C=p[0],m=g!==null&&!o;if(t&&(m=g!==null),m&&!r&&(!i&&C>=g||i&&C<=g))return;let x=d.getAllCols(),R=[],D=null;for(let re=0;re<p.length;re++){let X=p[re],te=c.getProposedColumnOrder(h,X);if(!c.doesOrderPassRules(te))continue;let de=te.filter(Ht=>x.includes(Ht));if(D===null)D=de;else if(!Un(de,D))break;let ye=n3(te);R.push({move:X,fragCount:ye})}if(R.length===0)return;R.sort((re,X)=>re.fragCount-X.fragCount);let N=R[0].move;if(!(N>l.getCols().length-u.length))return{columns:u,toIndex:N}}function dp(e){let{columns:t,toIndex:i}=O0(e)||{},{finished:n,columnMoveService:o}=e;return!t||i==null?null:(o.moveColumns(t,i,"uiColumnMoved",n),n?null:{columns:t,toIndex:i})}function i3(e,t){let i=t.getCols(),n=Ox(e.map(l=>i.indexOf(l))),o=n[0];return De(n)-o!==n.length-1?null:o}function n3(e){function t(n){let o=[],r=n.getOriginalParent();for(;r!=null;)o.push(r),r=r.getOriginalParent();return o}let i=0;for(let n=0;n<e.length-1;n++){let o=t(e[n]),r=t(e[n+1]);[o,r]=o.length>r.length?[o,r]:[r,o],o.forEach(s=>{r.indexOf(s)===-1&&i++})}return i}function o3(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function r3(e){let{movingCols:t,draggingRight:i,xPosition:n,pinned:o,gos:r,columnModel:s,visibleColsService:a}=e;if(r.get("suppressMovableColumns")||t.some(D=>D.getColDef().suppressMovable))return[];let c=o3(a,o),d=s.getCols(),u=c.filter(D=>fo(t,D)),h=c.filter(D=>!fo(t,D)),p=d.filter(D=>!fo(t,D)),g=0,C=n;if(i){let D=0;u.forEach(N=>D+=N.getActualWidth()),C-=D}if(C>0){for(let D=0;D<h.length;D++){let N=h[D];if(C-=N.getActualWidth(),C<0)break;g++}i&&g++}let m;if(g>0){let D=h[g-1];m=p.indexOf(D)+1}else m=p.indexOf(h[0]),m===-1&&(m=0);let x=[m],R=(D,N)=>D-N;if(i){let D=m+1,N=d.length-1;for(;D<=N;)x.push(D),D++;x.sort(R)}else{let D=m,N=d.length-1,re=d[D];for(;D<=N&&c.indexOf(re)<0;)D++,x.push(D),re=d[D];D=m-1;let X=0;for(;D>=X;)x.push(D),D--;x.sort(R).reverse()}return x}function Xl(e){let{pinned:t,fromKeyboard:i,gos:n,ctrlsService:o,useHeaderRow:r,skipScrollPadding:s}=e,a=o.getHeaderRowContainerCtrl(t)?.getViewportElement(),{x:l}=e;return a?(i&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(r&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!s&&(l+=o.get("center").getCenterViewportScrollLeft()),l):0}function hr(e,t){for(let i of e)i.setMoving(t,"uiColumnMoved")}var rC=7,Mh=100,Ml=Mh/2,s3=5,a3=100,l3=class extends T{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!B(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let e=this.lastDraggingEvent?.dragItem.columns??[];for(let t of e){let i=t.getPinned();if(t.getColDef().lockPinned){if(i==this.pinned)return"move";continue}if(i===this.pinned||!this.pinned)return"move";if(!i&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){let t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{let n=e.dragItem.visibleState,o=(t||[]).filter(r=>n[r.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){let o=this.gos.get("suppressMoveWhenColumnDragging");if(n&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&Fe(e.hDirection))return;let{pinned:r,gos:s,ctrlsService:a}=this,l=Xl({x:e.x,pinned:r,gos:s,ctrlsService:a});t||this.checkCenterForScrolling(l),o?this.handleColumnDragWhileSuppressingMovement(e,t,i,l,n):this.handleColumnDragWhileAllowingMovement(e,t,i,l,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;let n=e.filter(o=>!o.getColDef().lockVisible);this.columnModel.setColsVisible(n,t,i)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;let{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,n,o){let r=this.getAllMovingColumns(e,!0);if(o){let s=this.isAttemptingToPin(r);s&&this.attemptToPinColumns(r,void 0,!0);let{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(r,s)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:l,fromEnter:t,fakeEvent:i,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,n)}}handleColumnDragWhileAllowingMovement(e,t,i,n,o){let r=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)===1,a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:a,xPosition:n,fromLeft:s,fromEnter:t,fakeEvent:i}),c=dp(ce(E({},l),{finished:o}));c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){let i=e.dragSource.getDragItem(),n=null;t?(n=i.columnsInSplit,n||(n=i.columns)):n=i.columns;let o=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return n?n.filter(o):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:i,xPosition:n,fromLeft:o,fromEnter:r,fakeEvent:s}=e,{pinned:a,gos:l,columnModel:c,columnMoveService:d,visibleColsService:u}=this;return{allMovingColumns:t,isFromHeader:i,fromLeft:o,xPosition:n,pinned:a,fromEnter:r,fakeEvent:s,gos:l,columnModel:c,columnMoveService:d,visibleColsService:u}}findFirstAndLastMovingColumns(e){let t=e.length,i,n;for(let o=0;o<=t;o++){if(!i){let r=e[o];r.getLeft()!=null&&(i=r)}if(!n){let r=e[t-1-o];r.getLeft()!=null&&(n=r)}if(i&&n)break}return{firstMovingCol:i,lastMovingCol:n}}highlightHoveredColumn(e,t){let{gos:i,columnModel:n}=this,o=i.get("enableRtl"),r=n.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned),s=null,a=null,l=null;for(let d of r){if(a=d.getActualWidth(),s=this.getNormalisedColumnLeft(d,0,o),s!=null){let u=s+a;if(s<=t&&u>=t){l=d;break}}s=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=r.length-1;d>=0;d--){let u=r[d],h=r[d].getParent();if(!h){l=u;break}let p=h?.getDisplayedLeafColumns();if(p.length){l=De(p);break}}if(!l)return;s=this.getNormalisedColumnLeft(l,0,o),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||s==null||a==null)return;let c;t-s<a/2!==o?c=0:c=1,l.setHighlighted(c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){let{gos:i,visibleColsService:n}=this,o=i.get("enableRtl"),{firstMovingCol:r,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,o);if(!r||!s||a==null)return;let l=n.getAllCols(),c=l.indexOf(r),d=l.indexOf(s),u=a===0!==o,h=c<d||c===d&&!u,p=0;if(u?h&&(p-=1):h||(p+=1),d+p===c)return;let g=l[d+p];if(!g)return;let C=this.getNormalisedColumnLeft(g,20,o);return{fromLeft:h,xPosition:C}}getColumnMoveAndTargetInfo(e,t,i){let n=this.lastHighlightedColumn||{},{firstMovingCol:o,lastMovingCol:r}=this.findFirstAndLastMovingColumns(e);if(!o||!r||n.column||!t)return E({firstMovingCol:o},n);let a=this.getPinDirection()==="left";return{firstMovingCol:o,position:a?1:0,column:a!==i?o:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,i){let{gos:n,ctrlsService:o}=this,r=e.getLeft();if(r==null)return null;let s=e.getActualWidth();return Xl({x:i?r+s-t:r+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:n,ctrlsService:o})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>rC;return t&&i||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:i,fromEnter:n,fakeEvent:o,fromLeft:r}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:r,fromEnter:n,fakeEvent:o}),{columns:a,toIndex:l}=O0(s)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+Ml,this.needToMoveLeft=e>n-Ml):(this.needToMoveLeft=e<i+Ml,this.needToMoveRight=e>n-Ml),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),a3),this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*s3,e>Mh&&(e=Mh);let t=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=rC+1)return;if(this.dragAndDropService.getDragAndDropImageComponent()?.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){let n=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(n,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){let n=(e||[]).filter(o=>!o.getColDef().lockPinned);return n.length?(i&&(t=this.getPinDirection()),this.columnModel.setColsPinned(n,t,"uiColumnDragged"),i&&this.dragAndDropService.nudge(),n.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},c3=class extends T{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new l3(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new t3(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},d3=class extends T{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n,o){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=o}postConstruct(){let e=[],t,i,n=()=>{if(Ye(this.eResize,t),!t)return;let s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(s),i){let a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);let c=new zn(this.eResize);c.addEventListener("doubleTap",l),e.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},o=()=>{e.forEach(s=>s()),e.length=0},r=()=>{let s=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||a!==i)&&(t=s,i=a,o(),n())};r(),this.addDestroyFunc(o),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){let{column:i,lastResizeAmount:n,resizeStartWidth:o}=this,r=this.normaliseResizeAmount(t),s=o+r,a=[{key:i,newWidth:s}];if(this.column.getPinned()){let l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),d=ia(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(r-n)>d)return}this.lastResizeAmount=r,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,i=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}},u3=class extends T{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){let e=t=>{t&&typeof t!="string"&&(this.selectionOptions=t)};e(this.gos.get("rowSelection")),this.addManagedPropertyListener("rowSelection",t=>e(t.currentValue))}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Qe(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Zh),this.cbSelectAll.addCssClass("ag-header-select-all"),Ut(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),Gh(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);let t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){let e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${n} (${i})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return Lh(this.gos)?!0:(A(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return Xe(this.gos)||fn(this.gos)?!0:(A(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly(),n="uiSelectAll";i?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");let o={source:n,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(o):this.selectionService.deselectAllRowNodes(o)}isCheckboxSelection(){let e=this.selectionOptions,t=e&&zl(e)&&mr(this.column),i=this.column.getColDef().headerCheckboxSelection,n=!1;return t?n=!0:typeof i=="function"?n=i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):n=!!i,n&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){let e=this.selectionOptions;return e!==void 0?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){let e=this.selectionOptions;return e!==void 0?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},h3=class extends nc{constructor(e,t,i){super(e,t,i),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,n,o){this.comp=e,o=ta(this,this.beans.context,o),this.setGui(t,o),this.updateState(),this.setupWidth(o),this.setupMovingCss(o),this.setupMenuClass(o),this.setupSortableClass(o),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:s=>this.setRefreshFunction("measuring",s),compBean:o}),this.addColumnHoverListener(o),this.setupFilterClass(o),this.setupClassesFromColDef(),this.setupTooltip(o),this.addActiveHeaderMouseListeners(o),this.setupSelectAll(o),this.setupUserComp(o),this.refreshAria(),this.resizeFeature=o.createManagedBean(new d3(this.getPinned(),this.column,i,e,this)),o.createManagedBean(new rp([this.column],t)),o.createManagedBean(new op(this.column,t,this.beans)),o.createManagedBean(new So(t,{shouldStopEventPropagation:s=>this.shouldStopEventPropagation(s),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(o),o.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(o)),o.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(o)}),o.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let r=()=>this.checkDisplayName(o);o.addManagedEventListeners({columnValueChanged:r,columnRowGroupChanged:r,columnPivotChanged:r,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),o.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;let i=this.column.getActualWidth(),n=this.column.getMinWidth(),o=this.column.getMaxWidth(),r=Math.min(Math.max(i+e,n),o);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:r}],t,!0,"uiColumnResized")}moveHeader(e){let{eGui:t,beans:i,column:n,ctrlsService:o}=this,{gos:r,columnModel:s,columnMoveService:a,visibleColsService:l}=i,c=this.getPinned(),d=t.getBoundingClientRect().left,u=n.getActualWidth(),h=r.get("enableRtl"),g=Xl({x:e===0!==h?d-20:d+u+20,pinned:c,fromKeyboard:!0,gos:r,ctrlsService:o}),C=this.focusService.getFocusedHeader();dp({allMovingColumns:[n],isFromHeader:!0,fromLeft:e===1,xPosition:g,pinned:c,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:s,columnMoveService:a,visibleColsService:l,finished:!0}),o.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&C&&this.restoreFocus(C)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:ce(E({},e),{column:this.column})})}setupUserComp(e){let t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){let t=this.createParams(e),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,n)=>{this.beans.sortController.setSortForColumn(this.column,i,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,n)=>{this.setupTooltip(e,i,n)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new u3(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===P.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===P.ENTER&&this.onEnterKeyDown(e),e.key===P.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){let t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){let i=this.comp.getUserCompInstance();!i||!(i instanceof Eh)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){let t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let n=this.gos.get("tooltipShowMode")==="whenTruncated",o=this.eGui,r=this.column.getColDef();!i&&n&&!r.headerComponent&&(i=()=>{let l=o.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});let s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i},a=e.createManagedBean(new wr(s));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),i=I0(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(o=>{n.has(o)?n.delete(o):this.comp.addOrRemoveCssClass(o,!0)}),n.forEach(o=>this.comp.addOrRemoveCssClass(o,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;let{column:t,beans:i,displayName:n,dragAndDropService:o,gos:r}=this,{columnModel:s}=i,a=!this.gos.get("suppressDragLeaveHidesColumns"),l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),hr([t],!0)},onDragStopped:()=>hr([t],!1),onDragCancelled:()=>hr([t],!1),onGridEnter:c=>{if(a){let d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];s.setColsVisible(d,!0,"uiColumnMoved")}},onGridExit:c=>{if(a){let d=c?.columns?.filter(u=>!u.getColDef().lockVisible)||[];s.setColsVisible(d,!1,"uiColumnMoved")}}};o.addDragSource(l,!0)}createDragItem(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){let t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:i,beans:n}=this;if(!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}let{numberOfParents:o,isSpanningTotal:r}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);let{columnModel:s}=n,a=s.getColumnHeaderRowHeight();if(o===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${a}px`);return}i.addOrRemoveCssClass("ag-header-span-total",r);let l=this.beans.columnModel.getGroupRowsHeight(),c=0;for(let d=0;d<o;d++)c+=l[l.length-1-d];e.style.setProperty("top",`${-c}px`),e.style.setProperty("height",`${a+c}px`)}refreshAriaSort(){if(this.sortable){let e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(gE(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){let e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Qe(this.beans.gos)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){let t=()=>{if(!this.gos.get("columnHoverHighlight"))return;let i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){let t=o=>this.handleMouseOverChange(o.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),n=o=>this.handleContextMenuMouseEvent(o,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return t instanceof Eh?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},p3=class extends T{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){let t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{let i=[];this.columnGroup.getDisplayedLeafColumns().forEach(o=>{o.getColDef().suppressAutoSize||i.push(o.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){let t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){let n=this.normaliseDragChange(t),o=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(o,i,e)}getInitialValues(e){let t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),n=this.getSizeRatiosOfColumns(t,i),o={columnsToResize:t,resizeStartWidth:i,resizeRatios:n},r=null;if(e&&(r=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),r){let s=r.getDisplayedLeafColumns(),a=o.groupAfterColumns=s.filter(c=>c.isResizable()),l=o.groupAfterStartWidth=this.getInitialSizeOfColumns(a);o.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}storeLocalValues(e){let{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:o,groupAfterStartWidth:r,groupAfterRatios:s}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=o,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=s}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){let t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;let n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(n,e,t,i)}resizeColumns(e,t,i,n=!0){let{columnsToResize:o,resizeStartWidth:r,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,d=[];if(d.push({columns:o,ratios:s,width:t}),a){let u=t-r;d.push({columns:a,ratios:c,width:l-u})}this.columnSizeService.resizeColumnSets({resizeSets:d,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},g3=class extends T{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},m3=class extends nc{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){let n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,i,n,o){this.comp=e,o=ta(this,this.beans.context,o),this.setGui(t,o),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(o),this.setupExpandable(o),this.setupTooltip(o),this.setupAutoHeight({wrapperElement:n,compBean:o}),this.setupUserComp(o),this.addHeaderMouseListeners(o);let r=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();o.createManagedBean(new rp(s,t)),o.createManagedBean(new op(this.column,t,this.beans)),o.createManagedBean(new g3(e,this.column)),this.resizeFeature=o.createManagedBean(new p3(e,i,r,this.column)),o.createManagedBean(new So(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(o,s),o.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(o),o.addDestroyFunc(()=>this.clearComponent())}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),i=t[0]===e,n=De(t)===e;if(!i&&!n)return;let o=e.getHighlighted(),r=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving()),s=!1,a=!1;if(r){let l=this.beans.gos.get("enableRtl"),c=o===1,d=o===0;i&&(l?a=c:s=d),n&&(l?s=d:a=c)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",s),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;let i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){let{beans:t,eGui:i,column:n,ctrlsService:o}=this,{gos:r,columnModel:s,columnMoveService:a,visibleColsService:l}=t,c=r.get("enableRtl"),d=e===0,u=this.getPinned(),h=i.getBoundingClientRect(),p=h.left,g=h.width,C=Xl({x:d!==c?p-20:p+g+20,pinned:u,fromKeyboard:!0,gos:r,ctrlsService:o}),m=n.getGroupId(),x=this.focusService.getFocusedHeader();dp({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:C,pinned:u,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:s,columnMoveService:a,visibleColsService:l,finished:!0});let R=n.getDisplayedLeafColumns(),D=d?R[0]:De(R);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(D,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&x&&this.restoreFocus(m,n,x)}restoreFocus(e,t,i){let n=t.getLeafColumns();if(!n.length)return;let o=n[0].getParent();if(!o)return;let r=this.findGroupWidthId(o,e);r&&this.focusService.focusHeaderPosition({headerPosition:ce(E({},i),{column:r})})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){let t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:n=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),n,"gridInitializing")},setTooltip:(n,o)=>{this.setupTooltip(e,n,o)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){let t=o=>this.handleMouseOverChange(o.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=o=>this.handleContextMenuMouseEvent(o,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));let n=this.column.getColGroupDef(),o=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui;!i&&o&&!n?.headerGroupComponent&&(i=()=>{let a=r.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});let s={getColumn:()=>this.column,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:i};n&&(s.getColDef=()=>n),e.createManagedBean(new wr(s))}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){let e=this.column.getColGroupDef(),t=I0(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){let i=this.column.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(o=>{e.addManagedListeners(o,{movingChanged:n})}),n()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){let t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===P.ENTER){let i=this.column,n=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;let{beans:t,column:i,displayName:n,gos:o,dragAndDropService:r}=this,{columnModel:s}=t,a=i.getProvidedColumnGroup().getLeafColumns(),l=!o.get("suppressDragLeaveHidesColumns"),c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!o.get("suppressDragLeaveHidesColumns"),hr(a,!0)},onDragStopped:()=>hr(a,!1),onDragCancelled:()=>hr(a,!1),onGridEnter:d=>{if(l){let{columns:u=[],visibleState:h}=d??{},p=u.filter(g=>!g.getColDef().lockVisible&&(!h||h[g.getColId()]));s.setColsVisible(p,!0,"uiColumnMoved")}},onGridExit:d=>{if(l){let u=d?.columns?.filter(h=>!h.getColDef().lockVisible)||[];s.setColsVisible(u,!1,"uiColumnMoved")}}};r.addDragSource(c,!0)}getDragItemForGroup(e){let t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(s=>i[s.getId()]=s.isVisible());let n=[];this.beans.visibleColsService.getAllCols().forEach(s=>{t.indexOf(s)>=0&&(n.push(s),Lt(t,s))}),t.forEach(s=>n.push(s));let o=[],r=e.getLeafColumns();for(let s of n)r.indexOf(s)!==-1&&o.push(s);return{columns:n,columnsInSplit:o,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},f3=0,ah=class extends T{constructor(e,t,i){super(),this.instanceId=f3++,this.rowIndex=e,this.pinned=t,this.type=i;let n=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=wt(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,i=!0){this.comp=e,t=ta(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Ol(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=wt(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let{columnModel:e,filterManager:t}=this.beans,i=[],n=e.getGroupRowsHeight(),o=e.getColumnHeaderRowHeight();i.push(...n),i.push(o),t?.hasFloatingFilters()&&i.push(e.getFloatingFiltersHeight());let r=0;for(let a=0;a<this.rowIndex;a++)r+=i[a];let s=i[this.rowIndex];return{topOffset:r,rowHeight:s}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){let t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){let e=this.headerCellCtrls;this.headerCellCtrls=new Map;let t=this.getColumnsInViewport();for(let n of t)this.recycleAndCreateHeaderCtrls(n,e);let i=n=>{let{focusService:o,visibleColsService:r}=this.beans;return o.isHeaderWrapperFocused(n)?r.isVisible(n.getColumnGroupChild()):!1};if(e)for(let[n,o]of e)i(o)?this.headerCellCtrls.set(n,o):this.destroyBean(o);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;let i=e.getUniqueId(),n;if(t&&(n=t.get(i),t.delete(i)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":n=this.createBean(new m3(e,this.beans,this));break;default:n=this.createBean(new h3(e,this.beans,this));break}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(n=>{let o=i.getHeadersToRender(n,t);e=e.concat(o)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;let t=this.getHeaderCellCtrls(),i;return typeof e=="function"?i=t.find(e):i=t.find(n=>n.getColumnGroupChild()==e),i}focusHeader(e,t){let i=this.findHeaderCellCtrl(e);return i?i.focus(t):!1}destroy(){this.headerCellCtrls?.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},v3=class extends T{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);let i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i});let n=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(n,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let t=new vr,i=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{let a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){let c=this.createBean(new ah(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},o=()=>{let a=t.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new ah(a,this.pinned,"column")))},r=()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;let a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}let l=t.next();if(this.filtersRowCtrl){let c=this.filtersRowCtrl.getRowIndex()!==l;(!e||c)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new ah(l,this.pinned,"filter")))};n(),o(),r();let s=this.getAllCtrls();this.comp.setCtrls(s),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){if(jn(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){let i=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(i)return i}}getHtmlElementForColumnHeader(e){let t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){let i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){let o=this.getAllCtrls()[e];return o?o.focusHeader(t,i):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){let t=new c3(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;let{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){let e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new cp(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;let e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;let i=()=>{let n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;let o=n==0,r=this.hidden!==o,s=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(s&&e||!s&&t)?n+a:n;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!o),r&&(this.hidden=o,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},C3='<div class="ag-pinned-left-header" role="rowgroup"></div>',b3='<div class="ag-pinned-right-header" role="rowgroup"></div>',w3=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,lh=class extends ke{constructor(e){super(),this.eCenterContainer=Z,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{let n=this.getGui();n.style.width=i,n.style.maxWidth=i,n.style.minWidth=i}};this.createManagedBean(new v3(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",i=e?C3:t?b3:w3;this.setTemplate(i),this.eRowContainer=this.eCenterContainer!==Z?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i,n=o=>{let r=o.getGui();r.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(r),i&&XC(this.eRowContainer,r,i),i=r};e.forEach(o=>{let r=o.instanceId,s=t[r];delete t[r];let a=s||this.createBean(new XD(o));this.headerRowComps[r]=a,this.rowCompsList.push(a),n(a)}),Wn(t).forEach(o=>this.destroyRowComp(o))}},y3=class extends ke{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){let e={addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new e3).setComp(e,this.getGui(),this.getFocusableElement());let i=n=>{this.createManagedBean(n),this.appendChild(n)};i(new lh("left")),i(new lh(null)),i(new lh("right"))}},S3={selector:"AG-HEADER-ROOT",component:y3};var up=class extends T{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){let e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(A(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},_3=class extends ke{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=Z,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==P.TAB||e.defaultPrevented||pn(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=this.focusService.focusGridView(De(this.visibleColsService.getAllCols()),!0,!1):i=this.focusService.focusNextGridCoreContainer(!1),i&&e.preventDefault()}updateLayoutClasses(e,t){let i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new up(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){let o=Qe(this.gos);o&&!yC(this.gos)&&(this.elToFocusAfter=o)}e.then(o=>{if(this.activePromise!==e){this.activeOverlay!==o&&(this.destroyBean(o),o=null);return}if(this.activePromise=null,!o)return;if(this.activeOverlay!==o&&(this.eOverlayWrapper.appendChild(o.getGui()),this.activeOverlay=o,n)){let s=o;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:a})=>{s.refresh?.(this.gos.addGridCommonParams(E({},a??{})))})}let r=this.focusService;i&&r.isGridFocused()&&r.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);let i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),xt(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},x3={selector:"AG-OVERLAY-WRAPPER",component:_3},L0=class extends ke{constructor(e,t){super(),this.direction=t,this.eViewport=Z,this.eContainer=Z,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",UC()||$n())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=KC(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){let t=this.getViewportElement();_x(()=>Oi(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},E3=class extends L0{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=Z,this.eRightSpacer=Z}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new cp(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.visibleColsService.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,n=this.scrollVisibleService.getScrollbarWidth();i&&(t+=n),Ai(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let o=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(o+=n),Ai(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=n)}setScrollVisible(){let e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleService.getScrollbarWidth()||0,r=i?0:n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ws(this.getGui(),r),Ws(this.eViewport,r),Ws(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return ql(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){Oi(this.getViewportElement())||this.attemptSettingScrollPosition(e),Yl(this.getViewportElement(),e,this.enableRtl)}},R3={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:E3},N0=class extends T{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){let e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},D3=class extends L0{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new N0(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){let e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=i===0&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ai(this.getGui(),n),Ai(this.eViewport,n),Ai(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){let{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),o=i.scrollTop;n!=o&&this.setScrollPosition(o,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!Oi(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},I3={selector:"AG-FAKE-VERTICAL-SCROLL",component:D3},Fh=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(Fh||{}),M3=class extends T{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Ot(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Ot(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(let e of Object.values(Fh)){let t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?Ot(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?Ot(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...Object.values(Fh),"Viewport"]){if(this.lastScrollSource[1]===t)continue;let i=this.getViewportForSource(t);Yl(i,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;let n=ql(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(Math.round(n)),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){let t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent(ce(E({},t),{type:"bodyScrollEnd"}))},100)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!$n()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=Kh(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Kl()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){let e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){let n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Kl()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),Yl(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){let t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let i=this.rowModel.getRowCount(),n=-1;for(let o=0;o<i;o++){let r=this.rowModel.getRow(o);if(typeof e=="function"){if(r&&e(r)){n=o;break}}else if(e===r||e===r.data){n=o;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(wt(this.gos,"print"))return;let i=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=i){A("Invalid row index for ensureIndexVisible: "+e);return}let o=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{o||this.paginationService?.goToPageWithIndex(e);let r=this.ctrlsService.getGridBodyCtrl(),s=r.getStickyTopHeight(),a=r.getStickyBottomHeight(),l=this.rowModel.getRow(e),c;do{let d=l.rowTop,u=l.rowHeight,h=this.pageBoundsService.getPixelOffset(),p=l.rowTop-h,g=p+l.rowHeight,C=this.getVScrollPosition(),m=this.heightScaler.getDivStretchOffset(),x=C.top+m,R=C.bottom+m,D=R-x,N=this.heightScaler.getScrollPositionForPixel(p),re=this.heightScaler.getScrollPositionForPixel(g-D),X=Math.min((N+re)/2,p),te=x+s>p,de=R-a<g,ye=null;t==="top"?ye=N:t==="bottom"?ye=re:t==="middle"?ye=X:te?ye=N-s:de&&(ye=re+a),ye!==null&&(this.setVerticalScrollPosition(ye),this.rowRenderer.redraw({afterScroll:!0})),c=d!==l.rowTop||u!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){let i=this.columnModel.getCol(e);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;let n=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),o=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl,a=(s?i:n)||o,l=s?n:i;t!=="auto"&&(a=t==="start",l=t==="end");let c=t==="middle";if(a||l||c){let{colLeft:d,colMiddle:u,colRight:h}=this.getColumnBounds(e);return c?u-r/2:a?s?h:d:s?d-r:h-r}return null}isColumnOutsideViewport(e){let{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:o}=this.getColumnBounds(e),r=this.enableRtl,s=r?t>o:i<o,a=r?i<n:t>n;return{columnBeforeStart:s,columnAfterEnd:a}}getColumnBounds(e){let t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),o=e.getLeft(),r=t?-1:1,s=t?i-o:o,a=s+n*r,l=s+n/2*r;return{colLeft:s,colMiddle:l,colRight:a}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,n=e+t;return{start:i,end:n,width:e}}},F3=class extends T{wireBeans(e){this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.getBodyViewportElement(),t=ia(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns");i.length&&(n&&(i=n({columns:i,viewportWidth:t})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){let t=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),n=t+i;if(n<e)return[];let o=[...this.visibleColsService.getLeftCols()],r=[...this.visibleColsService.getRightCols()],s=0,a=0,l=0,c=[],d=n-l-e;for(;(a<o.length||s<r.length)&&d>0;){if(s<r.length){let u=r[s++];d-=u.getActualWidth(),c.push(u)}if(a<o.length&&d>0){let u=o[a++];d-=u.getActualWidth(),c.push(u)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.getBodyViewportElement(),t=Kh(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},T3=class extends T{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Xi(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),Xi(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},k3=class extends ke{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Xh]),this.eCheckbox=Z}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=Wh(e,t),[n,o]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],r=e(n,o);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${r} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>gr(n),click:n=>{gr(n);let o=Nh(this.gos)==="filteredDescendants",r=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(r,o)?this.onClicked(!0,o,n||{})===0&&this.onClicked(!1,o,n):r?this.onClicked(!1,o,n):this.onClicked(!0,o,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),Oh(this.gos)||typeof this.getIsVisible()=="function"){let n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&Xe(this.gos)}showOrHideSelect(){let e=this.rowNode.selectable,t=this.getIsVisible();if(e)if(typeof t=="function"){let o=this.overrides?.callbackParams;if(!this.column)e=t(ce(E({},o),{node:this.rowNode,data:this.rowNode.data}));else{let r=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t(E(E({},o),r))}}else e=t??!1;let i=this.gos.get("rowSelection");if(i&&typeof i!="string"?!Ix(i):this.column?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if(this.overrides?.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){if(this.overrides)return this.overrides.isVisible;let e=this.gos.get("rowSelection");return e&&typeof e!="string"?pr(e):this.column?.getColDef()?.checkboxSelection}},P3=class extends ke{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(ni("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);let i=()=>{try{let n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){let n=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(n)}else i()}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},A3=class extends T{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){let e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){let i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;t=n(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){let e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},O3=class extends T{constructor(e,t,i,n,o){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=o}setComp(e){this.eGui=e}onKeyDown(e){let t=e.key;switch(t){case P.ENTER:this.onEnterKeyDown(e);break;case P.F2:this.onF2KeyDown(e);break;case P.ESCAPE:this.onEscapeKeyDown(e);break;case P.TAB:this.onTabKeyDown(e);break;case P.BACKSPACE:case P.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case P.DOWN:case P.UP:case P.RIGHT:case P.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;let t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:i,beans:n,rowNode:o}=this,{gos:r,rangeService:s,eventService:a}=n;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),oD(e,r.get("enableCellEditingOnBackspace"))){if(s&&Xi(r))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){let l=i.getColumn(),c=this.beans.valueService.getDeleteValue(l,o);o.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){let t=e.shiftKey?P.UP:P.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(P.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(P.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;let n=e.key;n===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(n,e)&&e.preventDefault()}onSpaceKeyDown(e){let{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&Hl(t)){let i=this.rowNode.isSelected(),n=!i,o=Nh(t)==="filteredDescendants",r=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:o,event:e,source:"spaceKey"});i===void 0&&r===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:o,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},L3=class extends T{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!pn(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}let{eventService:t,rangeService:i,gos:n}=this.beans,o=e.ctrlKey||e.metaKey;i&&o&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);let r=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(r);let s=this.column.getColDef();s.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{s.onCellClicked(r)})},0),(n.get("singleClickEdit")||s.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&i?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!$n()||MC("dblclick"))return!1;let e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){let{column:t,beans:i,cellCtrl:n}=this,{eventService:o,frameworkOverrides:r,gos:s}=i,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");o.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!s.get("singleClickEdit")&&!s.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){let{ctrlKey:t,metaKey:i,shiftKey:n}=e,o=e.target,{cellCtrl:r,beans:s}=this,{eventService:a,rangeService:l,focusService:c,gos:d}=s;if(this.isRightClickInExistingRange(e))return;let u=l&&l.getCellRanges().length!=0;if(!n||!u){let p=d.get("enableCellTextSelection")&&e.defaultPrevented,g=(Ji()||p)&&!r.isEditing()&&!$h(o);r.focusCell(g)}if(n&&u&&!c.isCellFocused(r.getCellPosition())){e.preventDefault();let h=c.getFocusedCell();if(h){let{column:p,rowIndex:g,rowPinned:C}=h,x=s.rowRenderer.getRowByPosition({rowIndex:g,rowPinned:C})?.getCellCtrl(p);x?.isEditing()&&x.stopEditing(),c.setFocusedCell({column:p,rowIndex:g,rowPinned:C,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(o)){if(l){let h=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(h);else{let p=t||i;l.setRangeToCell(h,p)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeService:t}=this.beans;if(t){let i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return ur(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.getGui(),i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){super.destroy()}},N3=class extends T{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();Un(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;let e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let i=this.column,n=this.column.getPinned();for(let o=0;i&&o<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),!(!i||Fe(i)||n!==i.getPinned()));o++);}return t}onLeftChanged(){if(!this.eGui)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=De(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;let t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){let i=this.beans.visibleColsService.getBodyContainerWidth();return t+i+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;let i=mo(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}};var Ns="ag-cell-range-selected",V3="ag-cell-range-chart",H3="ag-cell-range-single-cell",B3="ag-cell-range-chart-category",z3="ag-cell-range-handle",G3="ag-cell-range-top",W3="ag-cell-range-right",j3="ag-cell-range-bottom",U3="ag-cell-range-left",$3=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ns,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Ns}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Ns}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Ns}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Ns}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(V3,this.hasChartRange),Ul(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(H3,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){let e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,n=!t&&e.right,o=!t&&e.bottom,r=!t&&e.left;this.cellComp.addOrRemoveCssClass(G3,i),this.cellComp.addOrRemoveCssClass(W3,n),this.cellComp.addOrRemoveCssClass(j3,o),this.cellComp.addOrRemoveCssClass(U3,r)}isSingleCell(){let{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){let{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;let t=e.getCellRanges();return t.length>0&&t.every(i=>fo([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){let e=this.beans.gos.get("enableRtl"),t=!1,i=!1,n=!1,o=!1,r=this.cellCtrl.getCellPosition().column,s=this.beans.visibleColsService,a,l;e?(a=s.getColAfter(r),l=s.getColBefore(r)):(a=s.getColBefore(r),l=s.getColAfter(r));let c=this.rangeService.getCellRanges().filter(d=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),d));a||(o=!0),l||(i=!0);for(let d=0;d<c.length&&!(t&&i&&n&&o);d++){let u=c[d],h=this.rangeService.getRangeStartRow(u),p=this.rangeService.getRangeEndRow(u);!t&&this.beans.rowPositionUtils.sameRow(h,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(p,this.cellCtrl.getCellPosition())&&(n=!0),!o&&a&&u.columns.indexOf(a)<0&&(o=!0),!i&&l&&u.columns.indexOf(l)<0&&(i=!0)}return{top:t,right:i,bottom:n,left:o}}refreshHandle(){if(this.beans.context.isDestroyed())return;let e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(z3,!!this.selectionHandle)}shouldHaveSelectionHandle(){let e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;let n=De(t),o=this.cellCtrl.getCellPosition(),r=Kv(e)&&!this.cellCtrl.isSuppressFillHandle(),s=kx(e),a=i===1&&!this.cellCtrl.isEditing()&&(r||s);if(this.hasChartRange){let c=t[0].type===1&&this.rangeService.isCellInSpecificRange(o,t[0]);this.cellComp.addOrRemoveCssClass(B3,c),a=n.type===0}return a&&n.endRow!=null&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,o)}addSelectionHandle(){let e=De(this.rangeService.getCellRanges()).type,i=Kv(this.beans.gos)&&Fe(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},K3="ag-cell",q3="ag-cell-auto-height",Y3="ag-cell-normal-height",Q3="ag-cell-focus",Z3="ag-cell-first-right-pinned",X3="ag-cell-last-left-pinned",J3="ag-cell-not-inline-editing",e2="ag-column-hover",t2="ag-cell-wrap-text",i2=0,n2=(()=>{let e=class Th extends T{constructor(i,n,o,r){super(),this.column=i,this.rowNode=n,this.beans=o,this.rowCtrl=r,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=i.getId()+"-"+i2++,this.colIdSanitised=Zi(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new N3(this,this.beans),this.cellCustomStyleFeature=new A3(this,this.beans),this.cellMouseListenerFeature=new L3(this,this.beans,this.column),this.cellKeyboardListenerFeature=new O3(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Xi(this.beans.gos)&&(this.cellRangeFeature=new $3(this.beans,this))}removeFeatures(){let i=this.beans.context;this.cellPositionFeature=i.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=i.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=i.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=i.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=i.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(i,n){let o=()=>{let a=this.column.getColDef(),l=this.rowNode.data;if(a.tooltipField&&B(l))return Gs(l,a.tooltipField,this.column.isTooltipFieldContainsDots());let c=a.tooltipValueGetter;return c?c(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},r=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!n&&r&&!this.isCellRenderer()&&(n=()=>{let a=this.getGui(),l=a.children.length===0?a:a.querySelector(".ag-cell-value");return l?l.scrollWidth>l.clientWidth:!0});let s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:i!=null?()=>i:o,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:n};this.tooltipFeature=new wr(s,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(i,n,o,r,s,a){this.cellComp=i,this.eGui=n,this.printLayout=r,a??(a=this),this.addDomData(a),this.addFeatures(),a.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(o,a),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(n),this.cellCustomStyleFeature?.setComp(i),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(i,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(l=>l()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(i,n){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!i)return;let o=i.parentElement,r=Gn(this.beans.gos,this.rowNode).height,s=c=>{if(this.editing||!this.isAlive()||!n.isAlive())return;let{paddingTop:d,paddingBottom:u,borderBottomWidth:h,borderTopWidth:p}=yo(o),g=d+u+h+p,m=i.offsetHeight+g;if(c<5){let R=it(this.beans.gos),D=!R||!R.contains(i),N=m==0;if(D||N){window.setTimeout(()=>s(c+1),0);return}}let x=Math.max(m,r);this.rowNode.setRowAutoHeight(x,this.column)},a=()=>s(0);a();let l=this.beans.resizeObserverService.observeResize(i,a);n.addDestroyFunc(()=>{l(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let i=this.column.getColDef();return i.cellRenderer!=null||i.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(i=!1){let n=this.getValueToDisplay(),o;if(this.rowNode.stub&&this.rowNode.groupData?.[this.column.getId()]==null){let s=this.createCellRendererParams();o=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),s)}else if(this.isCellRenderer()){let s=this.createCellRendererParams();o=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),s)}this.cellComp.setRenderDetails(o,n,i),this.cellRangeFeature?.refreshHandle()}setupControlComps(){let i=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(i)),this.includeRowDrag=this.isIncludeControl(i.rowDrag),this.includeDndSource=this.isIncludeControl(i.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(i){return this.rowNode.rowPinned!=null?!1:typeof i=="function"||i===!0}isCheckboxSelection(i){let{rowSelection:n}=this.beans.gridOptions;return i.checkboxSelection||mr(this.column)&&n&&typeof n!="string"&&pr(n)}refreshShouldDestroy(){let i=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(i)),o=this.includeRowDrag!=this.isIncludeControl(i.rowDrag),r=this.includeDndSource!=this.isIncludeControl(i.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return n||o||r||s}startEditing(i=null,n=!1,o=null){let{editService:r}=this.beans;return!this.isCellEditable()||this.editing||!r?!0:this.cellComp?r.startEditing(this,i,n,o):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(i,n,o)}),!0)}setEditing(i,n){this.editCompDetails=n,this.editing!==i&&(this.editing=i,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(i=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(i):this.stopEditing(i)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(i=!1){this.onCellEditorAttachedFuncs=[];let{editService:n}=this.beans;return!this.editing||!n?!1:n.stopEditing(this,i)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:n=>this.beans.valueService.setValue(this.rowNode,this.column,n),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(n,o,r,s)=>this.registerRowDragger(n,o,s),setTooltip:(n,o)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(n,o),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(i){i.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(i){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(i)}refreshCell(i){if(this.suppressRefreshCell||this.editing)return;let n=this.column.getColDef(),o=i!=null&&!!i.newData,r=i!=null&&!!i.suppressFlash||!!n.suppressCellFlash,s=n.field==null&&n.valueGetter==null&&n.showRowGroup==null,a=i&&i.forceRefresh||s||o,l=!!this.cellComp,c=this.updateAndFormatValue(l),d=a||c;if(l){if(d){this.showValue(o);let u=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!r&&!u&&(this.beans.gos.get("enableCellChangeFlash")||n.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(i=!1,n=!1){this.beans.editService?.stopEditingAndFocus(this,i,n)}flashCell(i){let n=i?.flashDuration??i?.flashDelay,o=i?.fadeDuration??i?.fadeDelay;this.animateCell("data-changed",n,o)}animateCell(i,n,o){if(!this.cellComp)return;let{gos:r}=this.beans;if(n||(n=r.get("cellFlashDuration")),n===0)return;B(o)||(o=r.get("cellFadeDuration"));let s=`ag-cell-${i}`,a=`ag-cell-${i}-animation`;this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(a,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(a,!0),this.eGui.style.transition=`background-color ${o}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(a,!1),this.eGui.style.transition="")},o))},n)})}onFlashCells(i){if(!this.cellComp)return;let n=this.beans.cellPositionUtils.createId(this.getCellPosition());i.cells[n]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(i){return this.callValueFormatter(i)??i}callValueFormatter(i){return this.beans.valueService.formatValue(this.column,this.rowNode,i)}updateAndFormatValue(i){let n=this.value,o=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),i?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=o:!0}valuesAreEqual(i,n){let o=this.column.getColDef();return o.equals?o.equals(i,n):i===n}getComp(){return this.cellComp}getValue(){return this.value}addDomData(i){let n=this.getGui();bo(this.beans.gos,n,Th.DOM_DATA_KEY_CELL_CTRL,this),i.addDestroyFunc(()=>bo(this.beans.gos,n,Th.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(i,n){return this.beans.gos.addGridCommonParams({type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:i,rowIndex:this.rowNode.rowIndex})}processCharacter(i){this.cellKeyboardListenerFeature?.processCharacter(i)}onKeyDown(i){this.cellKeyboardListenerFeature?.onKeyDown(i)}onMouseEvent(i,n){this.cellMouseListenerFeature?.onMouseEvent(i,n)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{cellComp:i,column:n,beans:o}=this;M0(i,n,o.visibleColsService)}refreshAriaColIndex(){let i=this.beans.visibleColsService.getAriaColIndex(this.column);WC(this.getGui(),i)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(i,n=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(i,this):this.startEditing(i,!0,n):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(i,n)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(i=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:i})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(i){this.eGui&&vi(this.eGui,"tabindex",i?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;let i=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Z3,i)}onLastLeftPinnedChanged(){if(!this.cellComp)return;let i=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(X3,i)}onCellFocused(i){if(this.beans.focusService.isCellFocusSuppressed())return;let n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&i?.forceBrowserFocus&&(this.focusEventToRestore=i);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(Q3,n),n&&i&&i.forceBrowserFocus){let r=this.cellComp.getFocusableElement();if(this.editing){let s=this.beans.focusService.findFocusableElements(r,null,!0);s.length&&(r=s[0])}r.focus({preventScroll:!!i.preventScrollOnBrowserFocus})}let o=this.beans.gos.get("editType")==="fullRow";!n&&!o&&this.editing&&this.stopRowOrCellEdit(),n&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:hn(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(K3,!0),this.cellComp.addOrRemoveCssClass(J3,!0);let i=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(q3,i),this.cellComp.addOrRemoveCssClass(Y3,!i)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;let i=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(e2,i)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){let i=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(t2,i)}dispatchCellContextMenuEvent(i){let n=this.column.getColDef(),o=this.createEvent(i,"cellContextMenu");this.beans.eventService.dispatchEvent(o),n.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{n.onCellContextMenu(o)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){let i=new k3;return this.beans.context.createBean(i),i.init({rowNode:this.rowNode,column:this.column}),i}createDndSource(){let i=new P3(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(i),i}registerRowDragger(i,n,o){if(this.customRowDragComp){this.customRowDragComp.setDragElement(i,n);return}let r=this.createRowDragComp(i,n,o);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(i,n,o){let r=this.beans.gos.get("pagination"),s=this.beans.gos.get("rowDragManaged"),a=Xe(this.beans.gos);if(s){if(!a){A("managed row dragging is only allowed in the Client Side Row Model");return}if(r){A("managed row dragging is not possible when doing pagination");return}}let l=new Rh(()=>this.value,this.rowNode,this.column,i,n,o);return this.beans.context.createBean(l),l}setSuppressRefreshCell(i){this.suppressRefreshCell=i}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(i){this.onCellEditorAttachedFuncs.push(i)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(i=>i()),this.onCellEditorAttachedFuncs=[]}};return e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e})(),vo=n2,o2=0,r2=(()=>{let e=class kh extends T{constructor(i,n,o,r,s){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=n,this.gos=n.gos,this.rowNode=i,this.paginationPage=n.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=r,this.printLayout=s,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=i.id+"-"+o2++,this.rowId=Zi(i.id),this.initRowBusinessKey(),this.rowFocused=n.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=n.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(o),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let i=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Zi(i)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(i,n){i==="left"?this.leftGui=n:i==="right"?this.rightGui=n:i==="fullWidth"?this.fullWidthGui=n:this.centerGui=n}setComp(i,n,o,r){r=ta(this,this.beans.context,r);let s={rowComp:i,element:n,containerType:o,compBean:r};this.allRowGuis.push(s),this.updateGui(o,s),this.initialiseRowComp(s),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(i){this.allRowGuis=this.allRowGuis.filter(n=>n.containerType!==i),this.updateGui(i,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(i){let n=i?"none":"";this.allRowGuis.forEach(o=>o.element.style.display=n)}initialiseRowComp(i){let n=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(i),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(i),this.updateRowIndexes(i),this.setFocusedClasses(i),this.setStylesFromGridOptions(!1,i),Hl(n)&&this.rowNode.selectable&&this.onRowSelected(i),this.updateColumnLists(!this.useAnimationFrameForCreate);let o=i.rowComp;this.getInitialRowClasses(i.containerType).forEach(s=>o.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(i),this.rowNode.group&&jl(i.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),bo(n,i.element,kh.DOM_DATA_KEY_ROW_CTRL,this),i.compBean.addDestroyFunc(()=>bo(n,i.element,kh.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,i),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(i),this.isFullWidth()&&this.setupFullWidth(i),n.get("rowDragEntireRow")&&this.addRowDraggerToRow(i),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&i.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(i){this.businessKeySanitised!=null&&i.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(i){this.rowId=Zi(this.rowNode.id),this.rowId!=null&&i.setRowId(this.rowId)}executeSlideAndFadeAnimations(i){let{containerType:n}=i;this.slideInAnimation[n]&&(Uv(()=>{this.onTopChanged()}),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(Uv(()=>{i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[n]=!1)}addRowDraggerToRow(i){if(Xi(this.gos)){A("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}let n=this.beans.localeService.getLocaleTextFunc(),o=new Rh(()=>`1 ${n("rowDragRow","row")}`,this.rowNode,void 0,i.element,void 0,!0),r=this.createBean(o,this.beans.context);this.rowDragComps.push(r),i.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(s=>s!==r),this.destroyBean(r,this.beans.context)})}setupFullWidth(i){let n=this.getPinnedForContainer(i.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;let o=this.createFullWidthCompDetails(i.element,n);i.rowComp.showFullWidth(o)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(i=>i?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(i){let n=this.getCellCtrl(i);return n?n.getGui():null}executeProcessRowPostCreateFunc(){let i=this.gos.getCallback("processRowPostCreate");if(!i||!this.areAllContainersReady())return;let n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};i(n)}areAllContainersReady(){let i=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),n=!!this.centerGui,o=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return i&&n&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let i=this.beans.gos.getCallback("isFullWidthRow");return i?i({rowNode:this.rowNode}):!1}setRowType(){let i=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),n=this.isNodeFullWidthCell(),o=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&ec(this.gos,r);i?this.rowType="FullWidthLoading":o?this.rowType="FullWidthDetail":n?this.rowType="FullWidth":a?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(i=!1,n=!1){if(this.isFullWidth())return;if(i||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(i,n,o=null){let r={list:[],map:{}},s=(a,l)=>{r.list.push(l),r.map[a]=l};return n.forEach(a=>{let l=a.getInstanceId(),c=i.map[l];c||(c=new vo(a,this.rowNode,this.beans,this)),s(l,c)}),i.list.forEach(a=>{let l=a.getColumn().getInstanceId();if(r.map[l]!=null)return;if(!this.isCellEligibleToBeRemoved(a,o)){s(l,a);return}a.destroy()}),r}updateColumnListsImpl(i){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(i)}setCellCtrls(i){this.allRowGuis.forEach(n=>{let o=this.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(o,i)})}getCellCtrlsForContainer(i){switch(i){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let i=this.beans.columnViewportService,n=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let o=i.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o);let r=n.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");let s=n.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(i,n){if(i.getColumn().getPinned()!=n)return!0;let a=i.isEditing(),l=this.beans.focusService.isCellFocused(i.getCellPosition());if(a||l){let d=i.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(d)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||wt(this.gos,"print")}listenOnDomOrder(i){let n=()=>{i.rowComp.setDomOrder(this.getDomOrder())};i.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],n)}setAnimateFlags(i){if(this.isSticky()||!i)return;let n=B(this.rowNode.oldRowTop),o=this.beans.visibleColsService.isPinningLeft(),r=this.beans.visibleColsService.isPinningRight();if(n){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=o,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=o,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let i=(l,c)=>l?l.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(l.element,c).params):!0,n=i(this.fullWidthGui,null),o=i(this.centerGui,null),r=i(this.leftGui,"left"),s=i(this.rightGui,"right");return n&&o&&r&&s}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(i=>i.onRowIndexChanged())},cellChanged:i=>{this.getAllCellCtrls().forEach(n=>n.onCellChanged(i))}})}onRowNodeDataChanged(i){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(o=>o.refreshCell({suppressFlash:!i.update,newData:!i.update})),this.allRowGuis.forEach(o=>{this.setRowCompRowId(o.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(o.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let i=this.rowNode.highlighted;this.allRowGuis.forEach(n=>{let o=i===0,r=i===1;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",o),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){let i=this.rowNode.dragging;this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-dragging",i))}updateExpandedCss(){let i=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(o=>{o.rowComp.addOrRemoveCssClass("ag-row-group",i),o.rowComp.addOrRemoveCssClass("ag-row-group-expanded",i&&n),o.rowComp.addOrRemoveCssClass("ag-row-group-contracted",i&&!n),jl(o.element,i&&n)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:hn(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(i){return this.allRowGuis.find(n=>n.element.contains(i))}onKeyboardNavigate(i){let n=this.findFullWidthRowGui(i.target);if(!((n?n.element:null)===i.target))return;let s=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a?.column??this.getColumnForFullWidth(n)};this.beans.navigationService.navigateToNextCell(i,i.key,l,!0),i.preventDefault()}onTabKeyDown(i){if(i.defaultPrevented||pn(i))return;let n=this.allRowGuis.find(c=>c.element.contains(i.target)),o=n?n.element:null,r=o===i.target,s=Qe(this.gos),a=!1;o&&s&&(a=o.contains(s)&&s.classList.contains("ag-cell"));let l=null;!r&&!a&&(l=this.beans.focusService.findNextFocusableElement(o,!1,i.shiftKey)),(this.isFullWidth()&&r||!l)&&this.beans.navigationService.onTabKeyDown(this,i)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let i=this.allRowGuis.find(n=>Oi(n.element))?.element;return i?i.getBoundingClientRect().top:0}onSuppressCellFocusChanged(i){let n=this.isFullWidth()&&i?void 0:-1;this.allRowGuis.forEach(o=>{vi(o.element,"tabindex",n)})}onFullWidthRowFocused(i){let n=this.rowNode,o=i?this.isFullWidth()&&i.rowIndex===n.rowIndex&&i.rowPinned==n.rowPinned:!1,r=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;r&&(r.classList.toggle("ag-full-width-focus",o),o&&i?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(i){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,i),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,i),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,i),i.destroy(),this.updateColumnLists()}removeCellCtrl(i,n){let o={list:[],map:{}};return i.list.forEach(r=>{r!==n&&(o.list.push(r),o.map[r.getColumn().getInstanceId()]=r)}),o}onMouseEvent(i,n){switch(i){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}}createRowEvent(i,n){return this.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:n})}createRowEventWithSource(i,n){let o=this.createRowEvent(i,n);return o.source=this,o}onRowDblClick(i){pn(i)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",i))}getColumnForFullWidth(i){let{visibleColsService:n}=this.beans;switch(i?.containerType){case"center":return n.getCenterCols()[0];case"left":return n.getLeftCols()[0];case"right":return n.getRightCols()[0];default:return n.getAllCols()[0]}}onRowMouseDown(i){if(this.lastMouseDownOnDragger=ur(i.target,"ag-row-drag",3),!this.isFullWidth())return;let n=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();let o=this.findFullWidthRowGui(i.target),r=o?.element,s=i.target,a=!0;r&&r.contains(s)&&$h(s)&&(a=!1),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:this.getColumnForFullWidth(o),rowPinned:n.rowPinned,forceBrowserFocus:a})}onRowClick(i){if(pn(i)||this.lastMouseDownOnDragger)return;let{gos:o}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",i));let r=i.ctrlKey||i.metaKey,s=i.shiftKey,a=this.rowNode.isSelected();if(wo(o)&&this.rowNode.group||this.isRowSelectionBlocked()||!Px(o)&&!a||!Qu(o)&&a)return;let c=Ax(o),d=Qu(o),u="rowClicked";if(a)c?this.rowNode.setSelectedParams({newValue:!1,event:i,source:u}):r?d&&this.rowNode.setSelectedParams({newValue:!1,event:i,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:i,source:u});else{let h=c?!1:!r;this.rowNode.setSelectedParams({newValue:!0,clearSelection:h,rangeSelect:s,event:i,source:u})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!Hl(this.gos)}setupDetailRowAutoHeight(i){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;let n=()=>{let r=i.clientHeight;if(r!=null&&r>0){let s=()=>{this.rowNode.setRowHeight(r),(Xe(this.gos)||fn(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(s,0)}},o=this.beans.resizeObserverService.observeResize(i,n);this.addDestroyFunc(o),n()}createFullWidthCompDetails(i,n){let{gos:o,rowNode:r}=this,s=o.addGridCommonParams({fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:i,eParentOfValue:i,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(l,c,d,u)=>this.addFullWidthRowDragging(l,c,d,u),setTooltip:(l,c)=>this.refreshRowTooltip(l,c)}),a=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return a.getFullWidthDetailCellRendererDetails(s);case"FullWidthGroup":return a.getFullWidthGroupCellRendererDetails(s);case"FullWidthLoading":return a.getFullWidthLoadingCellRendererDetails(s);default:return a.getFullWidthCellRendererDetails(s)}}refreshRowTooltip(i,n){if(!this.fullWidthGui)return;let o={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>i,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new wr(o,this.beans))}addFullWidthRowDragging(i,n,o="",r){if(!this.isFullWidth())return;let s=new Rh(()=>o,this.rowNode,void 0,i,n,r);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){let i=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=i){let n="ag-row-level-"+i,o="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(n,!0),r.rowComp.addOrRemoveCssClass(o,!1)})}this.rowLevel=i}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){let i=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==i&&(this.firstRowOnPage=i,this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-row-first",i))),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-row-last",n)))}stopEditing(i=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,i)}setInlineEditingCss(){let i=this.editingRow||this.getAllCellCtrls().some(n=>n.isEditing());this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",i),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!i)})}setEditingRow(i){this.editingRow=i}startRowEditing(i=null,n=null,o=null){return this.editingRow?!0:this.beans.rowEditService?.startEditing(this,i,n,o)??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let i=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!i||!i.length||i.forEach(n=>{this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!0))},i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!1))})}setStylesFromGridOptions(i,n){i&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,o=>o.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(i){return i==="left"||i==="right"?i:null}getInitialRowClasses(i){let n=this.getPinnedForContainer(i),o={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[i],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(o)}processStylesFromGridOptions(){let i=this.gos.get("rowStyle");if(i&&typeof i=="function"){A("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}let n=this.gos.getCallback("getRowStyle"),o;if(n){let r={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};o=n(r)}return o||i?Object.assign({},i,o):this.emptyStyle}onRowSelected(i){let n=!!this.rowNode.isSelected();this.forEachGui(i,o=>{o.rowComp.addOrRemoveCssClass("ag-row-selected",n),Ul(o.element,n),o.element.contains(Qe(this.gos))&&(o===this.centerGui||o===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;let i=this.rowNode.isSelected();if(i&&!Qu(this.gos))return;let o=this.beans.localeService.getLocaleTextFunc()(i?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${i?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(o,"rowSelection")}addHoverFunctionality(i){if(!this.active)return;let{element:n,compBean:o}=i,{rowNode:r,beans:s,gos:a}=this;o.addManagedListeners(n,{mouseenter:()=>r.onMouseEnter(),mouseleave:()=>r.onMouseLeave()}),o.addManagedListeners(r,{mouseEnter:()=>{!s.dragService.isDragging()&&!a.get("suppressRowHoverHighlight")&&(n.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{n.classList.remove("ag-row-hover"),r.setHovered(!1)}})}roundRowTopToBounds(i){let n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),o=this.applyPaginationOffset(n.top,!0)-100,r=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(o,i),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(i,n){i?n(i):this.allRowGuis.forEach(n)}onRowHeightChanged(i){if(this.rowNode.rowHeight==null)return;let n=this.rowNode.rowHeight,o=this.beans.environment.getDefaultRowHeight(),s=bC(this.gos)?Gn(this.gos,this.rowNode).height:void 0,a=s?`${Math.min(o,s)-2}px`:void 0;this.forEachGui(i,l=>{l.element.style.height=`${n}px`,a&&l.element.style.setProperty("--ag-line-height",a)})}addEventListener(i,n){super.addEventListener(i,n)}removeEventListener(i,n){super.removeEventListener(i,n)}destroyFirstPass(i=!1){if(this.active=!1,!i&&dr(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){let r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);let n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventService.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();let i=n=>(n.list.forEach(o=>o.destroy()),{list:[],map:{}});this.centerCellCtrls=i(this.centerCellCtrls),this.leftCellCtrls=i(this.leftCellCtrls),this.rightCellCtrls=i(this.rightCellCtrls)}setFocusedClasses(i){this.forEachGui(i,n=>{n.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),n.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let i=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){let i=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==i&&(this.paginationPage=i,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(i,n=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return i;let o=this.beans.pageBoundsService.getPixelOffset();return i+o*(n?1:-1)}setRowTop(i){if(!this.printLayout&&B(i)){let n=this.applyPaginationOffset(i),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}px`;this.setRowTopStyle(s)}}getInitialRowTop(i){return this.suppressRowTransform?this.getInitialRowTopShared(i):void 0}getInitialTransform(i){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(i)})`}getInitialRowTopShared(i){if(this.printLayout)return"";let n=this.rowNode,o;if(this.isSticky())o=n.stickyRowTop;else{let r=this.slideInAnimation[i]?this.roundRowTopToBounds(n.oldRowTop):n.rowTop,s=this.applyPaginationOffset(r);o=n.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}return o+"px"}setRowTopStyle(i){this.allRowGuis.forEach(n=>this.suppressRowTransform?n.rowComp.setTop(i):n.rowComp.setTransform(`translateY(${i})`))}getRowNode(){return this.rowNode}getCellCtrl(i){let n=null;return this.getAllCellCtrls().forEach(o=>{o.getColumn()==i&&(n=o)}),n!=null||this.getAllCellCtrls().forEach(o=>{o.getColSpanningList().indexOf(i)>=0&&(n=o)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(i){let n=this.rowNode.getRowIndexString();if(n===null)return;let o=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2===0,s=o+this.rowNode.rowIndex+1;this.forEachGui(i,a=>{a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",r),a.rowComp.addOrRemoveCssClass("ag-row-odd",!r),GC(a.element,s)})}setStoppingRowEdit(i){this.stoppingRowEdit=i}};return e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e})(),Co=r2,s2=class extends T{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",MC("touchstart")?"touchstart":"mousedown"].forEach(i=>{let n=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:n})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||pn(t))return;let i=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,i,n):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!$n())return;let e=new zn(this.element),t=i=>{let n=this.getRowForEvent(i.touchEvent),o=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,n,o)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){let i=qs(this.gos,t,Co.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,n){let o=i?i.getRowNode():null,r=n?n.getColumn():null,s=null;if(r){let c=e||t;n.dispatchCellContextMenuEvent(c??null),s=this.valueService.getValue(r,o)}let a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:o,column:r,value:s,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:vh(this.gos,e,vo.DOM_DATA_KEY_CELL_CTRL),rowCtrl:vh(this.gos,e,Co.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){let{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){let n=e.getRowNode(),o=e.getColumn(),r=e.isEditing();!Dh(this.gos,i,n,o,r)&&t==="keydown"&&(!r&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),C0(i)&&e.processCharacter(i)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){let n=e.getRowNode(),o=this.focusService.getFocusedCell(),r=o&&o.column;if(!Dh(this.gos,i,n,r,!1)){let a=i.key;if(t==="keydown")switch(a){case P.PAGE_HOME:case P.PAGE_END:case P.PAGE_UP:case P.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case P.UP:case P.DOWN:e.onKeyboardNavigate(i);break;case P.TAB:e.onTabKeyDown(i);break;default:}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;let i=nD(e);if(i===P.A)return this.onCtrlAndA(e);if(i===P.C)return this.onCtrlAndC(e);if(i===P.D)return this.onCtrlAndD(e);if(i===P.V)return this.onCtrlAndV(e);if(i===P.X)return this.onCtrlAndX(e);if(i===P.Y)return this.onCtrlAndY();if(i===P.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){let{pinnedRowModel:t,rowModel:i,rangeService:n}=this;if(n&&i.isRowsToRender()){let[o,r]=[t.isEmpty("top"),t.isEmpty("bottom")],s=o?null:"top",a,l;r?(a=null,l=i.getRowCount()-1):(a="bottom",l=t.getPinnedBottomRowCount()-1);let c=this.visibleColsService.getAllCols();if(jt(c))return;n.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:De(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){let{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},a2=class extends T{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){let e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Ye(this.element,t),Ai(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},l2=class extends T{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){let e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Ye(this.element,t),Ai(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Fl=e=>e.getTopRowCtrls(),Tl=e=>e.getStickyTopRowCtrls(),kl=e=>e.getStickyBottomRowCtrls(),Pl=e=>e.getBottomRowCtrls(),Al=e=>e.getCentreRowCtrls(),c2={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Al},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Al},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Al},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Al},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Fl},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Fl},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Fl},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Fl},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Tl},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Tl},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Tl},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Tl},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:kl},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:kl},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:kl},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:kl},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Pl},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Pl},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Pl},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Pl}};function cr(e){return c2[e]}var d2=["topCenter","topLeft","topRight"],u2=["bottomCenter","bottomLeft","bottomRight"],h2=["center","left","right"],p2=["center","left","right","fullWidth"],g2=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],m2=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],f2=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],V0=["stickyTopCenter","stickyTopLeft","stickyTopRight"],H0=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],v2=[...V0,"stickyTopFullWidth",...H0,"stickyBottomFullWidth"],C2=[...d2,...u2,...h2,...V0,...H0],b2=class extends T{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=cr(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new F3(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new s2(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let n=()=>this.onPinnedWidthChanged();this.forContainers(m2,()=>{this.pinnedWidthFeature=this.createManagedBean(new a2(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers(f2,()=>{this.pinnedWidthFeature=this.createManagedBean(new l2(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(p2,()=>this.createManagedBean(new N0(this.eContainer,this.name==="center"?i:void 0))),this.forContainers(C2,()=>this.createManagedBean(new T3(this.eContainer))),this.forContainers(g2,()=>this.createManagedBean(new cp(o=>this.comp.setContainerWidth(`${o}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(v2.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let t=()=>{let i=this.gos.get("ensureDomOrder"),n=wt(this.gos,"print");this.comp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return ia(this.eViewport)}getCenterViewportScrollLeft(){return ql(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return ZC(this.eViewport)}getViewportScrollLeft(){return ql(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||OE(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Yl(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let i=wt(this.gos,"print"),o=this.gos.get("embedFullWidthRows")||i,r=t.filter(s=>{let a=s.isFullWidth();return this.options.fullWidth?!o&&a:o||!a});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},B0="ag-force-vertical-scroll",w2="ag-selectable",y2="ag-column-moving",S2=class extends T{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,n,o,r,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=o,this.eStickyTop=r,this.eStickyBottom=s,this.eCenterColsViewport=i.querySelector(`.${cr("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${cr("fullWidth").container}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${cr("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${cr("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new up(this.comp)),this.bodyScrollFeature=this.createManagedBean(new M3(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,o,r,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){let e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{let{target:n}=i,o=ur(n,"ag-root",t);t.classList.toggle("ag-has-focus",!o)},focusout:i=>{let{target:n,relatedTarget:o}=i,r=t.contains(o),s=ur(o,"ag-root",t);ur(n,"ag-root",t)||(!r||s)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(y2,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(w2,e)}onScrollVisibilityChanged(){let e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();let t=e&&this.scrollVisibleService.getScrollbarWidth()||0,i=KC()?16:0,n=`calc(100% + ${t+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){let e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;let e=i=>{let n=i.relatedTarget;if(xh(n)===null){this.rowRenderer.stopEditing();return}let o=t.some(r=>r.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!o){let r=this.popupService;o=r.getActivePopups().some(s=>s.contains(n))||r.isElementWithinCustomPopup(n)}o||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedElementListeners(i,{focusout:e}))}updateRowCount(){let e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=t===-1?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?B0:null,i=wt(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&LE(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes(),t=()=>{let i=e&&dr(this.gos)&&!this.rowContainerHeightService.isStretching(),n=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(n,i)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){let e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:i,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaX:t,deltaY:i,shiftKey:n}=e,o=n||Math.abs(t)>Math.abs(i),r=e.target;o?(this.eStickyTopFullWidthContainer.contains(r)||this.eStickyBottomFullWidthContainer.contains(r))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();let{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!$n())return;let t=new zn(this.eBodyViewport),i=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new AR(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){let{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){let t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel.getPinnedTopTotalHeight(),n=0;t>0&&(n+=t),i>0&&(n+=i),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){let e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,n=e+i;this.comp.setStickyBottomBottom(`${n}px`)}sizeColumnsToFit(e,t){let n=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,r=ia(this.eGridBody)-n;if(r>0){this.columnSizeService.sizeColumnsToFit(r,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):A("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},_2=class extends ke{constructor(e,t,i,n,o){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=n,this.cellCtrl=t;let r=document.createElement("div");r.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(r);let s=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1),Ut(s,t.getCellAriaRole()),s.setAttribute("col-id",t.colIdSanitised);let a={addOrRemoveCssClass:(l,c)=>this.addOrRemoveCssClass(l,c),setUserStyles:l=>e0(s,l),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,c,d)=>this.setRenderDetails(l,c,d),setEditDetails:(l,c,d)=>this.setEditDetails(l,c,d),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(a,this.getGui(),this.eCellWrapper,i,o,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let o=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||o)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,n=i&&this.eCellWrapper==null;if(n){let c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}let o=!i&&this.eCellWrapper!=null;o&&(mi(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);let r=!e&&i,s=r&&this.eCellValue==null;if(s){let c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}let a=!r&&this.eCellValue!=null;a&&(mi(this.eCellValue),this.eCellValue=void 0);let l=n||o||s||a;return l&&this.removeControls(),e||t&&this.addControls(),l}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,i){let n=this.editorVersion,o=e.newAgStackInstance();if(o==null)return;let{params:r}=e;o.then(a=>this.afterCellEditorCreated(n,a,r,t,i)),Fe(this.cellEditor)&&r.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();xt(t);let i=e!=null?Zi(e,!0):null;i!=null&&(t.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),mi(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),mi(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){let i=!this.beans.gos.get("suppressAnimationFrame"),n=this.rendererVersion,{componentClass:o}=e,r=()=>{if(this.rendererVersion!==n||!this.isAlive())return;let a=e.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,n,o);a&&a.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(r,this.rowNode.rowIndex,"createTasksP2"):r()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){let o=this.getParentOfValue();xt(o),o.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,i,n,o){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){A(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let a=n||t.isPopup!==void 0&&t.isPopup();a?this.addPopupCellEditor(i,o):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.rowCtrl?.setInlineEditingCss()}addInCellEditor(){let e=this.getGui();e.contains(Qe(this.beans.gos))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){this.beans.gos.get("editType")==="fullRow"&&A("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");let i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));let n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);let o=this.beans.popupService,r=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),s=t??i.getPopupPosition?.()??"over",a=this.beans.gos.get("enableRtl"),l={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:s,alignSide:a?"right":"left",keepWithinBounds:!0},c=o.positionPopupByComponent.bind(o,l),d=this.beans.localeService.getLocaleTextFunc(),u=o.addPopup({modal:r,eChild:n,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});u&&(this.hideEditorPopup=u.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){let e=this.getGui();e.contains(Qe(this.beans.gos))&&_h()&&e.focus({preventScroll:!0}),xt(this.getParentOfValue())}},x2=class extends ke{constructor(e,t,i){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;let n=document.createElement("div");n.setAttribute("comp-id",`${this.getCompId()}`),n.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(n);let o=this.getGui(),r=o.style;this.domOrder=this.rowCtrl.getDomOrder(),Ut(o,"row");let s={setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(a,l)=>this.addOrRemoveCssClass(a,l),setUserStyles:a=>e0(o,a),setTop:a=>r.top=a,setTransform:a=>r.transform=a,setRowIndex:a=>o.setAttribute("row-index",a),setRowId:a=>o.setAttribute("row-id",a),setRowBusinessKey:a=>o.setAttribute("row-business-key",a),refreshFullWidth:a=>this.fullWidthCellRenderer?.refresh?.(a())??!1};e.setComp(s,this.getGui(),i,void 0),this.addDestroyFunc(()=>{e.unsetComp(i)})}getInitialStyle(e){let t=this.rowCtrl.getInitialTransform(e);return t?`transform: ${t}`:`top: ${this.rowCtrl.getInitialRowTop(e)}`}showFullWidth(e){let t=n=>{if(this.isAlive()){let o=n.getGui();this.getGui().appendChild(o),this.rowCtrl.setupDetailRowAutoHeight(o),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)},i=e.newAgStackInstance();i?.then(t)}setCellCtrls(e){let t=Object.assign({},this.cellComps);e.forEach(n=>{let o=n.instanceId;this.cellComps[o]==null?this.newCellComp(n):t[o]=null});let i=Wn(t).filter(n=>n!=null);this.destroyCells(i),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];e.forEach(i=>{let n=this.cellComps[i.instanceId];n&&t.push(n.getGui())}),JC(this.getGui(),t)}newCellComp(e){let t=new _2(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.instanceId]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){let e=Wn(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&Oe("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){e.forEach(t=>{if(!t)return;let i=t.getCtrl().instanceId;this.cellComps[i]===t&&(t.detach(),t.destroy(),this.cellComps[i]=null)})}};function E2(e){let t;return e.type==="center"?t=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer"></div>
            </div>`:t=`<div class="${e.container}" data-ref="eContainer"></div>`,t}var R2=class extends ke{constructor(){super(),this.eViewport=Z,this.eContainer=Z,this.rowComps={},this.name=ke.elementGettingCreated.getAttribute("name"),this.options=cr(this.name),this.setTemplate(E2(this.options))}wireBeans(e){this.beans=e}postConstruct(){let e={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i,setOffsetTop:i=>this.eContainer.style.transform=`translateY(${i})`};this.createManagedBean(new b2(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy()}setRowCtrls(e){let t=E({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;let i=n=>{let o=n.instanceId,r=t[o];if(r)this.rowComps[o]=r,delete t[o],this.ensureDomOrder(r.getGui());else{if(!n.getRowNode().displayed)return;let s=new x2(n,this.beans,this.options.type);this.rowComps[o]=s,this.appendRow(s.getGui())}};e.forEach(i),Wn(t).forEach(n=>{this.eContainer.removeChild(n.getGui()),n.destroy()}),Ut(this.eContainer,"rowgroup")}appendRow(e){this.domOrder?AE(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(XC(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}},D2={selector:"AG-ROW-CONTAINER",component:R2};function Vs(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}var I2=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${Vs(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${Vs(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${Vs(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${Vs(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${Vs(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,M2=class extends ke{constructor(){super(I2,[x3,R3,I3,S3,D2]),this.eBodyViewport=Z,this.eStickyTop=Z,this.eStickyBottom=Z,this.eTop=Z,this.eBottom=Z,this.eBody=Z}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){let e=(i,n)=>{let o=`${i}px`;n.style.minHeight=o,n.style.height=o},t={setRowAnimationCssOnBodyViewport:(i,n)=>this.setRowAnimationCssOnBodyViewport(i,n),setColumnCount:i=>_E(this.getGui(),i),setRowCount:i=>SE(this.getGui(),i),setTopHeight:i=>e(i,this.eTop),setBottomHeight:i=>e(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>{this.eStickyBottom.style.height=i,this.eStickyBottom.classList.toggle("ag-hidden",i==="0px")},setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,n)=>this.addOrRemoveCssClass(i,n),updateLayoutClasses:(i,n)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(r=>{r.toggle("ag-layout-auto-height",n.autoHeight),r.toggle("ag-layout-normal",n.normal),r.toggle("ag-layout-print",n.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",n.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",n.normal),this.addOrRemoveCssClass("ag-layout-print",n.print)},setAlwaysVerticalScrollClass:(i,n)=>this.eBodyViewport.classList.toggle(B0,n),registerBodyViewportResizeListener:i=>{let n=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>n())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,n)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(o=>o.classList.toggle(i,n))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new S2),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&Xi(this.gos)||Lh(this.gos))&&yE(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},F2={selector:"AG-GRID-BODY",component:M2},T2=class extends T{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:TE();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},sC="__ag_grid_instance",z0=class G0 extends T{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=G0.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[sC]=this.gridInstanceId}getRenderedCellForEvent(t){return vh(this.gos,t.target,vo.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){let n=i[sC];if(B(n))return n===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){let i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){let i=wt(this.gos,"normal"),n=t,o,r;if(n.clientX!=null||n.clientY!=null?(o=n.clientX,r=n.clientY):(o=n.x,r=n.y),i){let s=this.ctrlsService.getGridBodyCtrl(),a=s.getScrollFeature().getVScrollPosition(),l=s.getScrollFeature().getHScrollPosition();o+=l.left,r+=a.top}return{x:o,y:r}}};z0.gridInstanceSequence=new vr;var k2=z0,P2=class extends T{constructor(){super(),this.beanName="navigationService",this.onPageDown=$v(this.onPageDown,100),this.onPageUp=$v(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let i=e.key,n=e.altKey,o=e.ctrlKey||e.metaKey,r=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e),a=!1;switch(i){case P.PAGE_HOME:case P.PAGE_END:!o&&!n&&(this.onHomeOrEndKey(i),a=!0);break;case P.LEFT:case P.RIGHT:case P.UP:case P.DOWN:if(!s)return!1;o&&!n&&!r&&(this.onCtrlUpDownLeftRight(i,s),a=!0);break;case P.PAGE_DOWN:case P.PAGE_UP:!o&&!n&&(a=this.handlePageUpDown(i,s,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),t?(e===P.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){let{scrollIndex:t,scrollType:i,scrollColumn:n,focusIndex:o,focusColumn:r}=e;B(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),B(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(o),this.focusService.setFocusedCell({rowIndex:o,column:r,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:o,rowPinned:null,column:r})}onPageDown(e){let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),o=this.pageBoundsService.getPixelOffset(),r=i.top+n,s=this.rowModel.getRowIndexAtPixel(r+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s):this.navigateToNextPage(e,s)}onPageUp(e){let i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),o=i.top,r=this.rowModel.getRowIndexAtPixel(o+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r,!0):this.navigateToNextPage(e,r,!0)}navigateToNextPage(e,t,i=!1){let n=this.getViewportHeight(),o=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow(),s=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=i?a?.rowHeight-n-s:n-s,c=a?.rowTop+l,d=this.rowModel.getRowIndexAtPixel(c+s);if(d===e.rowIndex){let h=i?-1:1;t=d=e.rowIndex+h}let u;i?(u="bottom",d<o&&(d=o),t<o&&(t=o)):(u="top",d>r&&(d=r),t>r&&(t=r)),this.isRowTallerThanView(d)&&(t=d,u="top"),this.navigateTo({scrollIndex:t,scrollType:u,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let i=t?-1:1,n=this.getViewportHeight(),o=this.pageBoundsService.getLastRow(),r=0,s=e.rowIndex;for(;s>=0&&s<=o;){let a=this.rowModel.getRow(s);if(a){let l=a.rowHeight??0;if(r+l>n)break;r+=l}s+=i}return Math.max(0,Math.min(s,o))}getViewportHeight(){let e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth(),i=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(i-=t),i}isRowTallerThanView(e){let t=this.rowModel.getRow(e);if(!t)return!1;let i=t.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=i,o=i.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:o,focusIndex:n,focusColumn:o})}onHomeOrEndKey(e){let t=e===P.PAGE_HOME,i=this.visibleColsService.getAllCols(),n=t?i[0]:De(i),o=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:n,focusIndex:o,focusColumn:n})}onTabKeyDown(e,t){let i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t);if(n!==!1){n?t.preventDefault():n===null&&this.focusService.allowFocusForNextGridCoreContainer(i);return}if(i){let{rowIndex:o,rowPinned:r}=e.getRowPosition();(r?o===0:o===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof vo&&e.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault()}tabToNextCell(e,t){let i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!n&&(n=this.rowRenderer.getRowByPosition(i),!n||!n.isFullWidth())?!1:!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,i){let n=e.isEditing();if(!n&&e instanceof vo){let s=e.getRowCtrl();s&&(n=s.isEditing())}let o;return n?this.gos.get("editType")==="fullRow"?o=this.moveToNextEditingRow(e,t,i):o=this.moveToNextEditingCell(e,t,i):o=this.moveToNextCellNotEditing(e,t),o===null?o:o||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){let n=e.getCellPosition();e.getGui().focus(),e.stopEditing();let o=this.findNextCellToFocusOn(n,t,!0);return o===!1?null:o==null?!1:(o.startEditing(null,!0,i),o.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){let n=e.getCellPosition(),o=this.findNextCellToFocusOn(n,t,!0);if(o===!1)return null;if(o==null)return!1;let r=o.getCellPosition(),s=this.isCellEditable(n),a=this.isCellEditable(r),l=r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned;return s&&e.setFocusOutOnEditor(),l||(e.getRowCtrl().stopEditing(),o.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(o.setFocusInOnEditor(),o.focusCell()):o.focusCell(!0),!0}moveToNextCellNotEditing(e,t){let i=this.visibleColsService.getAllCols(),n;e instanceof Co?n=ce(E({},e.getRowPosition()),{column:t?i[0]:De(i)}):n=e.getCellPosition();let o=this.findNextCellToFocusOn(n,t,!1);if(o===!1)return null;if(o instanceof vo)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o.getRowPosition(),t);return B(o)}findNextCellToFocusOn(e,t,i){let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);let o=this.gos.getCallback("tabToNextCell");if(B(o)){let l=o({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(l===!0||l===null)l===null&&A("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(l===!1)return!1;n={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}}}if(!n)return null;if(n.rowIndex<0){let a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+n.rowIndex,column:n.column},fromCell:!0}),null}let r=this.gos.get("editType")==="fullRow";if(i&&!r&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);let s=this.getCellByPosition(n);if(!s){let a=this.rowRenderer.getRowByPosition(n);if(!a||!a.isFullWidth()||i)continue;return a}if(!s.isSuppressNavigable())return this.rangeService?.setRangeToCell(n),s}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){let t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,n){let o=i,r=!1;for(;o&&(o===i||!this.isValidNavigateCell(o));)this.gos.get("enableRtl")?t===P.LEFT&&(o=this.getLastCellOfColSpan(o)):t===P.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextCellToFocus(t,o),r=Fe(o);if(r&&e&&e.key===P.UP&&(o={rowIndex:-1,rowPinned:null,column:i.column}),n){let a=this.gos.getCallback("navigateToNextCell");if(B(a)){let c=a({key:t,previousCellPosition:i,nextCellPosition:o||null,event:e});B(c)?o={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:o=null}}if(!o)return;if(o.rowIndex<0){let a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+o.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}let s=this.getNormalisedPosition(o);s?this.focusPosition(s):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(e){this.ensureCellVisible(e);let t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let i=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;let o=this.focusService.getFocusedCell(),r={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?De(i):i[0])};this.focusPosition(r);let s=t??(o!=null&&this.rowPositionUtils.before(r,o));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,fromBelow:s}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){let t=this.getCellByPosition(e);if(!t)return e;let i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:De(i),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=Jl(this.gos),i=this.rowModel.getRow(e.rowIndex);!(t&&i?.sticky)&&Fe(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},A2=class extends T{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},O2=class extends T{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:n})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let n=-1,o="left",r=this.menuService.isLegacyMenuEnabled();!r&&this.gos.get("enableRtl")&&(n=1,o="right");let s=r?void 0:4*n,a=r?void 0:4;this.showPopup(e,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:l,nudgeX:s,nudgeY:a,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},i,t,r)}showPopup(e,t,i,n,o){let r=e?this.createBean(new zR(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!r?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");let s=document.createElement("div");Ut(s,"presentation"),s.classList.add("ag-menu"),o||s.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(s,{keydown:g=>this.trapFocusWithin(g,s)}),s.appendChild(r?.getGui());let a,l=()=>r?.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,d=g=>{e.setMenuVisible(!1,"contextMenu");let C=g instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),C&&n&&Oi(n)){let m=this.focusService.findTabbableParent(n);m&&m.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},u=this.localeService.getLocaleTextFunc(),h=o&&i!=="columnFilter"?u("ariaLabelColumnMenu","Column Menu"):u("ariaLabelColumnFilter","Column Filter"),p=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(s),anchorToElement:c,ariaLabel:h});p&&(this.hidePopup=a=p.hideFunc),r.afterInit().then(()=>{t(s),r.afterGuiAttached({container:i,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==P.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},L2=class extends T{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){let n=wC(this.gos).ResizeObserver,o=n?new n(t):null;return o?.observe(e),()=>o?.disconnect()}},N2=class extends T{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){let t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){let i=this.paginationService?.getCurrentPage()??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&A(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);let n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");let t=this.createTasksP1,i=t.list,n=this.createTasksP2,o=n.list,r=this.destroyTasks,s=new Date().getTime(),a=new Date().getTime()-s,l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let u;if(i.length)this.sortTaskList(t),u=i.pop().task;else if(o.length)this.sortTaskList(n),u=o.pop().task;else if(r.length)u=r.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(u)||u()}a=new Date().getTime()-s}i.length||o.length||r.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){let t=wC(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}};var V2=class extends T{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=Xe(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;let t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){let e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,n){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,i,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},H2=class extends T{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){let i=this.getRowCtrl(e),n=this.getCellGui(i,t);if(!n)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};let o=n.getBoundingClientRect();return{x:o.x+o.width/2,y:o.y+o.height/2}}showContextMenu(e){let{rowNode:t}=e,i=e.column,{anchorToElement:n,value:o}=e;t&&i&&o==null&&(o=this.valueService.getValueForDisplay(i,t)),n==null&&(n=this.getContextMenuAnchorElement(t,i)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,o,n)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){let{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&jn(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!($n()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.filterManager?.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){let t=e.getColDef(),i=t.floatingFilterComponentParams?.suppressFilterButton;return i!=null&&A("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,i,n){let{positionBy:o}=t,r=t.column;if(o==="button"){let{buttonElement:s}=t;e.showMenuAfterButtonClick(r,s,i,n)}else if(o==="mouse"){let{mouseEvent:s}=t;e.showMenuAfterMouseEvent(r,s,i,n)}else r&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),this.animationFrameService.requestAnimationFrame(()=>{let s=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned())?.getHeaderCtrlForColumn(r);s&&e.showMenuAfterButtonClick(r,s.getAnchorElementForMenu(n),i,!0)}))}getRowCtrl(e){let{rowIndex:t,rowPinned:i}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){return!e||!t?void 0:e.getCellCtrl(t)?.getGui()||void 0}getContextMenuAnchorElement(e,t){let i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return i;let o=this.getCellGui(n,t);return o||(n.isFullWidth()?n.getFullWidthElement():i)}},B2=class extends po{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},z2={selector:"AG-INPUT-TEXT-AREA",component:B2},G2=class extends yr{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[z2]),this.eTextArea=Z}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),B(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let t=e.key;(t===P.LEFT||t===P.UP||t===P.RIGHT||t===P.DOWN||e.shiftKey&&t===P.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){let e=this.eTextArea.getValue();return!B(e)&&!B(this.params.value)?this.params.value:this.params.parseValue(e)}},W2=class extends yr{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){bo(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,i=n=>{Dh(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:i})}},j2=class extends yr{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[YR]),this.eSelect=Z,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;let{eSelect:t,valueService:i,gos:n}=this,{values:o,value:r,eventKey:s}=e;if(Fe(o)){A("no values found for select cellEditor");return}this.startedByEnter=s!=null?s===P.ENTER:!1;let a=!1;o.forEach(u=>{let h={value:u},p=i.formatValue(e.column,null,u),g=p!=null;h.text=g?p:u,t.addOption(h),a=a||r===u}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:d}=e;l!=null&&t.setPickerGap(l),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},rc=class extends yr{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Z}init(e){this.params=e;let{cellStartedEdit:t,eventKey:i,suppressPreventDefault:n}=e,o=this.eInput;this.cellEditorInput.init(o,e);let r,s=!0;t?(this.focusAfterAttached=!0,i===P.BACKSPACE||i===P.DELETE?r="":i&&i.length===1?n?s=!1:r=i:(r=this.cellEditorInput.getStartValue(),i!==P.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue()),s&&r!=null&&o.setStartValue(r),this.addManagedElementListeners(o.getGui(),{keydown:a=>{let{key:l}=a;(l===P.PAGE_UP||l===P.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){let e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Ji()||t.getFocusableElement().focus();let i=t.getInputElement();this.highlightAllOnFocus?i.select():this.cellEditorInput.setCaret?.()}focusIn(){let e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},U2=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[ic]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){let e=this.eInput.getValue();return!B(e)&&!B(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){let e=this.eInput.getValue(),t=B(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},W0=class extends rc{constructor(){super(new U2)}},$2=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[rD]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);let i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===P.UP||e.key===P.DOWN)&&e.preventDefault()}getValue(){let e=this.eInput.getValue();if(!B(e)&&!B(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){Ji()&&this.eInput.getInputElement().focus({preventScroll:!0})}},K2=class extends rc{constructor(){super(new $2)}},q2=class extends _o{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=Ji();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Qe(this.gos)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?Ci(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,vi(this.eInput,"min",t),this)}setMax(e){let t=e instanceof Date?Ci(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,vi(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,vi(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Wt(this.getValue())??void 0}setDate(e,t){this.setValue(Ci(e??null,!1),t)}},j0={selector:"AG-INPUT-DATE-FIELD",component:q2},Y2=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[j0]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){let e=this.eInput.getDate();return!B(e)&&!B(this.params.value)?this.params.value:e??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return Ci(e,!1)}},Q2=class extends rc{constructor(){super(new Y2)}},Z2=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[j0]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){let e=this.formatDate(this.eInput.getDate());return!B(e)&&!B(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return Ci(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Wt(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Ci(e??null,!1)??void 0}},X2=class extends rc{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new Z2(()=>this.dataTypeService))}},J2=class extends yr{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Xh]),this.eCheckbox=Z}init(e){this.params=e;let t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.localeService.getLocaleTextFunc(),i=Wh(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}},zs=class{constructor(e){this.cellValueChanges=e}},ch=class extends zs{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},eI=10,aC=class{constructor(e){this.actionStack=[],this.maxStackSize=e||eI,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},tI=class extends T{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;let{rowPinned:r,rowIndex:s,column:a,oldValue:l,value:c}=e,d={rowPinned:r,rowIndex:s,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;let e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new aC(e),this.redoStack=new aC(e),this.addListeners();let t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});let t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});let t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,n,o){if(!e)return!1;let r=e.pop();return!r||!r.cellValueChanges?!1:(this.processAction(r,s=>s[n],o),r instanceof ch?this.processRange(this.rangeService,r.ranges||[r[i]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,i){e.cellValueChanges.forEach(n=>{let{rowIndex:o,rowPinned:r,columnId:s}=n,a={rowIndex:o,rowPinned:r},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(s,t(n),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((n,o)=>{if(!n)return;let r=n.startRow,s=n.endRow;o===t.length-1&&(i={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(i));let a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)})}processCell(e){let t=e[0],{rowIndex:i,rowPinned:n}=t,o={rowIndex:i,rowPinned:n},r=this.rowPositionUtils.getRowNode(o),s={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s,this.rangeService)}setLastFocusedCell(e,t){let{rowIndex:i,columnId:n,rowPinned:o}=e,r=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getCol(n);if(!s)return;r.ensureIndexVisible(i),r.ensureColumnVisible(s);let a={rowIndex:i,column:s,rowPinned:o};this.focusService.setFocusedCell(ce(E({},a),{forceBrowserFocus:!0})),t?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new zs(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let i=new zs(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new zs(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new ch(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&Xi(this.gos)?e=new ch(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new zs(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function iI(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function nI(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function U0(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function $0(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function oI(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function rI(e){e.undoRedoService?.undo("api")}function sI(e){e.undoRedoService?.redo("api")}function aI(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(js)}function lI(e){return e.rowRenderer.getEditingCells()}function cI(e,t=!1){e.rowRenderer.stopEditing(t)}function dI(e,t){let i=e.columnModel.getCol(t.colKey);if(!i){A(`no column found for ${t.colKey}`);return}let n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&$0(e,t.rowIndex),U0(e,t.colKey);let r=e.navigationService.getCellByPosition(n);if(!r)return;let{focusService:s,gos:a}=e,l=()=>{let d=Qe(a),u=r.getGui();return d!==u&&u.contains(d)},c=a.get("stopEditingWhenCellsLoseFocus")&&l();(c||!s.isCellFocused(n))&&s.setFocusedCell(ce(E({},n),{forceBrowserFocus:c,preventScrollOnBrowserFocus:!0})),r.startRowOrCellEdit(t.key)}function uI(e){return e.undoRedoService?.getCurrentUndoStackSize()??0}function hI(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}var pI=class extends T{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,n=null){let o=this.createCellEditorParams(e,t,i),r=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(r,o),a=s?.popupFromSelector!=null?s.popupFromSelector:!!r.cellEditorPopup,l=s?.popupPositionFromSelector!=null?s.popupPositionFromSelector:r.cellEditorPopupPosition;return e.setEditing(!0,s),e.getComp().setEditDetails(s,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!s?.params?.suppressPreventDefault}stopEditing(e,t){let i=e.getComp(),{newValue:n,newValueExists:o}=this.takeValueFromCellEditor(t,i),r=e.getRowNode(),s=e.getColumn(),a=this.valueService.getValueForDisplay(s,r),l=!1;return o&&(l=this.saveNewValue(e,a,n,r,s)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent(ce(E({},e.createEvent(null,"cellEditingStopped")),{oldValue:a,newValue:n,valueChanged:l})),l}handleColDefChanged(e){let t=e.getCellEditor();if(t?.refresh){let{eventKey:i,cellStartedEdit:n}=e.getEditCompDetails().params,o=this.createCellEditorParams(e,i,n),r=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(r,o);t.refresh(s.params)}}setFocusOutOnEditor(e){let t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){let t=e.getComp(),i=t.getCellEditor();i?.focusIn?i.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>t.getCellEditor()?.focusIn?.()))}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new W2(e)}takeValueFromCellEditor(e,t){let i={newValueExists:!1};if(e)return i;let n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,i,n,o){if(i===t)return!1;e.setSuppressRefreshCell(!0);let r=n.setDataValue(o,i,"edit");return e.setSuppressRefreshCell(!1),r}createCellEditorParams(e,t,i){let n=e.getColumn(),o=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(n,o),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:o,data:o.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:r=>this.valueService.parseValue(n,o,r,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let n=e?P.UP:P.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}},gI=class extends T{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,n=null){let o=!0;return e.getAllCellCtrls().reduce((s,a)=>{let l=a===i;return l?o=a.startEditing(t,l,n):a.startEditing(null,l,n),s?!0:a.isEditing()},!1)&&this.setEditing(e,!0),o}stopEditing(e,t=!1){let i=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let o=!1;for(let r of i){let s=r.stopEditing(t);n&&!t&&!o&&s&&(o=!0)}o&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));let i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}},xo={version:pe,moduleName:"@ag-grid-community/edit-core",beans:[pI]},mI={version:pe,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:rI,redoCellEditing:sI,getCellEditorInstances:aI,getEditingCells:lI,stopEditing:cI,startEditingCell:dI,getCurrentUndoSize:uI,getCurrentRedoSize:hI},dependantModules:[xo]},fI={version:pe,moduleName:"@ag-grid-community/undo-redo-edit",beans:[tI],dependantModules:[xo]},vI={version:pe,moduleName:"@ag-grid-community/full-row-edit",beans:[gI],dependantModules:[xo]},K0={version:pe,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:W0}],dependantModules:[xo]},CI={version:pe,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:W0},{name:"agNumberCellEditor",classImp:K2,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:Q2},{name:"agDateStringCellEditor",classImp:X2},{name:"agCheckboxCellEditor",classImp:J2}],dependantModules:[K0]},bI={version:pe,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:j2}],dependantModules:[xo]},wI={version:pe,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:G2}],dependantModules:[xo]},yI={version:pe,moduleName:"@ag-grid-community/all-editors",dependantModules:[K0,CI,bI,wI]},SI={version:pe,moduleName:"@ag-grid-community/editing",dependantModules:[xo,fI,vI,yI,mI]},_I=class extends T{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let i=this.getHeaderCellForColumn(e);if(!i)return-1;let n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){let t=document.createElement("form");t.style.position="fixed";let i=this.centerRowContainerCtrl.getContainerElement();e.forEach(r=>this.cloneItemIntoDummy(r,t)),i.appendChild(t);let n=t.offsetWidth;i.removeChild(t);let o=this.getAutoSizePadding();return n+o}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{let n=i.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){let i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";let n=document.createElement("div"),o=n.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(o.add("ag-header","ag-header-row"),n.style.position="static"):o.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(l=>s.classList.contains(l))){for(let l=0;l<s.classList.length;l++){let c=s.classList[l];c!="ag-row-position-absolute"&&o.add(c)}break}s=s.parentElement}n.appendChild(i),t.appendChild(n)}},xI=class extends T{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=Xe(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let i=e.childStore?.getStoreBounds();return e.footer&&(i=e.sibling.childStore?.getStoreBounds()),(i?.heightPx??0)+(i?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.footer?e.sibling:e;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(n.childrenAfterSort.length===0)break;n=De(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){let t=e==="top",i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);let n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,o=new Set,r=c=>{if(o.add(c),t){let d=this.getLastPixelOfGroup(c),u=n+i+c.rowHeight;d<u?c.stickyRowTop=i+(d-u):c.stickyRowTop=i}else{let d=this.getFirstPixelOfGroup(c),u=n-(i+c.rowHeight);d>u?c.stickyRowTop=i-(d-u):c.stickyRowTop=i}i=0,o.forEach(d=>{let u=d.stickyRowTop+d.rowHeight;i<u&&(i=u)})},s=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>{if(!c.displayed)return!1;if(c.footer){if(s===!0||s==="grand"&&c.level===-1||s==="group"&&c.level>-1)return!1;let d=c.sibling.rowIndex?c.sibling.rowIndex+1===c.rowIndex:!1;return e==="bottom"&&d?!1:!o.has(c)}return c.isExpandable()?a===!0||e==="bottom"?!1:!o.has(c)&&c.expanded:!1};for(let c=0;c<100;c++){let d=n+i;t||(d=n-i);let u=this.rowModel.getRowIndexAtPixel(d),h=this.rowModel.getRow(u);if(h==null)break;let g=this.getStickyAncestors(h).find(m=>(t?m.rowIndex<u:m.rowIndex>u)&&l(m));if(g){r(g);continue}if((t?h.rowTop<d:h.rowTop+h.rowHeight>d)&&l(h)){r(h);continue}break}return t||o.forEach(c=>{c.stickyRowTop=i-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(e,o,i)}areFooterRowsStickySuppressed(){let e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;let t=!!this.gos.get("groupIncludeFooter")||e==="group",i=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&i?!0:i?"grand":t?"group":!1}canRowsBeSticky(){let e=Jl(this.gos),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){let t=[],i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){let e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){let t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){let n=this.stickyTopRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){let n=this.stickyBottomRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,i){let n=e==="top",o=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,r={},s=[];for(let h=0;h<o.length;h++){let p=o[h].getRowNode();if(!t.has(p)){r[p.id]=o[h],p.sticky=!1;continue}s.push(o[h])}let a=new Set;for(let h=0;h<s.length;h++)a.add(s[h].getRowNode());let l=[];t.forEach(h=>{a.has(h)||(h.sticky=!0,l.push(this.createRowCon(h,!1,!1)))});let c=!!l.length||s.length!==o.length;n?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(r,!1);let d=[...s,...l];d.sort((h,p)=>p.getRowNode().rowIndex-h.getRowNode().rowIndex),n||d.reverse(),d.forEach(h=>h.setRowTop(h.getRowNode().stickyRowTop));let u=0;return n?(t.forEach(h=>{h.rowIndex<this.pageBoundsService.getFirstRow()&&(u+=h.rowHeight)}),u>this.topContainerHeight&&(u=this.topContainerHeight),this.setOffsetTop(u)):(t.forEach(h=>{h.rowIndex>this.pageBoundsService.getLastRow()&&(u+=h.rowHeight)}),u>this.bottomContainerHeight&&(u=this.bottomContainerHeight),this.setOffsetBottom(u)),c?(n?this.stickyTopRowCtrls=d:this.stickyBottomRowCtrls=d,!0):!1}ensureRowHeightsValid(){let e=!1,t=i=>{let n=i.getRowNode();if(n.rowHeightEstimated){let o=Gn(this.gos,n);n.setRowHeight(o.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},EI=class extends T{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Xi(this.gos)?i():n()}),Xi(this.gos)&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),Jl(this.gos)&&(Xe(this.gos)||fn(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new xI(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=wt(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new RI(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){let e=Wn(this.rowCtrlsByRowIndex),t=Wn(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{let i=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&l(c)})},n=()=>{i(l=>l.onLeftChanged())},o=()=>{i(l=>l.onWidthChanged())},r=()=>{i(l=>l.onFirstRightPinnedChanged())},s=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",o),t.addEventListener("firstRightPinnedChanged",r),t.addEventListener("lastLeftPinnedChanged",s),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",o),t.removeEventListener("firstRightPinnedChanged",r),t.removeEventListener("lastLeftPinnedChanged",s),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){let e=wt(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){let t=[];return this.getAllRowCtrls().forEach(i=>{let n=i.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){let{pinnedRowModel:i,beans:n,printLayout:o}=this,r=Object.fromEntries(e.map(a=>[a.getRowNode().id,a]));i.forEachPinnedRow(t,(a,l)=>{let c=e[l];c&&i.getPinnedRowById(c.getRowNode().id,t)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in r?(e[l]=r[a.id],delete r[a.id]):e[l]=new Co(a,n,!1,!1,o)});let s=t==="top"?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();e.length=s}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let i=n=>{let o=n[e.rowIndex];o&&o.getRowNode()===e&&(o.destroyFirstPass(),o.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){let t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;let i=Qe(this.gos),n=qs(this.gos,i,vo.DOM_DATA_KEY_CELL_CTRL),o=qs(this.gos,i,Co.DOM_DATA_KEY_ROW_CTRL);return n||o?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);let i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&dr(this.gos),o=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();let r=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();r&&this.updateContainerHeights(r)}this.recycleRows(o,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){let o=t[n].getAllCellCtrls(),r=o.length;for(let s=0;s<r;s++)e.push(o[s])}return e}getAllRowCtrls(){let e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(let n in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[n]);return i}addRenderedRowListener(e,t,i){let n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){let t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(let i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&_h()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(let i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){let t=this.getCellCtrls(e.rowNodes,e.columns).map(o=>o.getCellRenderer()).filter(o=>o!=null);if(e.columns?.length)return t;let i=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(o=>{if(n&&!this.isRowInMap(o.getRowNode(),n)||!o.isFullWidth())return;let r=o.getFullWidthCellRenderers();for(let s=0;s<r.length;s++){let a=r[s];a!=null&&i.push(a)}}),[...i,...t]}getCellEditorInstances(e){let t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{let n=i.getCellEditor();n&&t.push(n)}),t}getEditingCells(){let e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){let i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(i=>{let n=i.id;switch(i.rowPinned){case"top":t.top[n]=i;break;case"bottom":t.bottom[n]=i;break;default:t.normal[n]=i;break}}),t}isRowInMap(e,t){let i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}getRowCtrls(e){let t=this.mapRowNodes(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(n=>{let o=n.getRowNode();return this.isRowInMap(o,t)})}getCellCtrls(e,t){let i;B(t)&&(i={},t.forEach(o=>{let r=this.columnModel.getCol(o);B(r)&&(i[r.getId()]=!0)}));let n=[];return this.getRowCtrls(e).forEach(o=>{o.getAllCellCtrls().forEach(r=>{let s=r.getColumn().getId();i&&!i[s]||n.push(r)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){let e=[];pi(this.rowCtrlsByRowIndex,(i,n)=>{n.getRowNode().id==null&&e.push(i)}),this.removeRowCtrls(e);let t={};return pi(this.rowCtrlsByRowIndex,(i,n)=>{let o=n.getRowNode();t[o.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{let n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{afterScroll:t}=e,i;this.stickyRowFeature&&_h()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);let n=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let r=!1;if(this.stickyRowFeature){r=this.stickyRowFeature.checkStickyRows();let a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}let s=this.firstRenderedRow!==n||this.lastRenderedRow!==o;if(!(t&&!r&&!s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!r),i!=null)){let a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){let i={};e.forEach(r=>i[r]=!0);let o=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!i[r]);this.removeRowCtrls(o,t)}calculateIndexesToDraw(e){let t=lD(this.firstRenderedRow,this.lastRenderedRow),i=(o,r)=>{let s=r.getRowNode().rowIndex;s!=null&&(s<this.firstRenderedRow||s>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&t.push(s)};pi(this.rowCtrlsByRowIndex,i),pi(e,i),t.sort((o,r)=>o-r);let n=[];for(let o=0;o<t.length;o++){let r=t[o],s=this.rowModel.getRow(r);s&&!s.sticky&&n.push(r)}return n}recycleRows(e,t=!1,i=!1){let n=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);let o=[];n.forEach(r=>{let s=this.createOrUpdateRowCtrl(r,e,t,i);B(s)&&o.push(s)}),e&&(i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;let n=i.getRowNode();return!(t!=null&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,i,n){let o,r=this.rowCtrlsByRowIndex[e];if(r||(o=this.rowModel.getRow(e),B(o)&&B(t)&&t[o.id]&&o.alreadyRendered&&(r=t[o.id],t[o.id]=null)),!r)if(o||(o=this.rowModel.getRow(e)),B(o))r=this.createRowCon(o,i,n);else return;return o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){let i=[];pi(e,(n,o)=>{if(o){if(this.cachedRowCtrls&&o.isCacheable()){this.cachedRowCtrls.addRow(o);return}if(o.destroyFirstPass(!t),t){let r=o.instanceId;this.zombieRowCtrls[r]=o,i.push(()=>{o.destroySecondPass(),delete this.zombieRowCtrls[r]})}else o.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),yx(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),t=mo(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{let a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation"),d=!1,u,h;do{let x=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:R,pageLastPixel:D}=this.pageBoundsService.getCurrentPagePixelRange(),N=this.rowContainerHeightService.getDivStretchOffset(),re=l.getScrollFeature().getVScrollPosition(),X=re.top,te=re.bottom;c?(u=R+N,h=D+N):(u=Math.max(X+x-a,R)+N,h=Math.min(te+x+a,D)+N),this.firstVisibleVPixel=Math.max(X+x,R)+N,this.lastVisibleVPixel=Math.min(te+x,D)+N,d=this.ensureAllRowsInRangeHaveHeightsCalculated(u,h)}while(d);let p=this.rowModel.getRowIndexAtPixel(u),g=this.rowModel.getRowIndexAtPixel(h),C=this.pageBoundsService.getFirstRow(),m=this.pageBoundsService.getLastRow();p<C&&(p=C),g>m&&(g=m),e=p,t=g}let i=wt(this.gos,"normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),o=Math.max(this.getRowBuffer(),500);i&&!n&&t-e>o&&(t=e+o);let r=e!==this.firstRenderedRow,s=t!==this.lastRenderedRow;(r||s)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let i=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),o=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(o||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),n||o||i?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){let n=e.getRowNode(),o=this.focusService.isRowNodeFocused(n),r=e.isEditing(),s=n.detail;return o||r||s?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,i){let n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;let o=this.gos.get("suppressAnimationFrame"),r=i&&!o&&!this.printLayout;return new Co(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){let e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t,{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},RI=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],Lt(this.entriesList,i)}removeFromCache(e){let t=e.getRowNode().id;delete this.entriesMap[t],Lt(this.entriesList,e)}getEntries(){return this.entriesList}},DI=class extends T{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new lC,this.pinnedBottomRows=new lC}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){let t=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){let e=!1,t=0,i=n=>{if(n.rowHeightEstimated){let o=Gn(this.gos,n);n.setRowTop(t),n.setRowHeight(o.height),t+=o.height,e=!0}};return this.pinnedBottomRows?.forEach(i),t=0,this.pinnedTopRows?.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){let i=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){i.clear();return}let n=br(this.gos),o=t==="top"?gn.ID_PREFIX_TOP_PINNED:gn.ID_PREFIX_BOTTOM_PINNED,r=i.getIds(),s=[],a=new Set,l=0,c=-1;for(let d of e){let u=n?.({data:d,level:0,rowPinned:t})??o+this.nextId++;if(a.has(u)){A("Duplicate ID",u,"found for pinned row with data",d,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(u),s.push(u);let h=i.getById(u);if(h!==void 0)h.data!==d&&h.setData(d),l+=this.setRowTopAndRowIndex(h,l,c),r.delete(u);else{let p=new gn(this.beans);p.id=u,p.data=d,p.rowPinned=t,l+=this.setRowTopAndRowIndex(p,l,c),i.push(p)}}r.forEach(d=>{i.getById(d)?.clearRowTopAndRowIndex()}),i.removeAllById(r),i.setOrder(s)}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(Gn(this.gos,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){let t=e.getSize();if(t===0)return 0;let i=e.getByIndex(t-1);return i===void 0?0:i.rowTop+i.rowHeight}},lC=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){let t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(let t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,i)=>{let n=this.cache[t];n&&e(n,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}};var II=class extends T{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){let t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){let t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},MI=class extends T{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Ot(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){let e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Lt(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&gi("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>i.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(fn(this.gos))return this.rowModel.getBlockStates();let e={};return this.blocks.forEach(t=>{let{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){this.gos.get("debug")&&gi(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},FI={version:pe,moduleName:"@ag-grid-community/row-node-block",beans:[MI]},TI=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){return this.root&&this.root?.key===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&this.end?.key===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let i=t[0].id===this.root.id,n=t.findIndex(o=>o.id===e.id);if(n>-1){let o=t.slice(0,n),r=t.slice(n+1);return this.setEndRange(e),i?{keep:o,discard:r}:{keep:r,discard:o}}else return{keep:t,discard:[]}}extend(e,t=!1){let i=this.getRoot();if(i==null){let o=this.getRange().slice();return t&&e.depthFirstSearch(r=>!r.group&&o.push(r)),o.push(e),this.setRoot(e),{keep:o,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find(o=>o.id===this.end?.id))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let o=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:o}}}},kI=class extends T{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,n){this.processClassRules(void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,n,o){if(t==null&&e==null)return;let r={},s={},a=(l,c)=>{l.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(t){let l=Object.keys(t);for(let c=0;c<l.length;c++){let d=l[c],u=t[d],h;typeof u=="string"?h=this.expressionService.evaluate(u,i):typeof u=="function"&&(h=u(i)),a(d,p=>{h?r[p]=!0:s[p]=!0})}}e&&o&&Object.keys(e).forEach(l=>a(l,c=>{r[c]||(s[c]=!0)})),o&&Object.keys(s).forEach(o),Object.keys(r).forEach(n)}getStaticCellClasses(e,t){let{cellClass:i}=e;if(!i)return[];let n;return typeof i=="function"?n=i(t):n=i,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(o=>{i(o)})}};var PI=class extends T{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:o,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:d,onTabKeyDown:u,handleKeyDown:h,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=p,this.focusTrapActive=!!o,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=d,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=h}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new So(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){let t=it(this.gos),i=this.focusService.findFocusableElements(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let o,r;e?(o=0,r=n):(o=n+1,r=i.length);let s=i.slice(o,r),a=this.gos.get("tabIndex");s.sort((l,c)=>{let d=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(c.getAttribute("tabindex")||"0");return u===a?1:d===a?-1:d===0?1:u===0?-1:d-u}),s[e?s.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},AI=class extends T{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:i,eFocusableElement:n}=this,o=[t,i],r={setTabIndex:C=>{o.forEach(m=>C!=null?m.setAttribute("tabindex",C):m.removeAttribute("tabindex"))}};this.addTabGuards(t,i);let{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new PI({comp:r,focusTrapActive:s,eTopGuard:t,eBottomGuard:i,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:d,onTabKeyDown:u,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=it(this.gos).createElement("div"),i=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),Ut(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];xt(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){Yh(t)||(t=t.getGui());let{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,i)}},q0=class extends ke{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new AI(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},OI=0,LI=200,NI=class extends T{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:t,ePopup:i}=e,n=this.getPopupIndex(i);if(n!==-1){let p=this.popupList[n];p.alignedToElement=t}let o=t.getBoundingClientRect(),r=this.getParentRect(),s=this.keepXYWithinBounds(i,o.top-r.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;let c=r.right-r.left-a,d;this.gos.get("enableRtl")?(d=h(),d<0&&(d=u(),this.setAlignedStyles(i,"left")),d>c&&(d=0,this.setAlignedStyles(i,"right"))):(d=u(),d>c&&(d=h(),this.setAlignedStyles(i,"right")),d<0&&(d=0,this.setAlignedStyles(i,"left"))),i.style.left=`${d}px`,i.style.top=`${s}px`;function u(){return o.right-r.left-2}function h(){return o.left-r.left-a}}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:o}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:o,eventSource:r,alignSide:s="left",position:a="over",column:l,rowNode:c,type:d}=e,u=r.getBoundingClientRect(),h=this.getParentRect(),p=this.getPopupIndex(t);if(p!==-1){let C=this.popupList[p];C.alignedToElement=r}let g=()=>{let C=u.left-h.left;s==="right"&&(C-=t.offsetWidth-u.width);let m;return a==="over"?(m=u.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,u,h,e.nudgeY||0)==="under"?m=u.top-h.top+u.height:m=u.top-t.offsetHeight-(n||0)*2-h.top),{x:C,y:m}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:o,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(d,t,r,null,l,c)})}shouldRenderUnderOrAbove(e,t,i,n){let o=i.bottom-t.bottom,r=t.top-i.top,s=e.offsetHeight+n;return o>s?"under":r>s||r>o?"above":"under"}setAlignedStyles(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let n=this.popupList[i],{alignedToElement:o}=n;!o||(["right","left","over","above","under"].forEach(s=>{o.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`)}),!t)||(o.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,n,o,r){let s=this.gos.getCallback("postProcessPopup");s&&s({column:o,rowNode:r,ePopup:t,type:e,eventSource:i,mouseEvent:n})}positionPopup(e){let{ePopup:t,keepWithinBounds:i,nudgeX:n,nudgeY:o,skipObserver:r,updatePosition:s}=e,a={width:0,height:0},l=(c=!1)=>{let{x:d,y:u}=s();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,n&&(d+=n),o&&(u+=o),i&&(d=this.keepXYWithinBounds(t,d,1),u=this.keepXYWithinBounds(t,u,0)),t.style.left=`${d}px`,t.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!r){let c=this.resizeObserverService.observeResize(t,()=>l(!0));setTimeout(()=>c(),LI)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){let e=it(this.gos),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),QC(t)}keepXYWithinBounds(e,t,i){let n=i===0,o=n?"clientHeight":"clientWidth",r=n?"top":"left",s=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=it(this.gos),c=l.documentElement,d=this.getPopupParent(),u=e.getBoundingClientRect(),h=d.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),g=d===l.body,C=Math.ceil(u[s]),x=g?(n?YC:$l)(c)+c[a]:d[o];g&&(x-=Math.abs(p[r]-h[r]));let R=x-C;return Math.min(Math.max(t,0),Math.abs(R))}addPopup(e){let t=it(this.gos),{eChild:i,ariaLabel:n,alwaysOnTop:o,positionCallback:r,anchorToElement:s}=e;if(!t)return A("could not find the document, document is empty"),{hideFunc:()=>{}};let a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);let l=this.createPopupWrapper(i,n,!!o),c=this.addEventListenersToPopup(ce(E({},e),{wrapperEl:l}));return r&&r(),this.addPopupToPopupList(i,l,c,s),{hideFunc:c}}initialisePopupPosition(e){let i=this.getPopupParent().getBoundingClientRect();B(e.style.top)||(e.style.top=`${i.top*-1}px`),B(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){let n=this.getPopupParent(),o=document.createElement("div");return this.environment.applyThemeClasses(o),o.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ut(e,"dialog"),fr(e,t),o.appendChild(e),n.appendChild(o),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),o}handleThemeChange(e){if(e.themeChanged)for(let t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){let t=it(this.gos),i=this.getPopupParent(),{wrapperEl:n,eChild:o,closedCallback:r,afterGuiAttached:s,closeOnEsc:a,modal:l}=e,c=!1,d=g=>{if(!n.contains(Qe(this.gos)))return;g.key===P.ESCAPE&&!pn(g)&&p({keyboardEvent:g})},u=g=>p({mouseEvent:g}),h=g=>p({touchEvent:g}),p=(g={})=>{let{mouseEvent:C,touchEvent:m,keyboardEvent:x,forceHide:R}=g;!R&&(this.isEventFromCurrentPopup({mouseEvent:C,touchEvent:m},o)||c)||(c=!0,i.removeChild(n),t.removeEventListener("keydown",d),t.removeEventListener("mousedown",u),t.removeEventListener("touchstart",h),t.removeEventListener("contextmenu",u),this.eventService.removeEventListener("dragStarted",u),r&&r(C||m||x),this.removePopupFromPopupList(o))};return s&&s({hidePopup:p}),window.setTimeout(()=>{a&&t.addEventListener("keydown",d),l&&(t.addEventListener("mousedown",u),this.eventService.addEventListener("dragStarted",u),t.addEventListener("touchstart",h),t.addEventListener("contextmenu",u))},0),p}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:OI++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(r=>r&&r()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;let o=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=o,n.isAnchored=!0,o}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:o}=e,r=n.getBoundingClientRect(),s=u=>parseInt(u.substring(0,u.length-1),10),a=(u,h)=>{let p=i[u]-r[u],g=s(o.style[u]);return{initialDiff:p,lastDiff:p,initial:g,last:g,direction:h}},l=a("top",0),c=a("left",1),d=this.getFrameworkOverrides();return new ii(u=>{d.wrapIncoming(()=>{d.setInterval(()=>{let h=t.getBoundingClientRect(),p=n.getBoundingClientRect();if(p.top==0&&p.left==0&&p.height==0&&p.width==0){e.hidePopup();return}let C=(m,x)=>{let R=s(o.style[x]);m.last!==R&&(m.initial=R,m.last=R);let D=h[x]-p[x];if(D!=m.lastDiff){let N=this.keepXYWithinBounds(o,m.initial+m.initialDiff-D,m.direction);o.style[x]=`${N}px`,m.last=N}m.lastDiff=D};C(l,"top"),C(c,"left")},200).then(h=>{u(()=>{h!=null&&window.clearInterval(h)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){let{mouseEvent:i,touchEvent:n}=e,o=i||n;if(!o)return!1;let r=this.getPopupIndex(t);if(r===-1)return!1;for(let s=r;s<this.popupList.length;s++){let a=this.popupList[s];if(Bx(a.element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(e){let t=it(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){let t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=o.length,s=this.getWrapper(e);if(!s||n<=1||!t.contains(e))return!1;let a=i.indexOf(s),l=s.querySelectorAll("div"),c=[];l.forEach(u=>{u.scrollTop!==0&&c.push([u,u.scrollTop])});let d=!1;for(r?s.classList.contains("ag-always-on-top")?a!==n-1&&(De(o).insertAdjacentElement("afterend",s),d=!0):a!==n-r-1&&(o[0].insertAdjacentElement("beforebegin",s),d=!0):a!==n-1&&(De(i).insertAdjacentElement("afterend",s),d=!0);c.length;){let u=c.pop();u[0].scrollTop=u[1]}return d}},VI=["touchstart","touchend","touchmove","touchcancel"],hp=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new ii(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,n){let o=fo(VI,t);e.addEventListener(t,i,{capture:!!n,passive:o})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},HI=class extends T{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let i=e===P.UP,n=e===P.DOWN,o=e===P.LEFT,r,s;if(i||n)s=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),r=t.column;else{let a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");s=t.rowIndex,r=o!==l?a[0]:De(a)}return{rowIndex:s,rowPinned:null,column:r}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case P.UP:i=this.getCellAbove(i);break;case P.DOWN:i=this.getCellBelow(i);break;case P.RIGHT:this.gos.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case P.LEFT:this.gos.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,A("unknown key for navigation ",e);break}i?n=this.isCellGoodToFocusOn(i):n=!0}return i}isCellGoodToFocusOn(e){let t=e.column,i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}return i?!t.isSuppressNavigable(i):!1}getCellToLeft(e){if(!e)return null;let t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){let t=e.rowIndex,i=e.rowPinned,n=!1;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(n=!0);let o=this.rowModel.getRow(e.rowIndex),r=n?void 0:this.getNextStickyPosition(o);return r||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!Jl(this.gos)||!e||!e.sticky)return;let i=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex),n=[];i?n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):n=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);let o=t?-1:1,r=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),s=n[r+o];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;let t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){let t=e.rowPinned,i=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(e){let t=e.rowIndex,i=e.rowPinned,n=i?t===0:t===this.pageBoundsService.getFirstRow(),o=!1;if(n)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(o=!0);let r=this.rowModel.getRow(e.rowIndex),s=o?void 0:this.getNextStickyPosition(r,!0);return s||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;let t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let t=this.visibleColsService.getAllCols(),i=e.rowIndex,n=e.rowPinned,o=this.visibleColsService.getColAfter(e.column);if(!o){o=t[0];let r=this.getRowBelow(e);if(Fe(r)||!r.rowPinned&&!(this.paginationService?.isRowInPage(r)??!0))return null;i=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}getNextTabbedCellBackwards(e){let t=this.visibleColsService.getAllCols(),i=e.rowIndex,n=e.rowPinned,o=this.visibleColsService.getColBefore(e.column);if(!o){o=De(t);let r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Fe(r)||!r.rowPinned&&!(this.paginationService?.isRowInPage(r)??!0))return null;i=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:i,column:o,rowPinned:n}}},Tt=(e,t)=>{for(let i in t)t[i]=e;return t},cC=E(E(E(E(E(E(E(E(E(E(E(E(E(E(E({},Tt("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),Tt("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),Tt("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0})),Tt("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),Tt("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),Tt("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),Tt("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),Tt("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),Tt("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),Tt("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0})),Tt("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),Tt("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),Tt("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),Tt("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),Tt("@ag-grid-enterprise/status-bar",{getStatusPanel:0})),dh={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},BI=(e,t)=>e.eventService.dispatchEvent(t),Y0=class{};Reflect.defineProperty(Y0,"name",{value:"GridApi"});var zI=class extends T{constructor(){super(),this.beanName="apiFunctionService",this.api=new Y0,this.fns=ce(E({},dh),{dispatchEvent:BI}),this.beans=null,this.preDestroyLink="";let{api:e}=this;for(let t in cC)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){let{fns:i,beans:n}=this;i!==dh&&(i[e]=n?.validationService?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:i,fns:{[e]:n}}=this;return n?n(i,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:i,preDestroyLink:n}=this;if(!t)A(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`);else{let o=cC[e];i.assertModuleRegistered(o,`api.${e}`)&&A(`API function '${e}' not registered to module '${o}'`)}}destroy(){super.destroy(),this.fns=dh,this.beans=null}};function GI(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var WI=class extends T{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){let n=[],o={};return e.forEach(r=>{let s=this.createDefFromColumn(r,t,i),a=!0,l=s,c=r.getOriginalParent(),d=null;for(;c;){let u=null;if(c.isPadding()){c=c.getOriginalParent();continue}let h=o[c.getGroupId()];if(h){h.children.push(l),a=!1;break}if(u=this.createDefFromGroup(c),u&&(u.children=[l],o[u.groupId]=u,l=u,c=c.getOriginalParent()),c!=null&&d===c){a=!1;break}d=c}a&&n.push(l)}),n}createDefFromGroup(e){let t=bh(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){let n=bh(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},jI=class extends T{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){let{movedColumns:t,source:i,toIndex:n,finished:o}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:n,finished:o,source:i})}columnPinned(e,t){if(!e.length)return;let i=e.length===1?e[0]:null,n=this.getCommonValue(e,o=>o.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:e,column:i,source:t})}columnVisible(e,t){if(!e.length)return;let i=e.length===1?e[0]:null,n=this.getCommonValue(e,o=>o.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:i,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;let i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}columnChanged(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:i})}columnResized(e,t,i,n=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:t,source:i})}},UI=class extends T{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){let e=this.columnModel.getColDefCols();if(Fe(e)||!this.columnModel.isAlive())return[];let i=this.columnModel.getAllCols().map(n=>this.createStateItemFromColumn(n));return this.orderColumnStateList(i),i}createStateItemFromColumn(e){let t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,o=e.isPivotActive()?i.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,s=e.getSort()!=null?e.getSort():null,a=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:a,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:o,flex:l}}orderColumnStateList(e){let t=this.columnModel.getCols(),i=new Map(t.map((n,o)=>[n.getColId(),o]));e.sort((n,o)=>{let r=i.has(n.colId)?i.get(n.colId):-1,s=i.has(o.colId)?i.get(o.colId):-1;return r-s})}},$I=class extends T{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){let e=[],t=this.columnModel.getColTree();return mn(null,t,i=>{Pt(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){let t=this.columnModel.getColDefColTree();if(!t)return;let i=[];mn(null,t,n=>{if(Pt(n)){let o=n.getColGroupDef(),r={groupId:n.getGroupId(),open:o?o.openByDefault:void 0};i.push(r)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();let n=[];e.forEach(o=>{let r=o.groupId,s=o.open,a=this.columnModel.getProvidedColGroup(r);a&&a.isExpanded()!==s&&(a.setExpanded(s),n.push(a))}),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},KI=class extends T{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){let n=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){let r=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=r-this.scrollPosition-this.scrollWidth,this.viewportRight=r-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){let e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,o=this.viewportRight+200,r=t<n&&i<n,s=t>o&&i>o;return!r&&!s}getViewportColumns(){let e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;let t=o=>{let r=o.getLeft();return B(r)&&r>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};let e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach(r=>e[r.getId()]=!0);let o=(r,s,a)=>{let l=!1;for(let c=0;c<r.length;c++){let d=r[c],u=!1;if(jn(d))u=e[d.getId()]===!0;else{let p=d.getDisplayedChildren();p&&(u=o(p,s,a+1))}u&&(l=!0,s[a]||(s[a]=[]),s[a].push(d))}return l};o(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),o(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),o(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}},qI=class extends T{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){let i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(n){let o=e(n),r=typeof o;if(r==="string"||r==="number"||r==="boolean"){this.eGui=ea("<span>"+o+"</span>");return}if(o==null){this.eGui=ea("<span></span>");return}this.eGui=o}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},YI=class extends T{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},QI=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],dC=Object.fromEntries(QI.map((e,t)=>[e,t]));function ZI(e,t){let i=(e.beanName?dC[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?dC[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-n}function XI(e,t){return e?.beanName==="gridDestroyService"?-1:0}var JI=class extends T{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){let i=this.registry[e];if(i!=null)return new i(...t)}},eM=class extends T{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){this.runReadyCallbacksAsync=e.frameworkOverrides.runWhenReadyAsync?.()??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>e?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},tM=class extends T{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){let{rowIndex:t,rowPinned:i,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:i})}createIdFromValues(e){let{rowIndex:t,rowPinned:i,column:n}=e;return`${t}.${i??"null"}.${n.getId()}`}equals(e,t){let i=e.column===t.column,n=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return i&&n&&o}},iM=class extends T{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){Xe(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);let i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};t?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},nM=class extends T{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(B(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},uC={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},hC={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},pC={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},oM=class extends T{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(uC),this.getSizeEl(hC),this.getSizeEl(pC)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(uC)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(hC)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(pC)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){return this.gridTheme?.getCssClass()||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){let t=this.getThemeClasses();for(let i of Array.from(e.classList))i.startsWith("ag-theme-")&&!t.includes(i)&&e.classList.remove(i);e.classList.add(...t)}refreshRowHeightVariable(){let e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;let i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let i=t.offsetWidth;return i===gC?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(i),this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${gC}px)`,i.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);n==="no-styles"&&A(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);let o=this.resizeObserverService.observeResize(t,()=>{let r=this.measureSizeEl(e);r==="detached"||r==="no-styles"||(this.lastKnownValues.set(e,r),r!==n&&(n=r,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){let e=new MutationObserver(()=>{let i=this.readAncestorThemeClasses();rM(i,this.ancestorThemeClasses)||(this.ancestorThemeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))}),t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv,t=[];for(;e;){let i=Array.from(e.classList).filter(n=>n.startsWith("ag-theme-"));for(let n of i)t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){let{gos:e,eMeasurementContainer:t,gridTheme:i}=this,n=e.get("theme")||null;n!==i&&(i?.stopUse(),this.gridTheme=n,n?.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){this.gridTheme?.stopUse(),this.gridTheme=null}},rM=(e,t)=>e.length===t.length&&e.findIndex((i,n)=>e[n]!==t[n])===-1,gC=15538,sM=class extends T{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new Cr}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){let e=Bl(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},aM=(()=>{let e=class hi extends T{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(i){this.eGridDiv=i.eGridDiv,this.columnModel=i.columnModel,this.visibleColsService=i.visibleColsService,this.headerNavigationService=i.headerNavigationService,this.headerPositionUtils=i.headerPositionUtils,this.rowRenderer=i.rowRenderer,this.rowPositionUtils=i.rowPositionUtils,this.cellPositionUtils=i.cellPositionUtils,this.navigationService=i.navigationService,this.ctrlsService=i.ctrlsService,this.filterManager=i.filterManager,this.rangeService=i.rangeService,this.advancedFilterService=i.advancedFilterService,this.overlayService=i.overlayService}static addKeyboardModeEvents(i){this.instanceCount>0||(i.addEventListener("keydown",hi.toggleKeyboardMode),i.addEventListener("mousedown",hi.toggleKeyboardMode))}static removeKeyboardModeEvents(i){this.instanceCount>0||(i.removeEventListener("keydown",hi.toggleKeyboardMode),i.removeEventListener("mousedown",hi.toggleKeyboardMode))}static toggleKeyboardMode(i){let n=hi.keyboardModeActive,o=i.type==="keydown";o&&(i.ctrlKey||i.metaKey||i.altKey)||n!==o&&(hi.keyboardModeActive=o)}postConstruct(){let i=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:i,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:i,columnRowGroupChanged:i}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,n=>{this.gridCtrl=n.gridCtrl})}registerKeyboardFocusEvents(){let i=it(this.gos);hi.addKeyboardModeEvents(i),hi.instanceCount++,this.addDestroyFunc(()=>{hi.instanceCount--,hi.removeKeyboardModeEvents(i)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;let i=this.focusedCellPosition.column,n=this.columnModel.getCol(i.getId());i!==n&&this.clearFocusedCell()}isKeyboardMode(){return hi.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Qe(this.gos),Co.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Qe(this.gos),nc.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(i,n){let o=i;for(;o;){if(qs(this.gos,o,n))return!1;o=o.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(i){return this.isCellRestoreFocused(i)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(i,n){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(i),n())})}isCellRestoreFocused(i){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(i,this.restoredFocusedCellPosition)}setRestoreFocusedCell(i){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=i)}getFocusEventParams(i){let{rowIndex:n,rowPinned:o,column:r}=i,s={rowIndex:n,rowPinned:o,column:r,isFullWidthCell:!1},a=this.rowRenderer.getRowByPosition({rowIndex:n,rowPinned:o});return a&&(s.isFullWidthCell=a.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;let i=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent(E({type:"cellFocusCleared"},i))}setFocusedCell(i){let{column:n,rowIndex:o,rowPinned:r,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:a=!1}=i,l=this.columnModel.getCol(n);if(!l){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:o,rowPinned:hn(r),column:l},this.eventService.dispatchEvent(ce(E({type:"cellFocused"},this.getFocusEventParams(this.focusedCellPosition)),{forceBrowserFocus:s,preventScrollOnBrowserFocus:a}))}isCellFocused(i){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(i,this.focusedCellPosition)}isRowNodeFocused(i){return this.isRowFocused(i.rowIndex,i.rowPinned)}isHeaderWrapperFocused(i){if(this.focusedHeaderPosition==null)return!1;let n=i.getColumnGroupChild(),o=i.getRowIndex(),r=i.getPinned(),{column:s,headerRowIndex:a}=this.focusedHeaderPosition;return n===s&&o===a&&r==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(i,n){this.focusedHeaderPosition={headerRowIndex:i,column:n}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(i){if(this.isHeaderFocusSuppressed())return!1;let{direction:n,fromTab:o,allowUserOverride:r,event:s,fromCell:a,rowWithoutSpanValue:l}=i,{headerPosition:c}=i;if(a&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(r){let d=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(o){let h=this.gos.getCallback("tabToNextHeader");h&&(c=this.getHeaderPositionFromUserFunc({userFunc:h,direction:n,currentPosition:d,headerPosition:c,headerRowCount:u}))}else{let h=this.gos.getCallback("navigateToNextHeader");if(h&&s){let p={key:s.key,previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:u,event:s};c=h(p)}}}return c?this.focusProvidedHeaderPosition({headerPosition:c,direction:n,event:s,fromCell:a,rowWithoutSpanValue:l}):!1}focusHeaderPositionFromUserFunc(i){if(this.isHeaderFocusSuppressed())return!1;let{userFunc:n,headerPosition:o,direction:r,event:s}=i,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount(),c=this.getHeaderPositionFromUserFunc({userFunc:n,direction:r,currentPosition:a,headerPosition:o,headerRowCount:l});return!!c&&this.focusProvidedHeaderPosition({headerPosition:c,direction:r,event:s})}getHeaderPositionFromUserFunc(i){let{userFunc:n,direction:o,currentPosition:r,headerPosition:s,headerRowCount:a}=i,c=n({backwards:o==="Before",previousHeaderPosition:r,nextHeaderPosition:s,headerRowCount:a});return c===!0||c===null?(c===null&&A("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),r):c===!1?null:c}focusProvidedHeaderPosition(i){let{headerPosition:n,direction:o,fromCell:r,rowWithoutSpanValue:s,event:a}=i,{column:l,headerRowIndex:c}=n;if(c===-1)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(n):this.focusGridView(l);this.headerNavigationService.scrollToColumn(l,o);let u=this.ctrlsService.getHeaderRowContainerCtrl(l.getPinned())?.focusHeader(n.headerRowIndex,l,a)||!1;return u&&(s!=null||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(s??-1),u}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let i=this.visibleColsService.getAllCols()[0];if(!i)return!1;i.getParent()&&(i=this.visibleColsService.getColGroupAtLevel(i,0));let n=this.headerPositionUtils.getHeaderIndexToFocus(i,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(i){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;let n=this.headerNavigationService.getHeaderRowCount()-1,o=De(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:o},rowWithoutSpanValue:-1,event:i})}focusPreviousFromFirstCell(i){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(i)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(i,n){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===i&&this.focusedCellPosition.rowPinned===hn(n)}findFocusableElements(i,n,o=!1){let r=kE,s=qC;n&&(s+=", "+n),o&&(s+=', [tabindex="-1"]');let a=Array.prototype.slice.apply(i.querySelectorAll(r)).filter(d=>Oi(d)),l=Array.prototype.slice.apply(i.querySelectorAll(s));return l.length?((d,u)=>d.filter(h=>u.indexOf(h)===-1))(a,l):a}focusInto(i,n=!1,o=!1){let r=this.findFocusableElements(i,null,o),s=n?De(r):r[0];return s?(s.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(i,n){if(!n)return null;let o=this.findFocusableElements(i),r=o.indexOf(n);if(r===-1)return null;let s=-1;for(let a=r-1;a>=0;a--)if(o[a].classList.contains("ag-tab-guard-top")){s=a;break}return s<=0?null:o[s-1]}findNextFocusableElement(i=this.eGridDiv,n,o){let r=this.findFocusableElements(i,n?':not([tabindex="-1"])':null),s=Qe(this.gos),a;n?a=r.findIndex(c=>c.contains(s)):a=r.indexOf(s);let l=a+(o?-1:1);return l<0||l>=r.length?null:r[l]}isTargetUnderManagedComponent(i,n){if(!n)return!1;let o=i.querySelectorAll(`.${So.FOCUS_MANAGED_CLASS}`);if(!o.length)return!1;for(let r=0;r<o.length;r++)if(o[r].contains(n))return!0;return!1}findTabbableParent(i,n=5){let o=0;for(;i&&xh(i)===null&&++o<=n;)i=i.parentElement;return xh(i)===null?null:i}focusOverlay(i){let n=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!n&&this.focusInto(n,i)}focusGridViewFailed(i,n){return n&&this.focusOverlay(i)||i&&this.focusLastHeader()}focusGridView(i,n=!1,o=!0){if(this.overlayService.isExclusive())return o&&this.focusOverlay(n);if(this.isCellFocusSuppressed())return n&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():o&&this.focusOverlay(n)?!0:this.focusNextGridCoreContainer(!1);let r=n?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(r){let{rowIndex:s,rowPinned:a}=r;if(i??(i=this.getFocusedHeader()?.column),i&&s!==void 0&&s!==null)return this.navigationService.ensureCellVisible({rowIndex:s,column:i,rowPinned:a}),n&&this.rowRenderer.getRowByPosition(r)?.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(r,n)||(this.setFocusedCell({rowIndex:s,column:i,rowPinned:hn(a),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:s,rowPinned:a,column:i})),!0}return!!(o&&this.focusOverlay(n)||n&&this.focusLastHeader())}isGridFocused(){let i=Qe(this.gos);return!!i&&this.eGridDiv.contains(i)}focusNextGridCoreContainer(i,n=!1){return!n&&this.gridCtrl.focusNextInnerContainer(i)?!0:((n||!i&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(i),!1)}focusAdvancedFilter(i){return this.advancedFilterFocusColumn=i?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(i,n){let o=(n?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return i?this.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(o)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(i){this.gridCtrl.addFocusableContainer(i)}removeFocusableContainer(i){this.gridCtrl.removeFocusableContainer(i)}focusGridInnerElement(i){return this.gridCtrl.focusInnerElement(i)}allowFocusForNextGridCoreContainer(i){this.gridCtrl.allowFocusForNextCoreContainer(i)}};return e.keyboardModeActive=!1,e.instanceCount=0,e})(),lM=aM,cM=class extends T{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let e=wt(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},dM=class extends T{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDropService:n,mouseEventService:o,ctrlsService:r,resizeObserverService:s}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:c=>c===1||c===0,getIconName:()=>"notAllowed"};n.addDropTarget(a),this.addDestroyFunc(()=>n.removeDropTarget(a)),o.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new up(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});let l=s.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),r.register("gridCtrl",this)}isDetailGrid(){return this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(i>0){let o=this.visibleColsService.getAllCols(),r=De(o);if(this.focusService.focusGridView(r,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){let t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;let i=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(i.length>1)return this.focusContainer(De(i),!0);let o=De(n);if(this.focusService.focusGridView(o,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let o=1;o<i.length;o++)if(this.focusService.focusInto(i[o].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||i<0||i>=t.length)return;let o=t[i];o.setAllowFocus?.(!0),setTimeout(()=>{o.setAllowFocus?.(!1)})}getNextFocusableIndex(e,t){let i=Qe(this.gos),n=e.findIndex(r=>r.getGui().contains(i)),o=n+(t?-1:1);return{indexWithFocus:n,nextIndex:o}}focusContainer(e,t){e.setAllowFocus?.(!0);let i=this.focusService.focusInto(e.getGui(),t);return e.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){let e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},uM=class extends q0{constructor(e){super(),this.gridBody=Z,this.sideBar=Z,this.pagination=Z,this.rootWrapperBody=Z,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:r=>this.addCssClass(r),setGridThemeClass:r=>this.addCssClass(r),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:r=>{this.getGui().style.userSelect=r??"",this.getGui().style.webkitUserSelect=r??""},setCursor:r=>{this.getGui().style.cursor=r??""}},t=this.createManagedBean(new dM),i=t.getOptionalSelectors(),n=this.createTemplate(i),o=[F2,...Object.values(i).filter(r=>!!r)];this.setTemplate(n,o),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>t.focusInnerElement(r),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&gi("Grid removed from DOM")})}updateLayoutClasses(e,t){let i=this.rootWrapperBody.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(e){let t=e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",n=e.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",o=e.watermarkSelector?"<ag-watermark></ag-watermark>":"",r=e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${t}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${i}
                </div>
                ${n}
                ${r}
                ${o}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>Oi(t.getGui()))}},hM=class extends T{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";typeof e=="function"&&(e=e());let i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(o=>{if(!o){Oe("alignedGrids contains an undefined option."),t||Oe(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Oe(i());return}if(this.isGridApi(o))return o;let r=o;return"current"in r?r.current?.api:(r.api||Oe(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),r.api)}).filter(o=>!!o&&!o.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let i=[];return e.columns?e.columns.forEach(n=>{i.push(t(n))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":A("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){let{columnModel:t}=this;e.columnGroups.forEach(i=>{let n=null;i&&(n=t.getProvidedColGroup(i.getGroupId())),!(i&&!n)&&t.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let t=e.column,i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;let n=this.getMasterColumns(e),{columnApplyStateService:o,columnSizeService:r,ctrlsService:s}=this;switch(e.type){case"columnMoved":{let d=e.api.getColumnState().map(u=>({colId:u.colId}));o.applyColumnState({state:d,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let d=e.api.getColumnState().map(u=>({colId:u.colId,hide:u.hide}));o.applyColumnState({state:d},"alignedGridChanged")}break;case"columnPinned":{let d=e.api.getColumnState().map(u=>({colId:u.colId,pinned:u.pinned}));o.applyColumnState({state:d},"alignedGridChanged")}break;case"columnResized":{let c=e,d={};n.forEach(u=>{d[u.getId()]={key:u.getColId(),newWidth:u.getActualWidth()}}),c.flexColumns?.forEach(u=>{d[u.getId()]&&delete d[u.getId()]}),r.setColumnWidths(Object.values(d),!1,c.finished,"alignedGridChanged");break}}let l=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(c=>{c.setGridOption("alwaysShowVerticalScroll",l)})}},pM={version:pe,moduleName:"@ag-grid-community/aligned-grid",beans:[hM]};function gM(e,t){let i=e.columnModel.getColDefCol(t);return i?i.getColDef():null}function mM(e){return e.columnModel.getColumnDefs()}function fM(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function vM(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")}function CM(e,t,i){return e.visibleColsService.getColumnGroup(t,i)}function bM(e,t){return e.columnModel.getProvidedColGroup(t)}function wM(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""}function yM(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""}function SM(e,t){return e.columnModel.getColDefCol(t)}function _M(e){return e.columnModel.getColDefCols()}function xM(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function EM(e){return e.columnGetStateService.getColumnState()}function RM(e){e.columnApplyStateService.resetColumnState("api")}function DM(e){return e.columnGroupStateService.getColumnGroupState()}function IM(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function MM(e){e.columnGroupStateService.resetColumnGroupState("api")}function FM(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function TM(e){return e.visibleColsService.isPinningLeft()}function kM(e){return e.visibleColsService.isPinningRight()}function PM(e,t){return e.visibleColsService.getColAfter(t)}function AM(e,t){return e.visibleColsService.getColBefore(t)}function OM(e,t,i){e.columnModel.setColsVisible([t],i,"api")}function LM(e,t,i){e.columnModel.setColsVisible(t,i,"api")}function NM(e,t,i){e.columnModel.setColsPinned([t],i,"api")}function VM(e,t,i){e.columnModel.setColsPinned(t,i,"api")}function HM(e){return e.columnModel.getCols()}function BM(e){return e.visibleColsService.getLeftCols()}function zM(e){return e.visibleColsService.getCenterCols()}function GM(e){return e.visibleColsService.getRightCols()}function WM(e){return e.visibleColsService.getAllCols()}function jM(e){return e.columnViewportService.getViewportColumns()}function UM(e,t,i){e.columnMoveService.moveColumns([t],i,"api")}function $M(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")}function KM(e,t,i){e.columnMoveService.moveColumns(t,i,"api")}function qM(e,t,i,n=!0,o="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,n,o)}function YM(e,t,i=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,i,n)}function QM(e){return e.visibleColsService.getTreeLeft()}function ZM(e){return e.visibleColsService.getTreeCenter()}function XM(e){return e.visibleColsService.getTreeRight()}function JM(e){return e.visibleColsService.getAllTrees()}function eF(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})}function tF(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function iF(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var nF=class extends T{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(uo(e.source))})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};let t=n=>o=>{let{column:r,node:s,value:a}=o,l=r.getColDef().valueFormatter;return l===n.groupSafeValueFormatter&&(l=n.valueFormatter),this.valueService.formatValue(r,s,a,l)};Object.entries(e).forEach(([n,o])=>{let r=ce(E({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)});this.dataTypeDefinitions[n]=r,this.formatValueFuncs[n]=t(r)});let i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([n,o])=>{let r=this.processDataTypeDefinition(o,i,[n],e);r&&(this.dataTypeDefinitions[n]=r,o.dataTypeMatcher&&(this.dataTypeMatchers[n]=o.dataTypeMatcher),this.formatValueFuncs[n]=t(r))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{let o=this.dataTypeMatchers[n];o&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=o??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){let i=E(E({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...Nl(e.columnTypes),...Nl(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,n){let o,r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=n[r],a=t[r];if(s&&a&&(s=a),!this.validateDataTypeDefinition(e,s,r))return;o=this.mergeDataTypeDefinitions(s,e)}else{if(i.includes(r)){A('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}let s=t[r];if(!this.validateDataTypeDefinition(e,s,r))return;let a=this.processDataTypeDefinition(s,t,[...i,r],n);if(!a)return;o=this.mergeDataTypeDefinitions(a,e)}return ce(E({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)})}validateDataTypeDefinition(e,t,i){return t?t.baseDataType!==e.baseDataType?(A('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(A(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){let i=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(i){if(i==="first"||i==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&i!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(ce(E({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(ce(E({},t),{value:t.value.value}))}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!e.dataTypeMatcher?.(t.value))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t,{field:o}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(o,i):!1),!n){e.cellDataType=!1;return}let r=this.dataTypeDefinitions[n];if(!r){A(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,r,i),r.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let i=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if(!Xe(this.gos))return!1;let i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;let n=t.type===null?e.type:t.type;if(n){let o=this.gos.get("columnTypes")??{};if(Nl(n).some(s=>{let a=o[s.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>this.doesColDefPropPreventInference(e,t,i,n))}doesColDefPropPreventInference(e,t,i,n){if(!t[i])return!1;let o=e[i];return o===null?(t[i]=!1,!1):n===void 0?!!o:o===n}inferCellDataType(e,t){if(!e)return;let i,n=this.getInitialData();if(n){let r=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Gs(n,e,r)}else this.initWaitForRowData(t);if(i==null)return;let[o]=Object.entries(this.dataTypeMatchers).find(([r,s])=>s(i))??["object"];return o}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.rowModel.getRootNode().allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();let[i]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{let{firstRowData:o}=n;o&&(i?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;let i=[];this.destroyColumnStateUpdateListeners();let n={},o={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([r,s])=>{let a=this.columnModel.getCol(r);if(!a)return;let l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;let c=a.getColDef();if(t&&c.type&&c.type!==l.type){let d=this.getUpdatedColumnState(a,s);d.rowGroup&&d.rowGroupIndex==null&&(n[r]=d),d.pivot&&d.pivotIndex==null&&(o[r]=d),i.push(d)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,o)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){let i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete i[n],n==="rowGroup"?delete i.rowGroupIndex:n==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){let t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return i?i(t):!0}validateColDef(e){let t=i=>A(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,n){let o=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=r=>!!r.colDef.editable&&r.event.key===P.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=o;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=o;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(r,s)=>{let a=this.columnModel.getColDefCol(n),l=a?.getColDef();if(!a||!l)return 0;let c=r==null?"":o({column:a,node:null,value:r}),d=s==null?"":o({column:a,node:null,value:s});return c===d?0:c>d?1:-1},e.keyCreator=o;break}}this.filterManager?.setColDefPropertiesForDataType(e,i,o)}getDefaultDataTypes(){let e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>i.newValue?.trim?.()===""?null:Number(i.newValue),valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:hh(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>i.newValue==null?i.newValue:i.newValue?.trim?.()===""?null:String(i.newValue).toLowerCase()==="true",valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>Wt(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):Ci(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>Wt(i)??void 0,dateFormatter:i=>Ci(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>hh(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},oF={version:pe,moduleName:"@ag-grid-community/data-type",beans:[nF]},rF={version:pe,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:gM,getColumnDefs:mM,sizeColumnsToFit:fM,setColumnGroupOpened:vM,getColumnGroup:CM,getProvidedColumnGroup:bM,getDisplayNameForColumn:wM,getDisplayNameForColumnGroup:yM,getColumn:SM,getColumns:_M,applyColumnState:xM,getColumnState:EM,resetColumnState:RM,getColumnGroupState:DM,setColumnGroupState:IM,resetColumnGroupState:MM,isPinning:FM,isPinningLeft:TM,isPinningRight:kM,getDisplayedColAfter:PM,getDisplayedColBefore:AM,setColumnVisible:OM,setColumnsVisible:LM,setColumnPinned:NM,setColumnsPinned:VM,getAllGridColumns:HM,getDisplayedLeftColumns:BM,getDisplayedCenterColumns:zM,getDisplayedRightColumns:GM,getAllDisplayedColumns:WM,getAllDisplayedVirtualColumns:jM,moveColumn:UM,moveColumnByIndex:$M,moveColumns:KM,setColumnWidth:qM,setColumnWidths:YM,getLeftDisplayedColumnGroups:QM,getCenterDisplayedColumnGroups:ZM,getRightDisplayedColumnGroups:XM,getAllDisplayedColumnGroups:JM,autoSizeColumn:eF,autoSizeColumns:tF,autoSizeAllColumns:iF}};function sF(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function aF(e,t){let i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)}function lF(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var cF={version:pe,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:sF,removeRowDropZone:aF,getRowDropZoneParams:lF}};function dF(e){return e.pinnedRowModel.getPinnedTopRowCount()}function uF(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function hF(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function pF(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var gF={version:pe,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:dF,getPinnedBottomRowCount:uF,getPinnedTopRow:hF,getPinnedBottomRow:pF}};function mF(e){e.overlayService.showLoadingOverlay()}function fF(e){e.overlayService.showNoRowsOverlay()}function vF(e){e.overlayService.hideOverlay()}var CF={version:pe,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:mF,showNoRowsOverlay:fF,hideOverlay:vF}};function bF(e,t,i){if(!t)return;let n=e.ctrlsService.getGridBodyCtrl().getGui(),o=`aria-${t}`;i===null?n.removeAttribute(o):n.setAttribute(o,i)}function wF(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function yF(e,t={}){let i=n=>A(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);B(t.fadeDelay)&&i("fade"),B(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function SF(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function _F(e){return e.animationFrameService.isQueueEmpty()}function xF(e){e.animationFrameService.flushAllFrames()}function EF(e){return{rowHeight:mo(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function RF(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(js)}var DF={version:pe,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:bF,refreshCells:wF,flashCells:yF,refreshHeader:SF,isAnimationFrameQueueEmpty:_F,flushAllAnimationFrames:xF,getSizesForCurrentTheme:EF,getCellRendererInstances:RF}};function IF(e){e.valueCache.expire()}function MF(e,t,i){return Q0(e,{colKey:t,rowNode:i})}function Q0(e,t){let{colKey:i,rowNode:n,useFormatter:o}=t,r=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(Fe(r))return null;let s=e.valueService.getValueForDisplay(r,n);return o?e.valueService.formatValue(r,n,s)??Zi(s,!0):s}function FF(e){return e.context.getGridId()}function TF(e){e.gridDestroyService.destroy()}function kF(e){return e.gridDestroyService.isDestroyCalled()}function PF(e,t){return e.gos.get(t)}function AF(e,t,i){Z0(e,{[t]:i})}function Z0(e,t){e.gos.updateGridOptions({options:t})}function OF(e,t,i){e.apiEventService.addEventListener(t,i)}function LF(e,t,i){e.apiEventService.removeEventListener(t,i)}function NF(e,t){e.apiEventService.addGlobalListener(t)}function VF(e,t){e.apiEventService.removeGlobalListener(t)}function HF(e){return e.focusService.getFocusedCell()}function BF(e){return e.focusService.clearFocusedCell()}function zF(e,t,i,n){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})}function GF(e,t){return e.navigationService.tabToNextCell(!1,t)}function WF(e,t){return e.navigationService.tabToNextCell(!0,t)}function jF(e,t,i=!1){let n=e.headerNavigationService.getHeaderPositionForColumn(t,i);n&&e.focusService.focusHeaderPosition({headerPosition:n})}function UF(e,t,i){let n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:i,positionBy:"button"})}function $F(e,t,i){let n=e.columnModel.getCol(t);if(n||(n=e.columnModel.getColDefCol(t)),!n){Oe(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:n,mouseEvent:i,positionBy:"mouse"})}function KF(e,t){let i=e.columnModel.getCol(t);if(!i){Oe(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:i,positionBy:"auto"})}function qF(e){e.menuService.hidePopupMenu()}function YF(e,t={}){let i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function QF(e,t,i,n,o){e.expansionService.setRowNodeExpanded(t,i,n,o)}function ZF(e,t){return e.rowModel.getRowNode(t)}function XF(e,t,i,n){e.rowRenderer.addRenderedRowListener(t,i,n)}function JF(e){return e.rowRenderer.getRenderedNodes()}function eT(e,t,i){e.rowModel.forEachNode(t,i)}function tT(e){return X0(e)}function X0(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function iT(e){return J0(e)}function J0(e){return e.rowRenderer.getLastVirtualRenderedRow()}function nT(e,t){return e.rowModel.getRow(t)}function oT(e){return e.rowModel.getRowCount()}function rT(e){return e.rowModel}function sT(e,t){if(!t.nodes.every(a=>a.rowPinned?(A("cannot select pinned rows"),!1):a.id===void 0?(A("cannot select node until id for node is known"),!1):!0))return;let{nodes:n,source:o,newValue:r}=t,s=n;e.selectionService.setNodesSelected({nodes:s,source:o??"api",newValue:r})}function aT(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function lT(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function cT(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function dT(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function uT(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function hT(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function pT(e){return e.selectionService.getSelectedNodes()}function gT(e){return e.selectionService.getSelectedRows()}function mT(e){e.sortController.onSortChanged("api")}var fT={version:pe,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:FF,destroy:TF,isDestroyed:kF,getGridOption:PF,setGridOption:AF,updateGridOptions:Z0}},vT={version:pe,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:sT,selectAll:aT,deselectAll:lT,selectAllFiltered:cT,deselectAllFiltered:dT,selectAllOnCurrentPage:uT,deselectAllOnCurrentPage:hT,getSelectedNodes:pT,getSelectedRows:gT}},CT={version:pe,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:YF,setRowNodeExpanded:QF,getRowNode:ZF,addRenderedRowListener:XF,getRenderedNodes:JF,forEachNode:eT,getFirstDisplayedRow:tT,getFirstDisplayedRowIndex:X0,getLastDisplayedRow:iT,getLastDisplayedRowIndex:J0,getDisplayedRowAtIndex:nT,getDisplayedRowCount:oT,getModel:rT}},bT={version:pe,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:iI,getHorizontalPixelRange:nI,ensureColumnVisible:U0,ensureIndexVisible:$0,ensureNodeVisible:oI}},wT={version:pe,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:HF,clearFocusedCell:BF,setFocusedCell:zF,setFocusedHeader:jF,tabToNextCell:GF,tabToPreviousCell:WF}},yT={version:pe,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:OF,addGlobalListener:NF,removeEventListener:LF,removeGlobalListener:VF}},ST={version:pe,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:IF,getValue:MF,getCellValue:Q0}},_T={version:pe,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:UF,showColumnMenuAfterMouseClick:$F,showColumnMenu:KF,hidePopupMenu:qF}},xT={version:pe,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:mT}},ET={version:pe,moduleName:"@ag-grid-community/api",dependantModules:[fT,gF,vT,rF,CT,cF,bT,CF,wT,yT,DF,ST,_T,xT]};function RT(e){return e.stateService?.getState()??{}}function DT(e){switch(e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=IT(e)}return e}function IT(e){return e.cellSelection=MT(e,"rangeSelection"),e}function MT(e,t){if(e&&typeof e=="object")return e[t]}var FT=class extends T{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ot(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ot(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Ot(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=Xe(this.gos),this.cachedState=this.getInitialState(),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));let[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return DT(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());let e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){let e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());let t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){let{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:n}=this.getInitialState(),o=this.gos.get("advancedFilterModel");(e||o)&&this.setFilterState(e,o),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());let r=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:r,columnRowGroupChanged:r,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{r()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:s=>{(s.newPage||s.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){let{scroll:e,cellSelection:t,focusedCell:i,columnOrder:n}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!n?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());let o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:r=>{if(r.finished){let s=this.getRangeSelectionState();this.updateCachedState("rangeSelection",s),this.updateCachedState("cellSelection",s)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){let e=this.columnModel.isPivotMode(),t=[],i=[],n=[],o=[],r=[],s=[],a=[],l=[],c=[],d=0,u=this.columnGetStateService.getColumnState();for(let h=0;h<u.length;h++){let{colId:p,sort:g,sortIndex:C,rowGroup:m,rowGroupIndex:x,aggFunc:R,pivot:D,pivotIndex:N,pinned:re,hide:X,width:te,flex:de}=u[h];c.push(p),g&&(t[C??d++]={colId:p,sort:g}),m&&(i[x??0]=p),typeof R=="string"&&n.push({colId:p,aggFunc:R}),D&&(o[N??0]=p),re&&(re==="right"?s:r).push(p),X&&a.push(p),(de||te)&&l.push({colId:p,flex:de??void 0,width:te})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:o.length||e?{pivotMode:e,pivotColIds:o}:void 0,columnPinning:r.length||s.length?{leftColIds:r,rightColIds:s}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){let{sort:t,rowGroup:i,aggregation:n,pivot:o,columnPinning:r,columnVisibility:s,columnSizing:a,columnOrder:l,partialColumnState:c}=e,d={},u=m=>{let x=d[m];return x||(x={colId:m},d[m]=x,x)},h=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:m,sort:x},R)=>{let D=u(m);D.sort=x,D.sortIndex=R}),h.sort=null,h.sortIndex=null),i&&(i.groupColIds.forEach((m,x)=>{let R=u(m);R.rowGroup=!0,R.rowGroupIndex=x}),h.rowGroup=null,h.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:m,aggFunc:x})=>{u(m).aggFunc=x}),h.aggFunc=null),o&&(o.pivotColIds.forEach((m,x)=>{let R=u(m);R.pivot=!0,R.pivotIndex=x}),this.gos.updateGridOptions({options:{pivotMode:o.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),r&&(r.leftColIds.forEach(m=>{u(m).pinned="left"}),r.rightColIds.forEach(m=>{u(m).pinned="right"}),h.pinned=null),s&&(s.hiddenColIds.forEach(m=>{u(m).hide=!0}),h.hide=null),a&&(a.columnSizingModel.forEach(({colId:m,flex:x,width:R})=>{let D=u(m);D.flex=x??null,D.width=R}),h.flex=null);let p=l?.orderedColIds,g=!!p?.length,C=g?p.map(m=>u(m)):Object.values(d);C.length&&(this.columnStates=C,this.columnApplyStateService.applyColumnState({state:C,applyOrder:g,defaultState:h},"gridInitializing"))}setColumnPivotState(e){let t=this.columnStates;this.columnStates=void 0;let i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){let n=[];for(let o of t)this.pivotResultColsService.getPivotResultCol(o.colId)&&n.push(o);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){let e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:n})=>{n&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;let t=new Set(e.columnGroup?.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:o})=>{let r=t.has(o);return r&&t.delete(o),{groupId:o,open:r}});t.forEach(o=>{n.push({groupId:o,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);let t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){let{filterModel:i,advancedFilterModel:n}=e??{advancedFilterModel:t};i&&this.filterManager?.setFilterModel(i,"columnFilter"),n&&this.filterManager?.setAdvancedFilterModel(n)}getRangeSelectionState(){let e=this.rangeService?.getCellRanges().map(t=>{let{id:i,type:n,startRow:o,endRow:r,columns:s,startColumn:a}=t;return{id:i,type:n,startRow:o,endRow:r,colIds:s.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeService:i,columnModel:n,visibleColsService:o}=this;if(!Xi(t)||!i)return;let r=[];if(e.cellRanges.forEach(s=>{let a=[];if(s.colIds.forEach(c=>{let d=n.getCol(c);d&&a.push(d)}),!a.length)return;let l=n.getCol(s.startColId);if(!l){let c=o.getAllCols(),d=new Set(a);l=c.find(u=>d.has(u))}r.push(ce(E({},s),{columns:a,startColumn:l}))}),Fx(t)&&Tx(t)&&r.length>1)return A("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(r)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:i}=e?.getVScrollPosition()??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:i}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.focusService.getFocusedCell();if(e){let{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{colId:t,rowIndex:i,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;let e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){let e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!e?.toggledNodes?.length?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){let e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){let t=this.getColumnState(),i=!1;Object.entries(t).forEach(([n,o])=>{Ks(o,this.cachedState[n])||(i=!0)}),this.cachedState=E(E({},this.cachedState),t),i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let i=this.cachedState[e];this.setCachedStateValue(e,t),Ks(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=ce(E({},this.cachedState),{[e]:t})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},eb={version:pe,moduleName:"@ag-grid-community/state-core",beans:[FT]},TT={version:pe,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:RT},dependantModules:[eb]},kT={version:pe,moduleName:"@ag-grid-community/state",dependantModules:[eb,TT]};function PT(e){return e.rowModel.isLastRowIndexKnown()}function AT(e){return e.paginationService?.getPageSize()??100}function OT(e){return e.paginationService?.getCurrentPage()??0}function LT(e){return e.paginationService?.getTotalPages()??1}function NT(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function VT(e){e.paginationService?.goToNextPage()}function HT(e){e.paginationService?.goToPreviousPage()}function BT(e){e.paginationService?.goToFirstPage()}function zT(e){e.paginationService?.goToLastPage()}function GT(e,t){e.paginationService?.goToPage(t)}var WT=class extends T{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){let t=()=>{let i=Math.max(mo(this.gos),1),n=Math.floor(e/i);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?Ot(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function jT(e,t,i){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===P.TAB){let o=n.shiftKey;i.findNextFocusableElement(t,!1,o)||i.focusNextGridCoreContainer(o)&&n.preventDefault()}}})}var Hs="paginationPageSizeSelector",UT=class extends ke{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(Hs,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){xt(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Hs)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);if(i){let o=this.gos.exists("paginationPageSize"),r=this.gos.get(Hs)!==!0;A(`'paginationPageSize=${t}'${o?"":" (default value)"}, but ${t} is not included in${r?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),r||A(`Either set '${Hs}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}let n=String(i?"":t);this.selectPageSizeComp?(Un(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){let i=this.localeService.getLocaleTextFunc(),n=i("pageSizeSelectorLabel","Page Size:"),o=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new tp).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(o).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(Hs);return!Array.isArray(t)||jt(t)?e:[...t].sort((i,n)=>i-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},$T={selector:"AG-PAGE-SIZE-SELECTOR",component:UT},KT=class extends q0{constructor(){super(),this.btFirst=Z,this.btPrevious=Z,this.btNext=Z,this.btLast=Z,this.lbRecordCount=Z,this.lbFirstRowOnPage=Z,this.lbLastRowOnPage=Z,this.lbCurrent=Z,this.lbTotal=Z,this.pageSizeComp=Z,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[$T]);let{btFirst:t,btPrevious:i,btNext:n,btLast:o}=this;this.activateTabIndex([t,i,n,o]),t.insertAdjacentElement("afterbegin",ni(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",ni(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",ni(e?"previous":"next",this.gos)),o.insertAdjacentElement("afterbegin",ni(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(r):this.focusService.focusGridInnerElement(r)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:n=>{(n.key===P.ENTER||n.key===P.SPACE)&&(n.preventDefault(),i())}})}),jT(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});let i=this.localeService.getLocaleTextFunc(),n=i("thousandSeparator",","),o=i("decimalSeparator",".");return cD(e,n,o)}getTemplate(){let e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),o=e("firstPage","First Page"),r=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${n}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${t}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${n}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){let e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let n=this.isZeroPagesToDisplay(),o=e===i-1;this.nextButtonDisabled=o||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){CE(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),n=e?i:null;if(n===1){let R=this.rowModel.getRow(0);if(R&&R.group&&!(R.groupData||R.aggData)){this.setTotalLabelsToZero();return}}let o=this.paginationService.getCurrentPage(),r=this.paginationService.getPageSize(),s,a;this.isZeroPagesToDisplay()?s=a=0:(s=r*o+1,a=s+r-1,e&&a>n&&(a=n));let l=s+r-1,c=!e&&i<l,d=this.formatNumber(s);this.lbFirstRowOnPage.textContent=d;let u,h=this.localeService.getLocaleTextFunc();c?u=h("pageLastRowUnknown","?"):u=this.formatNumber(a),this.lbLastRowOnPage.textContent=u;let g=t>0?o+1:0,C=this.formatNumber(g);this.lbCurrent.textContent=C;let m,x;if(e)m=this.formatNumber(t),x=this.formatNumber(n);else{let R=h("more","more");m=R,x=R}this.lbTotal.textContent=m,this.lbRecordCount.textContent=x,this.announceAriaStatus(d,u,x,C,m)}announceAriaStatus(e,t,i,n,o){let r=this.localeService.getLocaleTextFunc(),s=r("page","Page"),a=r("to","to"),l=r("of","of"),c=`${e} ${a} ${t} ${l} ${i}`,d=`${s} ${n} ${l} ${o}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),d!==this.ariaPageStatus&&(this.ariaPageStatus=d,this.ariaAnnouncementService.announceValue(d,"paginationPage"))}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},qT={selector:"AG-PAGINATION",component:KT},YT=class extends T{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return qT}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;let t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return B(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:B(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:B(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:B(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let t=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{let n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}let e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:t})}},tb={version:pe,moduleName:"@ag-grid-community/pagination-core",beans:[YT,WT]},QT={version:pe,moduleName:"@ag-grid-community/pagination-api",dependantModules:[tb],apiFunctions:{paginationIsLastPageFound:PT,paginationGetPageSize:AT,paginationGetCurrentPage:OT,paginationGetTotalPages:LT,paginationGetRowCount:NT,paginationGoToNextPage:VT,paginationGoToPreviousPage:HT,paginationGoToFirstPage:BT,paginationGoToLastPage:zT,paginationGoToPage:GT}},ZT={version:pe,moduleName:"@ag-grid-community/pagination",dependantModules:[tb,QT]},Gt="clientSide",kt="serverSide",ar="infinite",XT={onGroupExpandedOrCollapsed:[Gt],refreshClientSideRowModel:[Gt],isRowDataEmpty:[Gt],forEachLeafNode:[Gt],forEachNodeAfterFilter:[Gt],forEachNodeAfterFilterAndSort:[Gt],resetRowHeights:[Gt],applyTransaction:[Gt],applyTransactionAsync:[Gt],flushAsyncTransactions:[Gt],getBestCostNodeSelection:[Gt],getServerSideSelectionState:[kt],setServerSideSelectionState:[kt],applyServerSideTransaction:[kt],applyServerSideTransactionAsync:[kt],applyServerSideRowData:[kt],retryServerSideLoads:[kt],flushServerSideAsyncTransactions:[kt],refreshServerSide:[kt],getServerSideGroupLevelState:[kt],refreshInfiniteCache:[ar],purgeInfiniteCache:[ar],getInfiniteRowCount:[ar],isLastRowIndexKnown:[ar,kt],expandAll:[Gt,kt],collapseAll:[Gt,kt],onRowHeightChanged:[Gt,kt],setRowCount:[ar,kt],getCacheBlockState:[ar,kt]},JT={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function ek(e,t,i){let n=JT[e];if(n){let{version:r,new:s,old:a,message:l}=n,c=a??e;return(...d)=>{let u=s?`Please use ${s} instead. `:"";return A(`Since ${r} api.${c} is deprecated. ${u}${l??""}`),t.apply(t,d)}}let o=XT[e];return o?(...r)=>{let s=i.rowModel.getType();if(!o.includes(s)){Oe(`api.${e} can only be called when gridOptions.rowModelType is ${o.join(" or ")}`);return}return t.apply(t,r)}:t}var tk={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Vn=(e,t)=>(t.rowModelType??"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null,ik={enableRowGroup:Vn,rowGroup:Vn,rowGroupIndex:Vn,enablePivot:Vn,enableValue:Vn,pivot:Vn,pivotIndex:Vn,aggFunc:Vn,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(i=>t.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>lr},nk={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},ok=Object.keys(nk),lr={objectName:"colDef",allProperties:ok,docsUrl:"column-properties/",deprecations:tk,validations:ik},rk=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),sk={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},ak=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{let t=e.rowModelType??"clientSide";switch(t){case"clientSide":{let i=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:i}case"serverSide":{let i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{let t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>lr,defaultColDef:()=>lr,defaultColGroupDef:()=>lr,autoGroupColumnDef:()=>lr,selectionColumnDef:()=>lr}),lk=()=>({objectName:"gridOptions",allProperties:[...Qs.ALL_PROPERTIES,...Zs.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:rk(),validations:ak()}),ck=class extends T{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,lk())}validateApiFunction(e,t){return ek(e,t,this.beans)}processOptions(e,t){let{validations:i,deprecations:n,allProperties:o,propertyExceptions:r,objectName:s,docsUrl:a}=t;o&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...r??[],...Object.keys(n)],o,s,a);let l=new Set;Object.keys(e).forEach(d=>{let u=n[d];if(u)if("renamed"in u){let{renamed:D,version:N}=u;l.add(`As of v${N}, ${String(d)} is deprecated. Please use ${String(D)} instead.`),e[D]=e[d]}else{let{message:D,version:N}=u;l.add(`As of v${N}, ${String(d)} is deprecated. ${D??""}`)}let h=e[d];if(h==null||h===!1)return;let p=i[d],g;if(p)if(typeof p=="function"){let D=p(e,this.gridOptions);if(!D)return;if("objectName"in D){let N=e[d];if(Array.isArray(N)){N.forEach(re=>{this.processOptions(re,D)});return}this.processOptions(e[d],D);return}g=D}else g=p;else return;let{module:C,dependencies:m,validate:x,supportedRowModels:R}=g;if(R){let D=this.gridOptions.rowModelType??"clientSide";if(!R.includes(D)){l.add(`${String(d)} is not supported with the '${D}' row model.`);return}}if(C){let D=Array.isArray(C)?C:[C],N=!0;if(D.forEach(re=>{this.gos.assertModuleRegistered(re,String(d))||(N=!1,l.add(`${String(d)} is only available when ${re} is loaded.`))}),!N)return}if(m){let D=this.checkForRequiredDependencies(d,m,e);if(D){l.add(D);return}}if(x){let D=x(e,this.gridOptions);if(D){l.add(D);return}}}),l.size>0&&l.forEach(d=>{A(d)})}checkForRequiredDependencies(e,t,i){let o=Object.entries(t).find(([a,l])=>{let c=i[a];return!l.includes(c)});if(!o)return null;let[r,s]=o;return s.length>1?`'${String(e)}' requires '${r}' to be one of [${s.join(", ")}].`:`'${String(e)}' requires '${r}' to be ${s[0]}.`}checkProperties(e,t,i,n,o){let r=["__ob__","__v_skip","__metadata__"],s=lR(Object.getOwnPropertyNames(e),[...r,...t,...i],i);if(pi(s,(a,l)=>{let c=`invalid ${n} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(c+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),A(c)}),Object.keys(s).length>0&&o){let a=this.getFrameworkOverrides().getDocLink(o);A(`to see all the valid ${n} properties please check: ${a}`)}}},dk={version:pe,moduleName:"@ag-grid-community/core"},uk={version:pe,moduleName:"@ag-grid-community/core-validations",beans:[ck]},ib={version:pe,moduleName:"@ag-grid-community/core-community-features",dependantModules:[dk,uk,SI,qD,kT,oF,pM,ZT,ET]},hk=class extends T{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},Vl=new Set(["gridPreDestroyed","fillStart","pasteStart"]),pk=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",gk=new Map([...Qs.BOOLEAN_PROPERTIES.map(e=>[e,gh]),...Qs.NUMBER_PROPERTIES.map(e=>[e,x0]),["groupAggFiltering",e=>typeof e=="function"?e:gh(e)],["pageSize",Yi(1)],["autoSizePadding",Yi(0)],["keepDetailRowsCount",Yi(1)],["rowBuffer",Yi(0)],["infiniteInitialRowCount",Yi(1)],["cacheOverflowSize",Yi(1)],["cacheBlockSize",Yi(1)],["serverSideInitialRowCount",Yi(1)],["viewportRowModelPageSize",Yi(1)],["viewportRowModelBufferSize",Yi(0)]]);function nb(e,t){let i=gk.get(e);return i?i(t):t}function mk(e){let t={};return Object.entries(e).forEach(([i,n])=>{let o=nb(i,n);t[i]=o}),t}var fk=(()=>{let e=class ob extends T{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Cr,this.globalEventHandlerFactory=i=>(n,o)=>{if(!this.isAlive())return;let r=Vl.has(n);if(r&&!i||!r&&i)return;let s=Zs.getCallbackForEvent(n),a=this.gridOptions[s];typeof a=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{a(o)})}}wireBeans(i){this.gridOptions=i.gridOptions,this.eGridDiv=i.eGridDiv,this.validationService=i.validationService,this.environment=i.environment,this.api=i.gridApi,this.gridId=i.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){let i=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),i),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:n})=>{this.updateGridOptions({options:n,force:!0,source:"gridOptionsUpdated"})}})}get(i){return this.gridOptions[i]??sk[i]}getCallback(i){return this.mergeGridCommonParams(this.gridOptions[i])}exists(i){return B(this.gridOptions[i])}mergeGridCommonParams(i){return i&&(o=>{let r=o;return r.api=this.api,r.context=this.gridOptionsContext,i(r)})}updateGridOptions({options:i,force:n,source:o="api"}){let r={id:ob.changeSetId++,properties:[]},s=[];Object.entries(i).forEach(([a,l])=>{o==="api"&&hE[a]&&A(`${a} is an initial property and cannot be updated.`);let c=nb(a,l),d=n||typeof c=="object"&&o==="api",u=this.gridOptions[a];if(d||u!==c){this.gridOptions[a]=c;let h={type:a,currentValue:c,previousValue:u,changeSet:r,source:o};s.push(h)}}),this.validationService?.processGridOptions(this.gridOptions),r.properties=s.map(a=>a.type),s.forEach(a=>{this.gridOptions.debug&&gi(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(i,n){this.propertyEventService.addEventListener(i,n)}removePropertyEventListener(i,n){this.propertyEventService.removeEventListener(i,n)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(i){let n=i;return n.api=this.api,n.context=this.gridOptionsContext,n}assertModuleRegistered(i,n){return un.__assertRegistered(i,n,this.gridId)}isModuleRegistered(i){return un.__isRegistered(i,this.gridId)}};return e.changeSetId=0,e})(),vk=fk,Ck=class extends T{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,n;if(tt(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,i=this.visibleColsService[n](e.column)),!i)return;let{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){let a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-o]}let{column:r,headerRowIndex:s}=this.getHeaderIndexToFocus(i,o);return{column:r,headerRowIndex:s}}getHeaderIndexToFocus(e,t){let i;if(tt(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){let n=e;i=n.getLeafColumns()[0];let o=i;for(;o!==n;)t++,o=o.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){let i=this.getHeaderRowType(t),n=i==="filter",o=i==="column",r=n?e:e.getParent(),s=t-1,a=s;if(o&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;r&&r.isPadding();)r=r.getParent(),s--;a=s,s<0&&(r=e,s=t,a=void 0)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,i="After"){let n=this.getHeaderRowType(t),o=e,r=t+1,s=r;if(n==="group"){let a=e.getDisplayedLeafColumns(),l=i==="After"?a[0]:De(a),c=[],d=l;for(;d.getParent()!==e;)d=d.getParent(),c.push(d);if(o=l,l.isSpanHeaderHeight())for(let u=c.length-1;u>=0;u--){let h=c[u];if(!h.isPadding()){o=h;break}r++}else o=De(c),o||(o=l)}return{column:o,headerRowIndex:r,headerRowIndexWithoutSpan:s}}getHeaderRowType(e){let t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){let i=this.visibleColsService.getAllCols(),n=i[t==="start"?0:i.length-1];if(!n)return;let r=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned())?.getRowType(e);if(r=="group"){let s=this.visibleColsService.getColGroupAtLevel(n,e);return{headerRowIndex:e,column:s}}return{headerRowIndex:r==null?-1:e,column:n}}},bk=class extends T{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){let e=this.gos.getCallback("getLocaleText");if(e)return(i,n,o)=>e({key:i,defaultValue:n,variableValues:o});let t=this.gos.get("localeText");return(i,n,o)=>{let r=t&&t[i];if(r&&o&&o.length){let s=0;for(;!(s>=o.length||r.indexOf("${variable}")===-1);)r=r.replace("${variable}",o[s++])}return r??n}}},wk=class extends T{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new Hh(this.getFrameworkOverrides())}addEventListener(e,t){let i=this.frameworkEventWrappingService.wrap(t),n=Bl(this.gos)&&!Vl.has(e),o=n?this.asyncEventListeners:this.syncEventListeners;o.has(e)||o.set(e,new Set),o.get(e).add(i),this.eventService.addEventListener(e,i,n)}removeEventListener(e,t){let i=this.frameworkEventWrappingService.unwrap(t),o=!!this.asyncEventListeners.get(e)?.delete(i);o||this.syncEventListeners.get(e)?.delete(i),this.eventService.removeEventListener(e,i,o)}addGlobalListener(e){let t=this.frameworkEventWrappingService.wrapGlobal(e);if(Bl(this.gos)){let n=(r,s)=>{Vl.has(r)&&t(r,s)},o=(r,s)=>{Vl.has(r)||t(r,s)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:o}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(o,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){let t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){let{syncListener:n,asyncListener:o}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(o,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,n)=>{i.forEach(o=>this.eventService.removeEventListener(n,o,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},yk=class extends T{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},Sk=class extends T{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Fe(this.topRowBounds)||Fe(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){let e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=B(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},_k=class extends T{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Ot(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){let e=it(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),zC(t,"polite"),vE(t,"additions text"),fE(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(xt(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},xk=class extends T{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}let i=n=>{for(;n.length;){let o=n.pop();o&&o()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),i(this.executeLaterFuncs)},200)})}},Ek=class extends T{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},Rk=class extends T{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=Xe(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){A("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){let n=e.newAgStackInstance();this.overlayWrapperComp?.showOverlay(n,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;this.state===2?e=this.ctrlsService.get("gridHeaderCtrl")?.getHeaderHeight()||0:this.wrapperPadding!==0&&(e=0),this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},Dk=class extends T{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){let t=[];return B(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),qv(t,this.processClassesFromGridOptions(e.rowNode)),qv(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){let t=[],i=r=>{typeof r=="string"?t.push(r):Array.isArray(r)&&r.forEach(s=>t.push(s))},n=this.gos.get("rowClass");if(n){if(typeof n=="function")return A("rowClass should not be a function, please use getRowClass instead"),[];i(n)}let o=this.gos.getCallback("getRowClass");if(o){let r={data:e.data,node:e,rowIndex:e.rowIndex},s=o(r);i(s)}return t}preProcessRowClassRules(e){let t=[];return this.processRowClassRules(e,i=>{t.push(i)},()=>{}),t}processRowClassRules(e,t,i){let n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},Ik=class extends T{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=IE(),this.gos.get("debug")&&gi("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;let t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&gi(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},Mk=class extends T{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Qi(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Qi(this.gos))}doFullSort(e,t){let i=(o,r)=>({currentPos:r,rowNode:o}),n=e.map(i);return n.sort(this.compareRowNodes.bind(this,t)),n.map(o=>o.rowNode)}compareRowNodes(e,t,i){let n=t.rowNode,o=i.rowNode;for(let r=0,s=e.length;r<s;r++){let a=e[r],l=a.sort==="desc",c=this.getValue(n,a.column),d=this.getValue(o,a.column),u,h=this.getComparator(a,n);if(h?u=h(c,d,n,o,l):u=Ex(c,d,this.isAccentedSort),!isNaN(u)&&u!==0)return a.sort==="asc"?u:u*-1}return t.currentPos-i.currentPos}getComparator(e,t){let i=e.column,n=i.getColDef().comparator;if(n!=null)return n;if(!i.getColDef().showRowGroup)return;let o=!t.group&&i.getColDef().field;if(!o)return;let r=this.columnModel.getColDefCol(o);if(r)return r.getColDef().comparator}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(ec(this.gos,this.columnModel.isPivotActive())){let r=e.allLeafChildren?.[0];return r?this.valueService.getValue(t,r,!1,!1):void 0}let o=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());return o?e.groupData?.[o.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},sc=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){let o=e.childrenAfterGroup[n];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){let n={rowNode:t,children:null};this.mapToItems[t.id]=n,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){let o=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(o),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let i=this.nodeIdsToColumns[e.id];return t.filter(o=>i[o.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let i=this.nodeIdsToColumns[e.id];return t.filter(o=>!i[o.getId()])}},rb=class extends T{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new TI,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){let{gos:e,rowModel:t,onRowSelected:i}=this;this.selectionCtx.init(t),this.rowSelectionMode=Gl(e),this.groupSelectsChildren=wo(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{let n=wo(e),o=Gl(e);(n!==this.groupSelectsChildren||o!==this.rowSelectionMode)&&(this.groupSelectsChildren=n,this.rowSelectionMode=o,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!pk(t))return e;let i=this.selectionCtx.getRoot();return i?i.isSelected()??!1:!0}setNodesSelected(e){let{newValue:t,clearSelection:i,suppressFinishActions:n,rangeSelect:o,nodes:r,event:s,source:a}=e;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return A("cannot multi select unless selection mode is 'multiRow'"),0;let l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,c=r.map(u=>u.footer?u.sibling:u);if(o){if(c.length>1)return A("cannot range select while selecting multiple rows"),0;let u=c[0],h=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(u)){let p=this.selectionCtx.truncate(u);return h&&this.selectRange(p.discard,!1,a),this.selectRange(p.keep,h,a)}else if(this.selectionCtx.getRoot()!==u){let C=this.selectionCtx.extend(u,this.groupSelectsChildren);return h&&this.selectRange(C.discard,!1,a),this.selectRange(C.keep,h,a)}}}n||this.selectionCtx.setRoot(c[0]);let d=0;for(let u=0;u<c.length;u++){let h=c[u];l&&h.group||h.selectThisNode(t,s,a)&&d++,this.groupSelectsChildren&&h.childrenAfterGroup?.length&&(d+=this.selectChildren(h,t,l,a))}return n||(t&&(i||!this.isMultiSelect())&&(d+=this.clearOtherNodes(c[0],a)),d>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),d}selectRange(e,t,i){let n=0;return e.forEach(o=>{if(o.group&&this.groupSelectsChildren)return;o.selectThisNode(t,void 0,i)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),n}selectChildren(e,t,i,n){let o=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return Fe(o)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:o})}getSelectedNodes(){let e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((i,n)=>{i&&e(i)&&t.set(n,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!Xe(this.gos))return!1;let n=this.rowModel.getRootNode();t||(t=new sc(!0,n),t.setInactive());let o=!1;return t.forEachChangedNodeDepthFirst(r=>{if(r!==n){let s=r.calculateSelectedFromChildren();o=r.selectThisNode(s===null?!1:s,void 0,e)||o}}),o}clearOtherNodes(e,t){let i=new Map,n=0;return this.selectedNodes.forEach(o=>{if(o&&o.id!==e.id){let r=this.selectedNodes.get(o.id);n+=r.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&o.parent&&i.set(o.parent.id,o.parent)}}),i.forEach(o=>{let r=o.calculateSelectedFromChildren();o.selectThisNode(r===null?!1:r,void 0,t)}),n}onRowSelected(e){let t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(B(t)&&e.id!==t.id&&t){let n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(!Xe(this.gos))return;let t=this.rowModel.getTopLevelNodes();if(t===null)return;let i=[];function n(o){for(let r=0,s=o.length;r<s;r++){let a=o[r];if(a.isSelected())i.push(a);else{let l=a;l.group&&l.children&&n(l.children)}}}return n(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){let t=s=>s.selectThisNode(!1,void 0,n),i=Xe(this.gos),{source:n,justFiltered:o,justCurrentPage:r}=e;if(r||o){if(!i){Oe("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(o,r).forEach(t)}else this.selectedNodes.forEach(s=>{s&&t(s)}),this.reset(n);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let i=0,n=0,o=r=>{this.groupSelectsChildren&&r.group||(r.isSelected()?i++:r.selectable&&n++)};return this.getNodesToSelect(e,t).forEach(o),{selectedCount:i,notSelectedCount:n}}getSelectAllState(e,t){let{selectedCount:i,notSelectedCount:n}=this.getSelectedCounts(e,t);return i===0&&n===0?!1:i>0&&n>0?null:i>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();let i=[];if(t)return this.forEachNodeOnPage(o=>{if(!o.group){i.push(o);return}if(!o.expanded){let r=s=>{i.push(s),s.childrenAfterFilter?.length&&s.childrenAfterFilter.forEach(r)};r(o);return}this.groupSelectsChildren||i.push(o)}),i;let n=this.rowModel;return e?(n.forEachNodeAfterFilter(o=>{i.push(o)}),i):(n.forEachNode(o=>{i.push(o)}),i)}forEachNodeOnPage(e){let t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let n=t;n<=i;n++){let o=this.rowModel.getRow(n);o&&e(o)}}selectAllRowNodes(e){if(Mx(this.gos)&&!Lh(this.gos))return A("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();let{source:t,justFiltered:i,justCurrentPage:n}=e,o=this.getNodesToSelect(i,n);o.forEach(r=>r.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(o[0]??null),this.selectionCtx.setEndRange(De(o)??null),Xe(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){let e=[];return this.selectedNodes.forEach(t=>{t?.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return Oe("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");let i=new Set(e),n=[];this.rowModel.forEachNode(o=>{i.has(o.id)&&n.push(o)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!Xe(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},Fk=class extends T{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){let{gos:t}=this,i=Hl(t),n=Oh(t);if(!i||!n)return;let o=wo(t),r=Xe(t)&&o,s=[],a=l=>{if(e&&!l.group)return;if(r&&l.group){let d=l.childrenAfterGroup.some(u=>u.selectable===!0);l.setRowSelectable(d,!0);return}let c=n?.(l)??!0;l.setRowSelectable(c,!0),!c&&l.isSelected()&&s.push(l)};if(r){let l=this.rowModel;new sc(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof rb&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},mC=["asc","desc",null],Tk=class extends T{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){let n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}setSortForColumn(e,t,i,n){t!=="asc"&&t!=="desc"&&(t=null);let o=Qi(this.gos),r=[e];if(o&&e.getColDef().showRowGroup){let c=this.funcColsService.getSourceColumnsForGroupColumn(e)?.filter(d=>d.isSortable());c&&(r=[e,...c])}r.forEach(l=>l.setSort(t,n));let s=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!s){let l=this.clearSortBarTheseColumns(r,n);a.push(...l)}this.updateSortIndex(e),a.push(...r),this.dispatchSortChangedEvents(n,a)}updateSortIndex(e){let t=Qi(this.gos),i=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),n=t&&i||e,o=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(a=>a.setSortIndex(null));let r=o.filter(a=>t&&a.getColDef().showRowGroup?!1:a!==n);(n.getSort()?[...r,n]:r).forEach((a,l)=>{a.setSortIndex(l)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let t=this.columnModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){let i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){let i=[];return this.columnModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&i.push(n),n.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=mC,!Array.isArray(t)||t.length<=0)return A(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;let i=t.indexOf(e.getSort()),n=i<0,o=i==t.length-1,r;return n||o?r=t[0]:r=t[i+1],mC.indexOf(r)<0?(A("invalid sort type ",r),null):r}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(r=>!!r.getSort());if(this.columnModel.isPivotMode()){let r=Qi(this.gos);e=e.filter(s=>{let a=!!s.getAggFunc(),l=!s.isPrimary(),c=r?this.showRowGroupColsService?.getShowRowGroupCol(s.getId()):s.getColDef().showRowGroup;return a||l||c})}let t=this.funcColsService.getRowGroupColumns().filter(r=>!!r.getSort()),i={};e.forEach((r,s)=>i[r.getId()]=s),e.sort((r,s)=>{let a=r.getSortIndex(),l=s.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){let c=i[r.getId()],d=i[s.getId()];return c>d?1:-1}else return l==null?-1:1});let n=Qi(this.gos)&&!!t.length;n&&(e=[...new Set(e.map(r=>this.showRowGroupColsService?.getShowRowGroupCol(r.getId())??r))]);let o=new Map;return e.forEach((r,s)=>o.set(r,s)),n&&t.forEach(r=>{let s=this.showRowGroupColsService.getShowRowGroupCol(r.getId());o.set(r,o.get(s))}),o}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=Qi(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){let t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,o=n[0].getSort();return n.every(s=>s.getSort()==o)?o:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},kk=class extends T{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});let e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&gi(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,uo(e.source))}}},Pk="paste",Ak=class extends T{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){Xe(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==Pk&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;let i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){let n=this.gos.get("aggregateOnlyChangedColumns"),o=new sc(n,this.clientSideRowModel.getRootNode());o.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(r=>{i.push(r)})}this.rowRenderer.refreshCells({rowNodes:i})}},Ok=class extends T{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Oe("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return gi("Processing of the expression failed"),gi("Expression = ",e),gi("Params = ",t),gi("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];let t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Lk=class extends T{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Nk=class extends T{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=fn(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=i=>this.callColumnCellValueChangedHandler(i),t=Bl(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(e,t){let i=t.leafGroup&&this.columnModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!i,o=this.gos.get("groupSuppressBlankHeader");if(!n||o)return this.getValue(e,t);let r=!1,s=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof s!="function"?r=!!s:r=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});let a=n&&r;return this.getValue(e,t,!1,a)}getValue(e,t,i=!1,n=!1){if(this.initialised||this.init(),!t)return;let o=e.getColDef(),r=o.field,s=e.getColId(),a=t.data,l,c=t.groupData&&t.groupData[s]!==void 0,d=!n&&t.aggData&&t.aggData[s]!==void 0,u=this.isSsrm&&n&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(i&&o.filterValueGetter?l=this.executeFilterValueGetter(o.filterValueGetter,a,e,t):this.isTreeData&&d?l=t.aggData[s]:this.isTreeData&&o.valueGetter?l=this.executeValueGetter(o.valueGetter,a,e,t):this.isTreeData&&r&&a?l=Gs(a,r,e.isFieldContainsDots()):c?l=t.groupData[s]:d?l=t.aggData[s]:o.valueGetter?l=this.executeValueGetter(o.valueGetter,a,e,t):h?l=Gs(a,t.field,e.isFieldContainsDots()):r&&a&&!u&&(l=Gs(a,r,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){let p=l.substring(1);l=this.executeValueGetter(p,a,e,t)}if(l==null){let p=this.getOpenedGroup(t,e);if(p!=null)return p}return l}parseValue(e,t,i,n){let o=e.getColDef(),r=o.valueParser;if(B(r)){let s=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:n,newValue:i,colDef:o,column:e});return typeof r=="function"?r(s):this.expressionService.evaluate(r,s)}return i}getDeleteValue(e,t){return B(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,n,o=!0){let r=null,s,a=e.getColDef();if(n?s=n:o&&(s=a.valueFormatter),s){let l=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:a,column:e});typeof s=="function"?r=s(l):r=this.expressionService.evaluate(s,l)}else if(a.refData)return a.refData[i]||"";return r==null&&Array.isArray(i)&&(r=i.join(", ")),r}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;let n=t.getColDef().showRowGroup,o=e.parent;for(;o!=null;){if(o.rowGroupColumn&&(n===!0||n===o.rowGroupColumn.getColId()))return o.key;o=o.parent}}setValue(e,t,i,n){let o=this.columnModel.getColDefCol(t);if(!e||!o)return!1;Fe(e.data)&&(e.data={});let{field:r,valueSetter:s}=o.getColDef();if(Fe(r)&&Fe(s))return A("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(o,i))return A("Data type of the new value does not match the cell data type of the column"),!1;let a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(o,e),newValue:i,colDef:o.getColDef(),column:o});a.newValue=i;let l;if(B(s)?typeof s=="function"?l=s(a):l=this.expressionService.evaluate(s,a):l=this.setValueUsingField(e.data,r,i,o.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();let c=this.getValue(o,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:n}),!0}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,n){if(!t)return!1;let o=!1;if(!n)o=e[t]===i,o||(e[t]=i);else{let r=t.split("."),s=e;for(;r.length>0&&s;){let a=r.shift();r.length===0?(o=s[a]===i,o||(s[a]=i)):s=s[a]}}return!o}executeFilterValueGetter(e,t,i,n){let o=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(o):this.expressionService.evaluate(e,o)}executeValueGetter(e,t,i,n){let o=i.getColId(),r=this.valueCache.getValue(n,o);if(r!==void 0)return r;let s=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)}),a;return typeof e=="function"?a=e(s):a=this.expressionService.evaluate(e,s),this.valueCache.setValue(n,o,a),a}getValueCallback(e,t){let i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){let i=this.getValue(e,t),n=e.getColDef().keyCreator,o=i;if(n){let r=this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});o=n(r)}return typeof o=="string"||o==null||(o=String(o),o==="[object Object]"&&A("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),o}},Vk=(()=>{let e=class co{static applyGlobalGridOptions(i){if(!co.gridOptions)return i;let n={};return At(n,co.gridOptions,!0,!0),co.mergeStrategy==="deep"?At(n,i,!0,!0):n=E(E({},n),i),co.gridOptions.context&&(n.context=co.gridOptions.context),i.context&&(co.mergeStrategy==="deep"&&n.context&&At(i.context,n.context,!0,!0),n.context=i.context),n}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e})(),Hk=Vk;function sb(e,t,i){if(!t)return Oe("No gridOptions provided to createGrid"),{};let n=new zk().create(e,t,o=>{let r=new uM(e);o.createBean(r)},void 0,i);if(!Object.isFrozen(t)&&!i?.frameworkOverrides){let o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{Oe(`gridOptions.api is no longer supported. See ${o}.`)},configurable:!0})}return n}var Bk=1,zk=class{create(e,t,i,n,o){let r=Hk.applyGlobalGridOptions(t),s=mk(r),a=s.gridId??String(Bk++),l=this.getRegisteredModules(o,a),c=this.createBeansList(s.rowModelType,l,a),d=this.createProvidedBeans(e,s,o);if(!c){Oe("Failed to create grid.");return}let u={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:ZI,beanDestroyComparator:XI,derivedBeans:[GI]},h=new TR(u);return this.registerModuleUserComponents(h,l),this.registerControllers(h,l),this.registerModuleApiFunctions(h,l),i(h),h.getBean("syncService").start(),n&&n(h),h.getBean("gridApi")}registerControllers(e,t){let i=e.getBean("ctrlsFactory");t.forEach(n=>{n.controllers&&n.controllers.forEach(o=>i.register(o))})}getRegisteredModules(e,t){let i=e?e.modules:null,n=un.__getRegisteredModules(t),o=[],r={},s=(a,l,c)=>{(u=>{r[u.moduleName]||(r[u.moduleName]=!0,o.push(u),un.__register(u,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(u=>s(a,u,c))};return s(!!i?.length||!un.__isPackageBased(),ib,void 0),i&&i.forEach(a=>s(!0,a,t)),n&&n.forEach(a=>s(!un.__isPackageBased(),a,void 0)),o}registerModuleUserComponents(e,t){let i=this.extractModuleEntity(t,o=>o.userComponents?o.userComponents:[]),n=e.getBean("userComponentRegistry");i.forEach(({name:o,classImp:r,params:s})=>{n.registerDefaultComponent(o,r,s)})}registerModuleApiFunctions(e,t){let i=e.getBean("apiFunctionService");t.forEach(n=>{let o=n.apiFunctions;o&&Object.keys(o).forEach(s=>{i?.addFunction(s,o[s])})})}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;Fe(n)&&(n=new hp);let o={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(o,i.providedBeanInstances),o}createBeansList(e="clientSide",t,i){let n=t.filter(l=>!l.rowModel||l.rowModel===e),o={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!o[e]){Oe("Could not find row model for rowModelType = ",e);return}if(!un.__assertRegistered(o[e],`rowModelType = '${e}'`,i))return;let r=[nM,tM,Ck,hk,zI,dR,qI,YI,L2,l0,Ik,A2,bk,DI,OR,cE,sM,vk,NI,rb,Qx,JD,Sk,yk,EI,Ok,Yx,P2,Lk,Nk,_I,O2,kR,lM,k2,oM,HI,kI,T2,Tk,Ek,xk,Fk,Ak,N2,WI,Dk,Mk,eM,cM,iM,JI,kk,Rk,V2,wk,_k,H2,eE,jI,tE,Xx,UI,$I,lE,Jx,sE,KI,aE,jx],s=this.extractModuleEntity(n,l=>l.beans?l.beans:[]);r.push(...s);let a=[];return r.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},ab=class extends T{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){let e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function Gk(e){e.expansionService.expandAll(!0)}function Wk(e){e.expansionService.expandAll(!1)}function jk(e){let t=e.rowModelHelperService?.getClientSideRowModel(),i=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}function Uk(e,t,i){let n=e.rowModelHelperService?.getServerSideRowModel();if(n){if(e.funcColsService.isRowGroupEmpty()){n.setRowCount(t,i);return}Oe("setRowCount cannot be used while using row grouping.");return}let o=e.rowModelHelperService?.getInfiniteRowModel();if(o){o.setRowCount(t,i);return}}function $k(e){return e.rowNodeBlockLoader?.getBlockState()??{}}function Kk(e){return e.rowModel.isLastRowIndexKnown()}var qk={version:pe,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:Gk,collapseAll:Wk,onRowHeightChanged:jk}},Yk={version:pe,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:Uk,getCacheBlockState:$k,isLastRowIndexKnown:Kk}},lb=class{wrap(e,t,i=[],n){let o=this.createWrapper(e,n);return t.forEach(r=>{this.createMethod(o,r,!0)}),i.forEach(r=>{this.createMethod(o,r,!1)}),o}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&A("Framework component is missing the method "+t+"()"),null)}}};var Sr=typeof global>"u"?{}:global;Sr.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Sr.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Sr.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Sr.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Sr.Node=typeof Node>"u"?{}:Node;Sr.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Qk="ROOT_NODE_ID",uh=0,Zk=class{constructor(e,t,i,n,o,r){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=n,this.beans=r,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=Qk,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return TC(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){A("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);let t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((n,o)=>this.createNode(n,this.rootNode,uh,o)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);let t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(e,t,i),this.executeUpdate(e,t,i),this.executeAdd(e,t),this.updateSelection(i,"rowDataChanged"),t}updateRowOrderFromRowData(e){let t=this.rootNode.allLeafChildren,i=t?.length??0,n=new Map,o=-1,r=-1;for(let s=0;s<i;++s){let a=t[s],l=a.data;l!==e[s]&&(r<0&&(o=s),r=s,n.set(l,a))}if(o<0)return!1;for(let s=o;s<=r;++s){let a=n.get(e[s]);a!==void 0&&(t[s]=a,a.sourceRowIndex=s)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,t){let i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){let i=e.add;if(jt(i))return;let n=this.rootNode.allLeafChildren,o=n.length;if(typeof e.addIndex=="number"&&(o=this.sanitizeAddIndex(e.addIndex),o>0&&this.gos.get("treeData"))){for(let l=0;l<n.length;l++)if(n[l]?.rowIndex==o-1){o=l+1;break}}let r=i.map((a,l)=>this.createNode(a,this.rootNode,uh,o+l));if(o<n.length){let a=n.slice(0,o),l=n.slice(o,n.length),c=a.length+r.length;for(let d=0,u=l.length;d<u;++d)l[d].sourceRowIndex=c+d;this.rootNode.allLeafChildren=[...a,...r,...l],t.rowsInserted=!0}else this.rootNode.allLeafChildren=n.concat(r);let s=this.rootNode.sibling;s&&(s.allLeafChildren=n),t.rowNodeTransaction.add=r}sanitizeAddIndex(e){let t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},i){let{remove:n}=e;if(jt(n))return;let o={};n.forEach(s=>{let a=this.lookupRowNode(s);a&&(a.isSelected()&&i.push(a),a.clearRowTopAndRowIndex(),o[a.id]=!0,delete this.allNodesMap[a.id],t.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter(s=>!o[s.id])??null,this.rootNode.allLeafChildren?.forEach((s,a)=>{s.sourceRowIndex=a});let r=this.rootNode.sibling;r&&(r.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},i){let{update:n}=e;jt(n)||n.forEach(o=>{let r=this.lookupRowNode(o);r&&(r.updateData(o),!r.selectable&&r.isSelected()&&i.push(r),this.setMasterForRow(r,o,uh,!1),t.update.push(r))})}lookupRowNode(e){let t=br(this.gos),i;if(t){let n=t({data:e,level:0});if(i=this.allNodesMap[n],!i)return Oe(`could not find row id=${n}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren?.find(n=>n.data===e),!i)return Oe("could not find data item as object was not found",e),Oe("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i,n){let o=new gn(this.beans);return o.sourceRowIndex=n,o.group=!1,this.setMasterForRow(o,e,i,!0),t&&(o.parent=t),o.level=i,o.setDataAndId(e,this.nextId.toString()),this.allNodesMap[o.id]&&A(`duplicate node id '${o.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[o.id]=o,this.nextId++,o}setMasterForRow(e,t,i,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){let s=this.gos.get("isRowMaster");s?e.setMaster(s(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){let s=this.funcColsService.getRowGroupColumns(),a=s?s.length:0,l=i+a;e.expanded=e.master?this.isExpanded(l):!1}}}isExpanded(e){let t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},Xk=class extends T{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Ot(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){let e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new gn(this.beans),this.nodeManager=new Zk(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){let e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),o=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),r=new Set(["postSortRows","groupDisplayType","accentedSort"]),s=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...i,...n,...n,...o,...r,...s,...a];this.addManagedPropertyListeners(l,c=>{let d=c.changeSet?.properties;if(!d)return;let u=h=>d.some(p=>h.has(p));if(u(e)){this.setRowData(this.rootNode.allLeafChildren.map(h=>h.data));return}if(u(t)){this.refreshModel({step:"group"});return}if(u(i)){this.refreshModel({step:"filter"});return}if(u(n)){this.refreshModel({step:"pivot"});return}if(u(o)){this.refreshModel({step:"aggregate"});return}if(u(r)){this.refreshModel({step:"sort"});return}if(u(s)){this.refreshModel({step:"filter_aggregates"});return}u(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){let e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,n){let o,r=!1;do{o=!1;let s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,i),c=Math.min(a,n);for(let d=l;d<=c;d++){let u=this.getRow(d);if(u.rowHeightEstimated){let h=Gn(this.gos,u);u.setRowHeight(h.height),o=!0,r=!0}}o&&this.setRowTopAndRowIndex()}while(o);return r}setRowTopAndRowIndex(){let e=this.environment.getDefaultRowHeight(),t=0,i=new Set,n=wt(this.gos,"normal");for(let o=0;o<this.rowsToDisplay.length;o++){let r=this.rowsToDisplay[o];if(r.id!=null&&i.add(r.id),r.rowHeight==null){let s=Gn(this.gos,r,n,e);r.setRowHeight(s.height,s.estimated)}r.setRowTop(t),r.setRowIndex(o),t+=r.rowHeight}return i}clearRowTopAndRowIndex(e,t){let i=e.isActive(),n=r=>{r&&r.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},o=r=>{if(n(r),n(r.detailNode),n(r.sibling),r.hasChildren()&&r.childrenAfterGroup){let s=r.level==-1;i&&!s&&!r.expanded||r.childrenAfterGroup.forEach(o)}};o(this.rootNode)}ensureRowsAtPixel(e,t,i=0){let n=this.getRowIndexAtPixel(t),o=this.getRow(n),r=!this.gos.get("suppressAnimationFrame");if(o===e[0])return!1;let s=this.rootNode.allLeafChildren;return e.forEach(a=>{Lt(s,a)}),e.forEach((a,l)=>{Wl(s,a,Math.max(n+i,0)+l)}),e.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:r,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){let i=t!=null?this.getRowIndexAtPixel(t):null,n=i!=null?this.getRow(i):null;if(!n||!e||n===e||t==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}let o=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(o),this.lastHighlightedRow=n}getHighlightPosition(e,t){if(!t){let o=this.getRowIndexAtPixel(e);if(t=this.getRow(o||0),!t)return 1}let{rowTop:i,rowHeight:n}=t;return e-i<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;let t=this.rootNode.childrenAfterAggFilter,i=this.rootNode.sibling?1:0;return(t?t.length:0)+i}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;i-=1}let n=this.rowsToDisplay[this.rowsToDisplay.length-1],o=i>=this.rootNode.childrenAfterSort.length;if(n.footer&&o)return n.rowIndex;let r=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex}getRowBounds(e){if(Fe(this.rowsToDisplay))return null;let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){let e=dr(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let t=dr(this.gos),n=e.columns.length===0||e.columns.some(o=>o.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){let e=dr(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){let t=jt(e),i=new sc(!1,this.rootNode);return t&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;let t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group",i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(B(e)&&(t=i[e]),Fe(t)){Oe(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`);return}let n=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;let t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;let i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,i,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}let n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){let e=Fe(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Fe(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return B(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,n=!1,o=[],r=wo(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(n)return;if(i&&(s===t||s===e)&&(n=!0,s.group&&r)){o.push(...s.allLeafChildren);return}if(!i){if(s!==t&&s!==e)return;i=!0}if(!s.group||!r){o.push(s);return}}),o}setDatasource(e){Oe("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(De(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let o=-1,r=-1;for(;;){let s=Math.floor((t+i)/2),a=this.rowsToDisplay[s];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=s+1:a.rowTop>e&&(i=s-1),o===t&&r===i))return s;o=t,r=i}}isRowInPixel(e,t){let i=e.rowTop,n=e.rowTop+e.rowHeight;return i<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){let{nodes:t,callback:i,recursionType:n,includeFooterNodes:o}=e,{index:r}=e,s=a=>{let l=t[0]?.parent;if(!l)return;let c=o&&SC(this.gos),d=_C(this.gos),u=o&&d({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),i(l.sibling,r++));return}u===a&&(l.createFooter(),i(l.sibling,r++))};s("top");for(let a=0;a<t.length;a++){let l=t[a];if(i(l,r++),l.hasChildren()&&!l.footer){let c=null;switch(n){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(r=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:i,recursionType:n,index:r,includeFooterNodes:o}))}}return s("bottom"),r}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){let t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),n=o=>{o&&o.forEach(r=>{let s=()=>{r.expanded=e,n(r.childrenAfterGroup)};if(t){B(r.childrenAfterGroup)&&s();return}if(i){!r.leafGroup&&s();return}r.group&&s()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,n){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:i,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:n}),wo(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{let o=this.rootNode,r=o.sibling;o.childrenAfterGroup=o.allLeafChildren,r&&(r.childrenAfterGroup=o.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(gn.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();let e=[],t=[],i=!1;this.rowDataTransactionBatch?.forEach(n=>{let{rowNodeTransaction:o,rowsInserted:r}=this.nodeManager.updateRowData(n.rowDataTransaction);r&&(i=!0),t.push(o),n.callback&&e.push(n.callback.bind(null,o))}),this.commonUpdateRowData(t,i),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();let{rowNodeTransaction:t,rowsInserted:i}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],i),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;let i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){let e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};function Jk(e){e.expansionService.onGroupExpandedOrCollapsed()}function eP(e,t){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(t)}function tP(e){return e.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??!0}function iP(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(t)}function nP(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(t)}function oP(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(t)}function rP(e){if(e.columnModel.isAutoRowHeightActive()){A("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()}function sP(e,t){return e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(t))}function aP(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(t,i))}function lP(e){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions())}function cP(e){return e.selectionService.getBestCostNodeSelection()}var dP=class extends T{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:t}=e;this.filter(t)}filter(e){let t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){let i=(n,o)=>{n.hasChildren()&&e&&!o?n.childrenAfterFilter=n.childrenAfterGroup.filter(r=>{let s=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,a=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return s||a}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){let n=(r,s)=>{if(r.childrenAfterGroup)for(let a=0;a<r.childrenAfterGroup.length;a++){let l=r.childrenAfterGroup[a],c=s||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?n(r.childrenAfterGroup[a],c):i(l,c)}i(r,s)},o=r=>n(r,!1);t.executeFromRootNode(o)}else{let n=o=>i(o,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},uP=class extends T{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){let t=e.rowNode,i=[],n=this.columnModel.isPivotMode(),o=n&&t.leafGroup,r=o?[t]:t.childrenAfterSort,s=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(s,r,i,n,0);let a=i.length>0;if(!o&&a&&s.grandTotalRow){t.createFooter();let c=s.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(s,t.sibling,i,0,c)}return i}getFlattenDetails(){let e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:xC(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:SC(this.gos),groupTotalRow:_C(this.gos)}}recursivelyAddToRowsToDisplay(e,t,i,n,o){if(!jt(t))for(let r=0;r<t.length;r++){let s=t[r],a=s.hasChildren(),l=n&&!a,c=e.groupRemoveSingleChildren&&a&&s.childrenAfterGroup.length===1,d=e.groupRemoveLowestSingleChildren&&a&&s.leafGroup&&s.childrenAfterGroup.length===1,u=n&&s.leafGroup,h=e.hideOpenParents&&s.expanded&&!s.master&&!u;if(!l&&!h&&!c&&!d&&this.addRowNodeToRowsToDisplay(e,s,i,o),!(n&&s.leafGroup)){if(a){let g=c||d;if(s.expanded||g){let C=e.groupTotalRow({node:s});C||s.destroyFooter();let m=g?o:o+1;C==="top"&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,i,m)),this.recursivelyAddToRowsToDisplay(e,s.childrenAfterSort,i,n,m),C==="bottom"&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,i,m))}}else if(s.master&&s.expanded){let g=this.createDetailNode(s);this.addRowNodeToRowsToDisplay(e,g,i,o)}}}}addRowNodeToRowsToDisplay(e,t,i,n,o){o?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(B(e.detailNode))return e.detailNode;let t=new gn(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,B(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},hP=class extends T{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){Xe(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){let e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){let t=this.createTransactionForRowData(e);if(!t)return;let i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:n,rowsInserted:o}=i.updateRowData(t),r=!1;this.gos.get("suppressMaintainUnsortedOrder")||(r=i.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(n,r||o)}createTransactionForRowData(e){if(!Xe(this.gos))return Oe("ImmutableService only works with ClientSideRowModel"),null;let t=br(this.gos);if(t==null)return Oe("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;let i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),n=[],o=[],r=[];return B(e)&&e.forEach(s=>{let a=t({data:s,level:0}),l=i[a];l?(l.data!==s&&o.push(s),i[a]=void 0):r.push(s)}),pi(i,(s,a)=>{a&&n.push(a.data)}),{remove:n,update:o,add:r}}onRowDataUpdated(){let e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},pP=class extends T{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,n,o,r){let s=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(h=>h.isRowGroupActive()),l={};i&&n&&(l=this.calculateDirtyNodes(n));let c=this.columnModel.isPivotMode(),d=this.gos.getCallback("postSortRows"),u=h=>{this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);let p=c&&h.leafGroup;if(s&&a&&!h.leafGroup&&!r){let m=this.funcColsService.getRowGroupColumns()?.[h.level+1]?.getSort()===null,x=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort&&!m){let R={};h.childrenAfterSort.forEach((D,N)=>{R[D.id]=N}),x.sort((D,N)=>(R[D.id]??0)-(R[N.id]??0))}h.childrenAfterSort=x}else!t||p?h.childrenAfterSort=h.childrenAfterAggFilter.slice(0):i?h.childrenAfterSort=this.doDeltaSort(h,l,o,e):h.childrenAfterSort=this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,e);if(h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),d){let C={nodes:h.childrenAfterSort};d(C)}};o&&o.forEachChangedNodeDepthFirst(u),this.updateGroupDataForHideOpenParents(o)}calculateDirtyNodes(e){let t={},i=n=>{n&&n.forEach(o=>t[o.id]=!0)};return e&&e.forEach(n=>{i(n.add),i(n.update),i(n.remove)}),t}doDeltaSort(e,t,i,n){let o=e.childrenAfterAggFilter,r=e.childrenAfterSort;if(!r)return this.rowNodeSorter.doFullSort(o,n);let s={},a=[];o.forEach(u=>{t[u.id]||!i.canSkip(u)?a.push(u):s[u.id]=!0});let l=r.filter(u=>s[u.id]),c=(u,h)=>({currentPos:h,rowNode:u}),d=a.map(c).sort((u,h)=>this.rowNodeSorter.compareRowNodes(n,u,h));return this.mergeSortedArrays(n,d,l.map(c)).map(({rowNode:u})=>u)}mergeSortedArrays(e,t,i){let n=[],o=0,r=0;for(;o<t.length&&r<i.length;)this.rowNodeSorter.compareRowNodes(e,t[o],i[r])<0?n.push(t[o++]):n.push(i[r++]);for(;o<t.length;)n.push(t[o++]);for(;r<i.length;)n.push(i[r++]);return n}updateChildIndexes(e){if(Fe(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let i=0;i<t.length;i++){let n=t[i],o=i===0,r=i===e.childrenAfterSort.length-1;n.setFirstChild(o),n.setLastChild(r),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return A("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;let t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Fe(e)||e.forEach(i=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach(o=>{let r=o.getColDef().showRowGroup;if(typeof r!="string"){Oe("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}let s=r,a=this.columnModel.getColDefCol(s);if(a!==i.rowGroupColumn)if(t)i.setGroupValue(o.getId(),void 0);else{let c=this.getFirstChildOfFirstChild(i,a);c&&i.setGroupValue(o.getId(),c.key)}})})}getFirstChildOfFirstChild(e,t){let i=e;for(;i;){let n=i.parent;if(n&&i.firstChild){if(n.rowGroupColumn===t)return n}else return null;i=n}return null}},gP=class extends T{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){let t=this.sortController.getSortOptions(),i=B(t)&&t.length>0,n=i&&B(e.rowNodeTransactions)&&this.gos.get("deltaSort"),o=t.some(r=>Qi(this.gos)?r.column.isPrimary()&&r.column.isRowGroupActive():!!r.column.getColDef().showRowGroup);this.sortService.sort(t,i,n,e.rowNodeTransactions,e.changedPath,o)}},pp="32.2.1",cb={version:pp,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[Xk,dP,gP,uP,pP,hP]},mP={version:pp,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[ab],apiFunctions:{onGroupExpandedOrCollapsed:Jk,refreshClientSideRowModel:eP,isRowDataEmpty:tP,forEachLeafNode:iP,forEachNodeAfterFilter:nP,forEachNodeAfterFilterAndSort:oP,resetRowHeights:rP,applyTransaction:sP,applyTransactionAsync:aP,flushAsyncTransactions:lP,getBestCostNodeSelection:cP},dependantModules:[cb,qk]},fP={version:pp,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[cb,mP]},vP=class extends T{setBeans(e){this.beans=e}getFileName(e){let t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},CP=class{constructor(e){this.groupColumns=[];let{columnModel:t,funcColsService:i,columnNameService:n,valueService:o,gos:r,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.columnModel=t,this.funcColsService=i,this.columnNameService=n,this.valueService=o,this.gos=r,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,n,o){let s=(!this.gos.get("groupHideOpenParents")||o.footer)&&this.shouldRenderGroupSummaryCell(o,e,t)?this.createValueForGroupNode(e,o):this.valueService.getValue(e,o);return this.processCell({accumulatedRowIndex:i,rowNode:o,column:e,value:s,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){if(e.groupData?.[t.getId()]!=null||fn(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){let s=t.getColDef();return s==null||s.showRowGroup===!0||s.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}let r=ec(this.gos,this.columnModel.isPivotMode());return i===0&&r}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));let i=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),o=l=>{if(i||n)return l.key;let c=l.groupData?.[e.getId()];return!c||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?c:this.valueService.formatValue(l.rowGroupColumn,l,c)??c},r=t.footer,s=[o(t)];if(!xC(this.gos))for(;t.parent;)t=t.parent,s.push(o(t));let a=s.reverse().join(" -> ");return r?`Total ${a}`:a}processCell(e){let{accumulatedRowIndex:t,rowNode:i,column:n,value:o,processCellCallback:r,type:s}=e;return r?{value:r(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:i,value:o,type:s,parseValue:a=>this.valueService.parseValue(n,i,a,this.valueService.getValue(n,i)),formatValue:a=>this.valueService.formatValue(n,i,a)??a}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:o??"",valueFormatted:this.valueService.formatValue(n,i,o)}:{value:o??""}}},bP=class{static download(e,t){let i=document.defaultView||window;if(!i){A("There is no `window` associated with the current `document`");return}let n=document.createElement("a"),o=i.URL.createObjectURL(t);n.setAttribute("href",o),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(o)},0)}},fC=`\r
`,wP=class extends CP{constructor(e){super(e),this.isFirstLine=!0,this.result="";let{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,fC),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){t!=0&&(this.result+=this.columnSeparator);let n=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(A("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=fC),this.isFirstLine=!1}},yP=class extends vP{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){let t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){A("Export cancelled. Export is not allowed as per your configuration.");return}let t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\uFEFF",i],{type:"text/plain"}),o=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;bP.download(this.getFileName(o),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{columnModel:t,columnNameService:i,funcColsService:n,valueService:o,gos:r}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:d,columnSeparator:u}=e;return new wP({columnModel:t,columnNameService:i,funcColsService:n,valueService:o,gos:r,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:d||!1,columnSeparator:u||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function SP(e,t){return e.csvCreator?.getDataAsCsv(t)}function _P(e,t){e.csvCreator?.exportDataAsCsv(t)}var xP=class extends T{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){let{allColumns:i,columnKeys:n,skipRowGroups:o}=t,r=this.getColumnsToExport(i,o,n);return xx(this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t))(e).parse()}processRow(e,t,i,n){let o=t.shouldRowBeSkipped||(()=>!1),r=this.gos.get("groupRemoveSingleChildren"),s=this.gos.get("groupRemoveLowestSingleChildren"),l=t.rowPositions!=null||!!t.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,d=this.columnModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer,h=s&&n.leafGroup,p=n.allChildrenCount===1&&n.childrenAfterGroup?.length===1&&(r||h);if(!d&&!u&&(t.skipRowGroups||p||c)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!d&&!u||o(this.gos.addGridCommonParams({node:n})))return;let m=e.onNewBodyRow(n);if(i.forEach((x,R)=>{m.onColumn(x,R,n)}),t.getCustomContentBelowRow){let x=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));x&&e.addCustomContent(x)}}appendContent(e){return t=>{let i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{let i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){let n=new OC,o=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(o,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){let n=i.onNewHeaderRow();t.forEach((o,r)=>{n.onColumn(o,r,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{let n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,r)=>o.rowIndex-r.rowIndex).map(o=>this.pinnedRowModel.getPinnedTopRow(o.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),i}}processRows(e,t){return i=>{let n=this.rowModel,o=Xe(this.gos),r=fn(this.gos),s=!o&&e.onlySelected,a=this.processRow.bind(this,i,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>n.getRow(c.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())o?n.forEachPivotNode(a,!0):r?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||s){let c=this.selectionService.getSelectedNodes();this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?n.forEachNode(a):o||r?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return i}}replicateSortedOrder(e){let t=this.sortController.getSortOptions(),i=(n,o)=>n.rowIndex!=null&&o.rowIndex!=null?n.rowIndex-o.rowIndex:n.level===o.level?n.parent?.id===o.parent?.id?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(n.parent,o.parent):n.level>o.level?i(n.parent,o):i(n,o.parent);e.sort(i)}processPinnedBottomRows(e,t){return i=>{let n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,r)=>o.rowIndex-r.rowIndex).map(o=>this.pinnedRowModel.getPinnedBottomRow(o.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),i}}getColumnsToExport(e=!1,t=!1,i){let n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);let o=this.gos.get("treeData"),r=[];return e&&!n?r=this.columnModel.getCols():r=this.visibleColsService.getAllCols(),t&&!o&&(r=r.filter(s=>Ch(s)||mr(s))),r}recursivelyAddHeaderGroups(e,t,i){let n=[];e.forEach(o=>{let r=o;r.getChildren&&r.getChildren().forEach(s=>n.push(s))}),e.length>0&&tt(e[0])&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){let n=e.onNewHeaderGroupingRow(),o=0;t.forEach(r=>{let s=r,a;i?a=i(this.gos.addGridCommonParams({columnGroup:s})):a=this.columnNameService.getDisplayNameForColumnGroup(s,"header");let l=s.getLeafColumns().reduce((c,d,u,h)=>{let p=De(c);return d.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[u],c.push(p)):p&&p[1]==null&&(p[1]=u-1),u===h.length-1&&p&&p[1]==null&&(p[1]=u),c},[]);n.onColumn(s,a||"",o++,s.getLeafColumns().length-1,l)})}},gp="32.2.1",db={version:gp,moduleName:"@ag-grid-community/csv-export-core",beans:[yP,xP]},EP={version:gp,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:SP,exportDataAsCsv:_P},dependantModules:[db]},RP={version:gp,moduleName:"@ag-grid-community/csv-export",dependantModules:[db,EP]};var x7=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);var DP=class extends II{wireBeans(e){this.beans=e}constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){B(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(Fe(this.params.datasource.getRows)){A("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((n,o)=>{this.startRow+o<i&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());let i=e-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){let t=this.startRow+e,i=new gn(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,n)=>{let o=e.rowData?e.rowData[n]:void 0;!i.id&&i.alreadyRendered&&o&&(this.rowNodes[n]=new gn(this.beans),this.rowNodes[n].setRowIndex(i.rowIndex),this.rowNodes[n].setRowTop(i.rowTop),this.rowNodes[n].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],o,this.startRow+n)});let t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},IP=2,MP=class extends T{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){let i=Math.floor(e/this.params.blockSize),n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){let t=this.createBean(new DP(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&gi(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(s=>s!=e),i=(s,a)=>a.getLastAccessed()-s.getLastAccessed();t.sort(i);let n=this.params.maxBlocksInCache>0,o=n?this.params.maxBlocksInCache-1:null,r=IP-1;t.forEach((s,a)=>{let l=s.getState()==="needsLoading"&&a>=r,c=n?a>=o:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){let t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let i=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){let t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,B(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t=new vr;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){let e=(i,n)=>i.getId()-n.getId();return Wn(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let i=[],n=-1,o=!1,r=new vr,s=!1;return this.getBlocksInOrder().forEach(l=>{if(!s){if(o&&n+1!==l.getId()){s=!0;return}n=l.getId(),l.forEachNode(c=>{let d=c===e||c===t;(o||d)&&i.push(c),d&&(o=!o)},r,this.rowCount)}}),s||o?[]:i}},FP=class extends T{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=mo(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&A("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=mo(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!Ks(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;br(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:mo(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new vr},this.infiniteCache=this.createBean(new MP(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function TP(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()}function kP(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()}function PP(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}var mp="32.2.1",ub={version:mp,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[FP],dependantModules:[FI]},AP={version:mp,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[ab],apiFunctions:{refreshInfiniteCache:TP,purgeInfiniteCache:kP,getInfiniteRowCount:PP},dependantModules:[ub,Yk]},OP={version:mp,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[ub,AP]};var LP=e=>{let t=new Map;return i=>{let n=i;return t.has(n)||t.set(n,e(i)),t.get(n)}},E7=LP(e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if(e==="spacing"||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)});var R7=typeof window!="object"||!window||typeof document!="object"||window.document!==document;un.__registerModules([ib,fP,OP,RP],!1,void 0);var hb=(()=>{let t=class t extends lb{setViewContainerRef(n,o){this.viewContainerRef=n,this.angularFrameworkOverrides=o}createWrapper(n){let o=this.angularFrameworkOverrides,r=this;class s extends fp{init(c){o.runInsideAngular(()=>{super.init(c),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return o.runInsideAngular(()=>r.createComponent(n))}hasMethod(c){return a.getFrameworkComponentInstance()[c]!=null}callMethod(c,d){let u=this.getFrameworkComponentInstance();return o.runInsideAngular(()=>a.getFrameworkComponentInstance()[c].apply(u,d))}addMethod(c,d){a[c]=d}}let a=new s;return a}createComponent(n){return this.viewContainerRef.createComponent(n)}};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),fp=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,mi(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},pb=(()=>{let t=class t extends hp{constructor(n){super("angular"),this._ngZone=n,this.isRunningWithinTestZone=!1,this.wrapIncoming=(o,r)=>this.runOutside(o,r),this.wrapOutgoing=o=>this.runInsideAngular(o),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(o,r)=>r==="resize-observer"||r==="popupPositioning"?this._ngZone.runOutsideAngular(o):o():this.runOutside=o=>this._ngZone.runOutsideAngular(o):this.runOutside=o=>o()}get shouldWrapOutgoing(){return this._ngZone&&ie.isInAngularZone()}isFrameworkComponent(n){if(!n)return!1;let o=n.prototype;return o&&"agInit"in o}runInsideAngular(n){return this._ngZone?this._ngZone.run(n):n()}runOutsideAngular(n,o){return this.runOutside(n,o)}};t.\u0275fac=function(o){return new(o||t)(k(ie))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),gb=(()=>{let t=class t{constructor(n,o,r,s){this.viewContainerRef=o,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=s,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(a=>{this._resolveFullyReady=a}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new _,this.toolPanelSizeChanged=new _,this.columnMenuVisibleChanged=new _,this.contextMenuVisibleChanged=new _,this.cutStart=new _,this.cutEnd=new _,this.pasteStart=new _,this.pasteEnd=new _,this.columnVisible=new _,this.columnPinned=new _,this.columnResized=new _,this.columnMoved=new _,this.columnValueChanged=new _,this.columnPivotModeChanged=new _,this.columnPivotChanged=new _,this.columnGroupOpened=new _,this.newColumnsLoaded=new _,this.gridColumnsChanged=new _,this.displayedColumnsChanged=new _,this.virtualColumnsChanged=new _,this.columnEverythingChanged=new _,this.columnHeaderMouseOver=new _,this.columnHeaderMouseLeave=new _,this.columnHeaderClicked=new _,this.columnHeaderContextMenu=new _,this.componentStateChanged=new _,this.cellValueChanged=new _,this.cellEditRequest=new _,this.rowValueChanged=new _,this.cellEditingStarted=new _,this.cellEditingStopped=new _,this.rowEditingStarted=new _,this.rowEditingStopped=new _,this.undoStarted=new _,this.undoEnded=new _,this.redoStarted=new _,this.redoEnded=new _,this.cellSelectionDeleteStart=new _,this.cellSelectionDeleteEnd=new _,this.rangeDeleteStart=new _,this.rangeDeleteEnd=new _,this.fillStart=new _,this.fillEnd=new _,this.filterOpened=new _,this.filterChanged=new _,this.filterModified=new _,this.advancedFilterBuilderVisibleChanged=new _,this.chartCreated=new _,this.chartRangeSelectionChanged=new _,this.chartOptionsChanged=new _,this.chartDestroyed=new _,this.cellKeyDown=new _,this.gridReady=new _,this.firstDataRendered=new _,this.gridSizeChanged=new _,this.modelUpdated=new _,this.virtualRowRemoved=new _,this.viewportChanged=new _,this.bodyScroll=new _,this.bodyScrollEnd=new _,this.dragStarted=new _,this.dragStopped=new _,this.dragCancelled=new _,this.stateUpdated=new _,this.paginationChanged=new _,this.rowDragEnter=new _,this.rowDragMove=new _,this.rowDragLeave=new _,this.rowDragEnd=new _,this.rowDragCancel=new _,this.columnRowGroupChanged=new _,this.rowGroupOpened=new _,this.expandOrCollapseAll=new _,this.pivotMaxColumnsExceeded=new _,this.pinnedRowDataChanged=new _,this.rowDataUpdated=new _,this.asyncTransactionsFlushed=new _,this.storeRefreshed=new _,this.headerFocused=new _,this.cellClicked=new _,this.cellDoubleClicked=new _,this.cellFocused=new _,this.cellMouseOver=new _,this.cellMouseOut=new _,this.cellMouseDown=new _,this.rowClicked=new _,this.rowDoubleClicked=new _,this.rowSelected=new _,this.selectionChanged=new _,this.cellContextMenu=new _,this.rangeSelectionChanged=new _,this.cellSelectionChanged=new _,this.tooltipShow=new _,this.tooltipHide=new _,this.sortChanged=new _,this._nativeElement=n.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);let n=NC(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};let o=sb(this._nativeElement,n,this.gridParams);o&&(this.api=o),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(n){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{let o={};Object.entries(n).forEach(([r,s])=>{o[r]=s.currentValue}),VC(o,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(n){let r=this[n],s=r?.observed??r?.observers?.length>0,a=`on${n.charAt(0).toUpperCase()}${n.substring(1)}`,l=!!this.gridOptions&&!!this.gridOptions[a];return s||l}globalEventListener(n,o){if(this._destroyed)return;let r=this[n];if(r&&this.isEmitterUsed(n)){let s=()=>this.angularFrameworkOverrides.runInsideAngular(()=>r.emit(o));this._holdEvents?this._fullyReady.then(()=>s()):s()}}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(Ct),v(pb),v(hb))},t.\u0275cmp=W({type:t,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",enableStrictPivotColumnOrder:"enableStrictPivotColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressMoveWhenColumnDragging:"suppressMoveWhenColumnDragging",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:"applyQuickFilterBeforePivotOrAgg",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:"suppressAdvancedFilterEval",suppressSetFilterByDefault:"suppressSetFilterByDefault",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",loading:"loading",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",suppressServerSideFullWidthLoadingRow:"suppressServerSideFullWidthLoadingRow",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",selectionColumnDef:"selectionColumnDef",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:"enableGroupEdit",initialState:"initialState",theme:"theme",loadThemeGoogleFonts:"loadThemeGoogleFonts",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},standalone:!0,features:[we([pb,hb]),We,Y],decls:0,vars:0,template:function(o,r){},encapsulation:2});let e=t;return e})(),mb=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({});let e=t;return e})();var ac=class e{columnDefs=[{field:"make"},{field:"model"},{field:"price"}];rowData=[{make:"Toyota",model:"Celica",price:35e3},{make:"Ford",model:"Mondeo",price:32e3},{make:"Porsche",model:"Boxter",price:72e3}];static \u0275fac=function(i){return new(i||e)};static \u0275cmp=W({type:e,selectors:[["app-ag-grid"]],standalone:!0,features:[Y],decls:1,vars:2,consts:[[1,"ag-theme-alpine",2,"width","500px","height","500px",3,"rowData","columnDefs"]],template:function(i,n){i&1&&j(0,"ag-grid-angular",0),i&2&&b("rowData",n.rowData)("columnDefs",n.columnDefs)},dependencies:[mb,gb,Se]})};var Cp;try{Cp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Cp=!1}var ze=(()=>{let t=class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?In(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Cp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(o){return new(o||t)(k(St))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _r,fb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function bp(){if(_r)return _r;if(typeof document!="object"||!document)return _r=new Set(fb),_r;let e=document.createElement("input");return _r=new Set(fb.filter(t=>(e.setAttribute("type",t),e.type===t))),_r}var na;function VP(){if(na==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>na=!0}))}finally{na=na||!1}return na}function Nt(e){return VP()?e:!!e.capture}var Eo;function vb(){if(Eo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Eo=!1,Eo;if("scrollBehavior"in document.documentElement.style)Eo=!0;else{let e=Element.prototype.scrollTo;e?Eo=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Eo=!1}}return Eo}var vp;function HP(){if(vp==null){let e=typeof document<"u"?document.head:null;vp=!!(e&&(e.createShadowRoot||e.attachShadow))}return vp}function xr(e){if(HP()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function mt(e){return e.composedPath?e.composedPath()[0]:e.target}function oa(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Vi(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function en(e){return e!=null&&`${e}`!="false"}function Cn(e,t=0){return wp(e)?Number(e):arguments.length===2?t:0}function wp(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Kn(e){return Array.isArray(e)?e:[e]}function nt(e){return e==null?"":typeof e=="string"?e:`${e}px`}function st(e){return e instanceof Q?e.nativeElement:e}var BP=(()=>{let t=class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Cb=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({providers:[BP]});let e=t;return e})();var bb=new Set,Ro,zP=(()=>{let t=class t{constructor(n,o){this._platform=n,this._nonce=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):WP}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&GP(n,this._nonce),this._matchMedia(n)}};t.\u0275fac=function(o){return new(o||t)(k(ze),k(qr,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function GP(e,t){if(!bb.has(e))try{Ro||(Ro=document.createElement("style"),t&&Ro.setAttribute("nonce",t),Ro.setAttribute("type","text/css"),document.head.appendChild(Ro)),Ro.sheet&&(Ro.sheet.insertRule(`@media ${e} {body{ }}`,0),bb.add(e))}catch(i){console.error(i)}}function WP(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var yb=(()=>{let t=class t{constructor(n,o){this._mediaMatcher=n,this._zone=o,this._queries=new Map,this._destroySubject=new K}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return wb(Kn(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=wb(Kn(n)).map(a=>this._registerQuery(a).observable),s=Gi(r);return s=_a(s.pipe(Rt(1)),s.pipe(Ra(1),Ea(0))),s.pipe(he(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let o=this._mediaMatcher.matchMedia(n),s={observable:new Kt(a=>{let l=c=>this._zone.run(()=>a.next(c));return o.addListener(l),()=>{o.removeListener(l)}}).pipe(_i(o),he(({matches:a})=>({query:n,matches:a})),Ie(this._destroySubject)),mql:o};return this._queries.set(n,s),s}};t.\u0275fac=function(o){return new(o||t)(k(zP),k(ie))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function wb(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}var Eb=" ";function Mp(e,t,i){let n=uc(e,t);i=i.trim(),!n.some(o=>o.trim()===i)&&(n.push(i),e.setAttribute(t,n.join(Eb)))}function mc(e,t,i){let n=uc(e,t);i=i.trim();let o=n.filter(r=>r!==i);o.length?e.setAttribute(t,o.join(Eb)):e.removeAttribute(t)}function uc(e,t){return e.getAttribute(t)?.match(/\S+/g)??[]}var Rb="cdk-describedby-message",lc="cdk-describedby-host",_p=0,Db=(()=>{let t=class t{constructor(n,o){this._platform=o,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${_p++}`,this._document=n,this._id=L(Kr)+"-"+_p++}describe(n,o,r){if(!this._canBeDescribed(n,o))return;let s=yp(o,r);typeof o!="string"?(Sb(o,this._id),this._messageRegistry.set(s,{messageElement:o,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(o,r),this._isElementDescribedByMessage(n,s)||this._addMessageReference(n,s)}removeDescription(n,o,r){if(!o||!this._isElementNode(n))return;let s=yp(o,r);if(this._isElementDescribedByMessage(n,s)&&this._removeMessageReference(n,s),typeof o=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let n=this._document.querySelectorAll(`[${lc}="${this._id}"]`);for(let o=0;o<n.length;o++)this._removeCdkDescribedByReferenceIds(n[o]),n[o].removeAttribute(lc);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,o){let r=this._document.createElement("div");Sb(r,this._id),r.textContent=n,o&&r.setAttribute("role",o),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(yp(n,o),{messageElement:r,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;let n="cdk-describedby-message-container",o=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let s=0;s<o.length;s++)o[s].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(n),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(n){let o=uc(n,"aria-describedby").filter(r=>r.indexOf(Rb)!=0);n.setAttribute("aria-describedby",o.join(" "))}_addMessageReference(n,o){let r=this._messageRegistry.get(o);Mp(n,"aria-describedby",r.messageElement.id),n.setAttribute(lc,this._id),r.referenceCount++}_removeMessageReference(n,o){let r=this._messageRegistry.get(o);r.referenceCount--,mc(n,"aria-describedby",r.messageElement.id),n.removeAttribute(lc)}_isElementDescribedByMessage(n,o){let r=uc(n,"aria-describedby"),s=this._messageRegistry.get(o),a=s&&s.messageElement.id;return!!a&&r.indexOf(a)!=-1}_canBeDescribed(n,o){if(!this._isElementNode(n))return!1;if(o&&typeof o=="object")return!0;let r=o==null?"":`${o}`.trim(),s=n.getAttribute("aria-label");return r?!s||s.trim()!==r:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}};t.\u0275fac=function(o){return new(o||t)(k(le),k(ze))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function yp(e,t){return typeof e=="string"?`${t||""}/${e}`:e}function Sb(e,t){e.id||(e.id=`${Rb}-${t}-${_p++}`)}var nA=200,xp=class{constructor(t,i){this._letterKeyStream=new K,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new K,this.selectedItem=this._selectedItem;let n=typeof i?.debounceInterval=="number"?i.debounceInterval:nA;i?.skipPredicate&&(this._skipPredicateFn=i.skipPredicate),this.setItems(t),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let i=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe($e(i=>this._pressedLetters.push(i)),Ea(t),rt(()=>this._pressedLetters.length>0),he(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(i=>{for(let n=1;n<this._items.length+1;n++){let o=(this._selectedItemIndex+n)%this._items.length,r=this._items[o];if(!this._skipPredicateFn?.(r)&&r.getLabel?.().toLocaleUpperCase().trim().indexOf(i)===0){this._selectedItem.next(r);break}}this._pressedLetters=[]})}},Ep=class{constructor(t,i){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=et.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this.tabOut=new K,this.change=new K,t instanceof Fd?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):kd(t)&&(this._effectRef=Oa(()=>this._itemsChanged(t()),{injector:i}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let i=this._getItemsArray();return this._typeahead=new xp(i,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,i=10){return this._pageUpAndDown={enabled:t,delta:i},this}setActiveItem(t){let i=this._activeItem;this.updateActiveItem(t),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(t){let i=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!t[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&o){this.setNextItemActive();break}else return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&o){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&o){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(r<s?r:s-1,-1);break}else return;default:(o||Vi(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let i=this._getItemsArray(),n=typeof t=="number"?t:i.indexOf(t),o=i[n];this._activeItem=o??null,this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let i=this._getItemsArray();for(let n=1;n<=i.length;n++){let o=(this._activeItemIndex+t*n+i.length)%i.length,r=i[o];if(!this._skipPredicateFn(r)){this.setActiveItem(o);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,i){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=i,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return kd(this._items)?this._items():this._items instanceof Fd?this._items.toArray():this._items}_itemsChanged(t){if(this._typeahead?.setItems(t),this._activeItem){let i=t.indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}},hc=class extends Ep{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};function ra(e){return e.buttons===0||e.detail===0}function sa(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var oA=new $("cdk-input-modality-detector-options"),rA={ignoreKeys:[18,17,224,91,16]},Ib=650,Er=Nt({passive:!0,capture:!0}),sA=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(n,o,r,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Ze(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=mt(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<Ib||(this._modality.next(ra(a)?"keyboard":"mouse"),this._mostRecentTarget=mt(a))},this._onTouchstart=a=>{if(sa(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=mt(a)},this._options=E(E({},rA),s),this.modalityDetected=this._modality.pipe(Ra(1)),this.modalityChanged=this.modalityDetected.pipe(jr()),n.isBrowser&&o.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Er),r.addEventListener("mousedown",this._onMousedown,Er),r.addEventListener("touchstart",this._onTouchstart,Er)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Er),document.removeEventListener("mousedown",this._onMousedown,Er),document.removeEventListener("touchstart",this._onTouchstart,Er))}};t.\u0275fac=function(o){return new(o||t)(k(ze),k(ie),k(le),k(oA,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),aA=new $("liveAnnouncerElement",{providedIn:"root",factory:lA});function lA(){return null}var cA=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),dA=0,Mb=(()=>{let t=class t{constructor(n,o,r,s){this._ngZone=o,this._defaultOptions=s,this._document=r,this._liveElement=n||this._createLiveElement()}announce(n,...o){let r=this._defaultOptions,s,a;return o.length===1&&typeof o[0]=="number"?a=o[0]:[s,a]=o,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",o=this._document.getElementsByClassName(n),r=this._document.createElement("div");for(let s=0;s<o.length;s++)o[s].remove();return r.classList.add(n),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${dA++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(n){let o=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<o.length;r++){let s=o[r],a=s.getAttribute("aria-owns");a?a.indexOf(n)===-1&&s.setAttribute("aria-owns",a+" "+n):s.setAttribute("aria-owns",n)}}};t.\u0275fac=function(o){return new(o||t)(k(aA,8),k(ie),k(le),k(cA,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var dc=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(dc||{}),uA=new $("cdk-focus-monitor-default-options"),cc=Nt({passive:!0,capture:!0}),Rr=(()=>{let t=class t{constructor(n,o,r,s,a){this._ngZone=n,this._platform=o,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new K,this._rootNodeFocusAndBlurListener=l=>{let c=mt(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=s,this._detectionMode=a?.detectionMode||dc.IMMEDIATE}monitor(n,o=!1){let r=st(n);if(!this._platform.isBrowser||r.nodeType!==1)return ae();let s=xr(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return o&&(a.checkChildren=!0),a.subject;let l={checkChildren:o,subject:new K,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let o=st(n),r=this._elementInfo.get(o);r&&(r.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(r))}focusVia(n,o,r){let s=st(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,c])=>this._originChanged(l,o,c)):(this._setOrigin(o),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===dc.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,o){n.classList.toggle("cdk-focused",!!o),n.classList.toggle("cdk-touch-focused",o==="touch"),n.classList.toggle("cdk-keyboard-focused",o==="keyboard"),n.classList.toggle("cdk-mouse-focused",o==="mouse"),n.classList.toggle("cdk-program-focused",o==="program")}_setOrigin(n,o=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&o,this._detectionMode===dc.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Ib:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(n,o){let r=this._elementInfo.get(o),s=mt(n);!r||!r.checkChildren&&o!==s||this._originChanged(o,this._getFocusOrigin(s),r)}_onBlur(n,o){let r=this._elementInfo.get(o);!r||r.checkChildren&&n.relatedTarget instanceof Node&&o.contains(n.relatedTarget)||(this._setClasses(o),this._emitOrigin(r,null))}_emitOrigin(n,o){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(o))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let o=n.rootNode,r=this._rootNodeFocusListenerCount.get(o)||0;r||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,cc),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,cc)}),this._rootNodeFocusListenerCount.set(o,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ie(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let o=n.rootNode;if(this._rootNodeFocusListenerCount.has(o)){let r=this._rootNodeFocusListenerCount.get(o);r>1?this._rootNodeFocusListenerCount.set(o,r-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cc),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cc),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,o,r){this._setClasses(n,o),this._emitOrigin(r,o),this._lastFocusOrigin=o}_getClosestElementsInfo(n){let o=[];return this._elementInfo.forEach((r,s)=>{(s===n||r.checkChildren&&s.contains(n))&&o.push([s,r])}),o}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:o,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!o||o===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(o))return!0}return!1}};t.\u0275fac=function(o){return new(o||t)(k(ie),k(ze),k(sA),k(le,8),k(uA,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Do=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Do||{}),_b="cdk-high-contrast-black-on-white",xb="cdk-high-contrast-white-on-black",Sp="cdk-high-contrast-active",Fb=(()=>{let t=class t{constructor(n,o){this._platform=n,this._document=o,this._breakpointSubscription=L(yb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Do.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let o=this._document.defaultView||window,r=o&&o.getComputedStyle?o.getComputedStyle(n):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Do.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Do.BLACK_ON_WHITE}return Do.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(Sp,_b,xb),this._hasCheckedHighContrastMode=!0;let o=this.getHighContrastMode();o===Do.BLACK_ON_WHITE?n.add(Sp,_b):o===Do.WHITE_ON_BLACK&&n.add(Sp,xb)}}};t.\u0275fac=function(o){return new(o||t)(k(ze),k(le))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var hA=new $("cdk-dir-doc",{providedIn:"root",factory:pA});function pA(){return L(le)}var gA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function mA(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?gA.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var $t=(()=>{let t=class t{constructor(n){if(this.value="ltr",this.change=new _,n){let o=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.value=mA(o||r||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(o){return new(o||t)(k(hA,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Dr=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({});let e=t;return e})();var fA=["text"],vA=[[["mat-icon"]],"*"],CA=["mat-icon","*"];function bA(e,t){if(e&1&&j(0,"mat-pseudo-checkbox",1),e&2){let i=S();b("disabled",i.disabled)("state",i.selected?"checked":"unchecked")}}function wA(e,t){if(e&1&&j(0,"mat-pseudo-checkbox",3),e&2){let i=S();b("disabled",i.disabled)}}function yA(e,t){if(e&1&&(w(0,"span",4),z(1),y()),e&2){let i=S();f(),Be("(",i.group.label,")")}}var SA=["mat-internal-form-field",""],_A=["*"];var Hb=(()=>{let t=class t{};t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let e=t;return e})(),Bb=(()=>{let t=class t{};t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms";let e=t;return e})();function xA(){return!0}var EA=new $("mat-sanity-checks",{providedIn:"root",factory:xA}),Je=(()=>{let t=class t{constructor(n,o,r){this._sanityChecks=o,this._document=r,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return oa()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};t.\u0275fac=function(o){return new(o||t)(k(Fb),k(EA,8),k(le))},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Dr,Dr]});let e=t;return e})();var Mr=class{constructor(t,i,n,o,r){this._defaultMatcher=t,this.ngControl=i,this._parentFormGroup=n,this._parentForm=o,this._stateChanges=r,this.errorState=!1}updateErrorState(){let t=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,r=n?.isErrorState(o,i)??!1;r!==t&&(this.errorState=r,this._stateChanges.next())}};var wc=(()=>{let t=class t{isErrorState(n,o){return!!(n&&n.invalid&&(n.touched||o&&o.submitted))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var bi=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(bi||{}),kp=class{constructor(t,i,n,o=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=o,this.state=bi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Tb=Nt({passive:!0,capture:!0}),Pp=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let i=mt(t);i&&this._events.get(t.type)?.forEach((n,o)=>{(o===i||o.contains(i))&&n.forEach(r=>r.handleEvent(t))})}}addHandler(t,i,n,o){let r=this._events.get(i);if(r){let s=r.get(n);s?s.add(o):r.set(n,new Set([o]))}else this._events.set(i,new Map([[n,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,Tb)})}removeHandler(t,i,n){let o=this._events.get(t);if(!o)return;let r=o.get(i);r&&(r.delete(n),r.size===0&&o.delete(i),o.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Tb)))}},kb={enterDuration:225,exitDuration:150},RA=800,Pb=Nt({passive:!0,capture:!0}),Ab=["mousedown","touchstart"],Ob=["mouseup","mouseleave","touchend","touchcancel"],aa=class aa{constructor(t,i,n,o){this._target=t,this._ngZone=i,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=st(n))}fadeInRipple(t,i,n={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=E(E({},kb),n.animation);n.centered&&(t=o.left+o.width/2,i=o.top+o.height/2);let s=n.radius||DA(t,i,o),a=t-o.left,l=i-o.top,c=r.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,p=u.transitionDuration,g=h==="none"||p==="0s"||p==="0s, 0s"||o.width===0&&o.height===0,C=new kp(this,d,n,g);d.style.transform="scale3d(1, 1, 1)",C.state=bi.FADING_IN,n.persistent||(this._mostRecentTransientRipple=C);let m=null;return!g&&(c||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let x=()=>{m&&(m.fallbackTimer=null),clearTimeout(D),this._finishRippleTransition(C)},R=()=>this._destroyRipple(C),D=setTimeout(R,c+100);d.addEventListener("transitionend",x),d.addEventListener("transitioncancel",R),m={onTransitionEnd:x,onTransitionCancel:R,fallbackTimer:D}}),this._activeRipples.set(C,m),(g||!c)&&this._finishRippleTransition(C),C}fadeOutRipple(t){if(t.state===bi.FADING_OUT||t.state===bi.HIDDEN)return;let i=t.element,n=E(E({},kb),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=bi.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=st(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,Ab.forEach(n=>{aa._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ob.forEach(i=>{this._triggerElement.addEventListener(i,this,Pb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===bi.FADING_IN?this._startFadeOutTransition(t):t.state===bi.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=bi.VISIBLE,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=bi.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),t.element.remove()}_onMousedown(t){let i=ra(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+RA;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!sa(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===bi.VISIBLE||t.config.terminateOnPointerUp&&t.state===bi.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Ab.forEach(i=>aa._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(Ob.forEach(i=>t.removeEventListener(i,this,Pb)),this._pointerUpEventsRegistered=!1))}};aa._eventManager=new Pp;var Ap=aa;function DA(e,t,i){let n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),o=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+o*o)}var zb=new $("mat-ripple-global-options"),yc=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,o,r,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ap(this,o,n,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:E(E(E({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,o=0,r){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,o,E(E({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,E(E({},this.rippleConfig),n))}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(ie),v(ze),v(zb,8),v(ht,8))},t.\u0275dir=q({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,r){o&2&&me("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),Sc=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Je,Je]});let e=t;return e})(),IA=(()=>{let t=class t{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1,this.appearance="full"}};t.\u0275fac=function(o){return new(o||t)(v(ht,8))},t.\u0275cmp=W({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(o,r){o&2&&me("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Y],decls:0,vars:0,template:function(o,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let e=t;return e})();var Lp=new $("MAT_OPTION_PARENT_COMPONENT");var Np=new $("MatOptgroup");var MA=0,Op=class{constructor(t,i=!1){this.source=t,this.isUserInput=i}},_c=(()=>{let t=class t{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(n){this._disabled=n}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(n,o,r,s){this._element=n,this._changeDetectorRef=o,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${MA++}`,this.onSelectionChange=new _,this._stateChanges=new K}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(n=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}deselect(n=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}focus(n,o){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(o)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(n){(n.keyCode===13||n.keyCode===32)&&!Vi(n)&&(this._selectViaInteraction(),n.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let n=this.viewValue;n!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=n)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(n=!1){this.onSelectionChange.emit(new Op(this,n))}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(Te),v(Lp,8),v(Np,8))},t.\u0275cmp=W({type:t,selectors:[["mat-option"]],viewQuery:function(o,r){if(o&1&&be(fA,7),o&2){let s;ne(s=oe())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(o,r){o&1&&G("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),o&2&&(Lo("id",r.id),V("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),me("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",O]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[ve,Y],ngContentSelectors:CA,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(o,r){o&1&&(Ae(vA),I(0,bA,1,2,"mat-pseudo-checkbox",1),fe(1),w(2,"span",2,0),fe(4,1),y(),I(5,wA,1,1,"mat-pseudo-checkbox",3)(6,yA,2,1,"span",4),j(7,"div",5)),o&2&&(Le(r.multiple?0:-1),f(5),Le(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),f(),Le(r.group&&r.group._inert?6:-1),f(),b("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[IA,yc],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let e=t;return e})();function Gb(e,t,i){if(i.length){let n=t.toArray(),o=i.toArray(),r=0;for(let s=0;s<e+1;s++)n[s].group&&n[s].group===o[r]&&r++;return r}return 0}function Wb(e,t,i,n){return e<i?e:e+t>i+n?Math.max(0,e-n+t):i}var Lb={capture:!0},Nb=["focus","mousedown","mouseenter","touchstart"],Fp="mat-ripple-loader-uninitialized",Tp="mat-ripple-loader-class-name",Vb="mat-ripple-loader-centered",vc="mat-ripple-loader-disabled",jb=(()=>{let t=class t{constructor(){this._document=L(le,{optional:!0}),this._animationMode=L(ht,{optional:!0}),this._globalRippleOptions=L(zb,{optional:!0}),this._platform=L(ze),this._ngZone=L(ie),this._hosts=new Map,this._onInteraction=n=>{let o=mt(n);if(o instanceof HTMLElement){let r=o.closest(`[${Fp}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(let n of Nb)this._document?.addEventListener(n,this._onInteraction,Lb)})}ngOnDestroy(){let n=this._hosts.keys();for(let o of n)this.destroyRipple(o);for(let o of Nb)this._document?.removeEventListener(o,this._onInteraction,Lb)}configureRipple(n,o){n.setAttribute(Fp,this._globalRippleOptions?.namespace??""),(o.className||!n.hasAttribute(Tp))&&n.setAttribute(Tp,o.className||""),o.centered&&n.setAttribute(Vb,""),o.disabled&&n.setAttribute(vc,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,o){let r=this._hosts.get(n);if(r){r.disabled=o;return}o?n.setAttribute(vc,""):n.removeAttribute(vc)}_createRipple(n){if(!this._document)return;let o=this._hosts.get(n);if(o)return o;n.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",n.getAttribute(Tp)),n.append(r);let s=new yc(new Q(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(Vb),s.disabled=n.hasAttribute(vc),this.attachRipple(n,s),s}attachRipple(n,o){n.removeAttribute(Fp),this._hosts.set(n,o)}destroyRipple(n){let o=this._hosts.get(n);o&&(o.ngOnDestroy(),this._hosts.delete(n))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ub=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=W({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(o,r){o&2&&me("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Y],attrs:SA,ngContentSelectors:_A,decls:1,vars:0,template:function(o,r){o&1&&(Ae(),fe(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let e=t;return e})();var FA=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var TA=["mat-icon-button",""],kA=["*"];var PA=new $("MAT_BUTTON_CONFIG");var AA=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],OA=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,o,r,s){this._elementRef=n,this._platform=o,this._ngZone=r,this._animationMode=s,this._focusMonitor=L(Rr),this._rippleLoader=L(jb),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=L(PA,{optional:!0}),l=n.nativeElement,c=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of AA)l.hasAttribute(d)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",o){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,o):this._elementRef.nativeElement.focus(o)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(o){Ao()},t.\u0275dir=q({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",O],disabled:[2,"disabled","disabled",O],ariaDisabled:[2,"aria-disabled","ariaDisabled",O],disabledInteractive:[2,"disabledInteractive","disabledInteractive",O]},features:[ve]});let e=t;return e})();var Kb=(()=>{let t=class t extends OA{constructor(n,o,r,s){super(n,o,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(ze),v(ie),v(ht,8))},t.\u0275cmp=W({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(o,r){o&2&&(V("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),xe(r.color?"mat-"+r.color:""),me("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ge,Y],attrs:TA,ngContentSelectors:kA,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,r){o&1&&(Ae(),j(0,"span",0),fe(1),j(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',FA],encapsulation:2,changeDetection:0});let e=t;return e})();var Vp=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Je,Sc,Je]});let e=t;return e})();var xc=class{};function Rc(e){return e&&typeof e.connect=="function"&&!(e instanceof Gr)}var Fr=function(e){return e[e.REPLACED=0]="REPLACED",e[e.INSERTED=1]="INSERTED",e[e.MOVED=2]="MOVED",e[e.REMOVED=3]="REMOVED",e}(Fr||{}),la=new $("_ViewRepeater"),Tr=class{applyChanges(t,i,n,o,r){t.forEachOperation((s,a,l)=>{let c,d;if(s.previousIndex==null){let u=n(s,a,l);c=i.createEmbeddedView(u.templateRef,u.context,u.index),d=Fr.INSERTED}else l==null?(i.remove(a),d=Fr.REMOVED):(c=i.get(a),i.move(c,l),d=Fr.MOVED);r&&r({context:c?.context,operation:d,record:s})})}detach(){}};var Ec=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,i,n=!0,o){this._multiple=t,this._emitChanges=n,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new K,i&&i.length&&(t?i.forEach(r=>this._markSelected(r)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...t){this._verifyValueAssignment(t);let i=this.selected,n=new Set(t);t.forEach(r=>this._markSelected(r)),i.filter(r=>!n.has(this._getConcreteValue(r,n))).forEach(r=>this._unmarkSelected(r));let o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let i=this._hasQueuedChanges();return t&&this._emitChangeEvent(),i}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,i){if(this.compareWith){i=i??this._selection;for(let n of i)if(this.compareWith(t,n))return n;return t}else return t}};var qb=(()=>{let t=class t{constructor(){this._listeners=[]}notify(n,o){for(let r of this._listeners)r(n,o)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(o=>n!==o)}}ngOnDestroy(){this._listeners=[]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var NA=20,Io=(()=>{let t=class t{constructor(n,o,r){this._ngZone=n,this._platform=o,this._scrolled=new K,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let o=this.scrollContainers.get(n);o&&(o.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=NA){return this._platform.isBrowser?new Kt(o=>{this._globalSubscription||this._addGlobalListener();let r=n>0?this._scrolled.pipe(Ed(n)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ae()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(n,o){let r=this.getAncestorScrollContainers(n);return this.scrolled(o).pipe(rt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(n){let o=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,n)&&o.push(s)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,o){let r=st(o),s=n.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return xd(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(o){return new(o||t)(k(ie),k(ze),k(le,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var VA=20,tn=(()=>{let t=class t{constructor(n,o,r){this._platform=n,this._change=new K,this._changeListener=s=>{this._change.next(s)},this._document=r,o.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:o,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+o,height:r,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,o=this._getWindow(),r=n.documentElement,s=r.getBoundingClientRect(),a=-s.top||n.body.scrollTop||o.scrollY||r.scrollTop||0,l=-s.left||n.body.scrollLeft||o.scrollX||r.scrollLeft||0;return{top:a,left:l}}change(n=VA){return n>0?this._change.pipe(Ed(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(o){return new(o||t)(k(ze),k(ie),k(le,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Dc=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({});let e=t;return e})(),Yb=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Dr,Dc,Dr,Dc]});let e=t;return e})();var ca=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},da=class extends ca{constructor(t,i,n,o,r){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=o,this.projectableNodes=r}},ua=class extends ca{constructor(t,i,n,o){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Hp=class extends ca{constructor(t){super(),this.element=t instanceof Q?t.nativeElement:t}},Bp=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof da)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ua)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Hp)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Mc=class extends Bp{constructor(t,i,n,o,r){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=o,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=n.create(t.injector||this._defaultInjector||ct.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(o=>this.outletElement.appendChild(o)),n.detectChanges(),this.setDisposeFn(()=>{let o=i.indexOf(n);o!==-1&&i.remove(o)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Qb=vb(),zp=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=nt(-this._previousScrollPosition.left),t.style.top=nt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,n=t.style,o=i.style,r=n.scrollBehavior||"",s=o.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Qb&&(n.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Qb&&(n.scrollBehavior=r,o.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var Gp=class{constructor(t,i,n,o){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(rt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Fc=class{enable(){}disable(){}attach(){}};function Wp(e,t){return t.some(i=>{let n=e.bottom<i.top,o=e.top>i.bottom,r=e.right<i.left,s=e.left>i.right;return n||o||r||s})}function Zb(e,t){return t.some(i=>{let n=e.top<i.top,o=e.bottom>i.bottom,r=e.left<i.left,s=e.right>i.right;return n||o||r||s})}var jp=class{constructor(t,i,n,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:o}=this._viewportRuler.getViewportSize();Wp(i,[{width:n,height:o,bottom:o,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},HA=(()=>{let t=class t{constructor(n,o,r,s){this._scrollDispatcher=n,this._viewportRuler=o,this._ngZone=r,this.noop=()=>new Fc,this.close=a=>new Gp(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new zp(this._viewportRuler,this._document),this.reposition=a=>new jp(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};t.\u0275fac=function(o){return new(o||t)(k(Io),k(tn),k(ie),k(le))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Tc=class{constructor(t){if(this.scrollStrategy=new Fc,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let n of i)t[n]!==void 0&&(this[n]=t[n])}}};var Up=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var nw=(()=>{let t=class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let o=this._attachedOverlays.indexOf(n);o>-1&&this._attachedOverlays.splice(o,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(o){return new(o||t)(k(le))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),BA=(()=>{let t=class t extends nw{constructor(n,o){super(n),this._ngZone=o,this._keydownListener=r=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(o){return new(o||t)(k(le),k(ie,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),zA=(()=>{let t=class t extends nw{constructor(n,o,r){super(n),this._platform=o,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=mt(s)},this._clickListener=s=>{let a=mt(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let u=c[d];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(Xb(u.overlayElement,a)||Xb(u.overlayElement,l))break;let h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(n){if(super.add(n),!this._isAttached){let o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(o){return new(o||t)(k(le),k(ze),k(ie,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Xb(e,t){let i=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===e)return!0;n=i&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var ow=(()=>{let t=class t{constructor(n,o){this._platform=o,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||oa()){let r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}let o=this._document.createElement("div");o.classList.add(n),oa()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}};t.\u0275fac=function(o){return new(o||t)(k(le),k(ze))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$p=class{constructor(t,i,n,o,r,s,a,l,c,d=!1,u){this._portalOutlet=t,this._host=i,this._pane=n,this._config=o,this._ngZone=r,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._backdropElement=null,this._backdropClick=new K,this._attachments=new K,this._detachments=new K,this._locationChanges=et.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new K,this._outsidePointerEvents=new K,this._renders=new K,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=Di(()=>Fa(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Qt(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=E(E({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ce(E({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=nt(this._config.width),t.height=nt(this._config.height),t.minWidth=nt(this._config.minWidth),t.minHeight=nt(this._config.minHeight),t.maxWidth=nt(this._config.maxWidth),t.maxHeight=nt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,n){let o=Kn(i||[]).filter(r=>!!r);o.length&&(n?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Ie(yt(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Jb="cdk-overlay-connected-position-bounding-box",GA=/([A-Za-z%]+)$/,Kp=class{get positions(){return this._preferredPositions}constructor(t,i,n,o,r){this._viewportRuler=i,this._document=n,this._platform=o,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new K,this._resizeSubscription=et.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Jb),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,n=this._viewportRect,o=this._containerRect,r=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,o,a),c=this._getOverlayPoint(l,i,a),d=this._getOverlayFit(c,i,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){r.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(r.length){let a=null,l=-1;for(let c of r){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Jb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let o;if(n.originX=="center")o=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;o=n.originX=="start"?s:a}i.left<0&&(o-=i.left);let r;return n.originY=="center"?r=t.top+t.height/2:r=n.originY=="top"?t.top:t.bottom,i.top<0&&(r-=i.top),{x:o,y:r}}_getOverlayPoint(t,i,n){let o;n.overlayX=="center"?o=-i.width/2:n.overlayX==="start"?o=this._isRtl()?-i.width:0:o=this._isRtl()?0:-i.width;let r;return n.overlayY=="center"?r=-i.height/2:r=n.overlayY=="top"?0:-i.height,{x:t.x+o,y:t.y+r}}_getOverlayFit(t,i,n,o){let r=tw(i),{x:s,y:a}=t,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+r.width-n.width,h=0-a,p=a+r.height-n.height,g=this._subtractOverflows(r.width,d,u),C=this._subtractOverflows(r.height,h,p),m=g*C;return{visibleArea:m,isCompletelyWithinViewport:r.width*r.height===m,fitsInViewportVertically:C===r.height,fitsInViewportHorizontally:g==r.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){let o=n.bottom-i.y,r=n.right-i.x,s=ew(this._overlayRef.getConfig().minHeight),a=ew(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=o,c=t.fitsInViewportHorizontally||a!=null&&a<=r;return l&&c}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let o=tw(i),r=this._viewportRect,s=Math.max(t.x+o.width-r.width,0),a=Math.max(t.y+o.height-r.height,0),l=Math.max(r.top-n.top-t.y,0),c=Math.max(r.left-n.left-t.x,0),d=0,u=0;return o.width<=r.width?d=c||-s:d=t.x<this._viewportMargin?r.left-n.left-t.x:0,o.height<=r.height?u=l||-a:u=t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!WA(this._lastScrollVisibility,n)){let o=new Up(t,n);this._positionChanges.next(o)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,o=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let r=0;r<i.length;r++)i[r].style.transformOrigin=`${n} ${o}`}_calculateBoundingBoxRect(t,i){let n=this._viewportRect,o=this._isRtl(),r,s,a;if(i.overlayY==="top")s=t.y,r=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=n.height-t.y+this._viewportMargin*2,r=n.height-a+this._viewportMargin;else{let p=Math.min(n.bottom-t.y+n.top,t.y),g=this._lastBoundingBoxSize.height;r=p*2,s=t.y-p,r>g&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-g/2)}let l=i.overlayX==="start"&&!o||i.overlayX==="end"&&o,c=i.overlayX==="end"&&!o||i.overlayX==="start"&&o,d,u,h;if(c)h=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)u=t.x,d=n.right-t.x;else{let p=Math.min(n.right-t.x+n.left,t.x),g=this._lastBoundingBoxSize.width;d=p*2,u=t.x-p,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-g/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:r}}_setBoundingBoxStyles(t,i){let n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;o.height=nt(n.height),o.top=nt(n.top),o.bottom=nt(n.bottom),o.width=nt(n.width),o.left=nt(n.left),o.right=nt(n.right),i.overlayX==="center"?o.alignItems="center":o.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?o.justifyContent="center":o.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",r&&(o.maxHeight=nt(r)),s&&(o.maxWidth=nt(s))}this._lastBoundingBoxSize=n,Mo(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Mo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let n={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(o){let d=this._viewportRuler.getViewportScrollPosition();Mo(n,this._getExactOverlayY(i,t,d)),Mo(n,this._getExactOverlayX(i,t,d))}else n.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),s.maxHeight&&(o?n.maxHeight=nt(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(o?n.maxWidth=nt(s.maxWidth):r&&(n.maxWidth="")),Mo(this._pane.style,n)}_getExactOverlayY(t,i,n){let o={top:"",bottom:""},r=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;o.bottom=`${s-(r.y+this._overlayRect.height)}px`}else o.top=nt(r.y);return o}_getExactOverlayX(t,i,n){let o={left:"",right:""},r=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(r.x+this._overlayRect.width)}px`}else o.left=nt(r.x);return o}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Zb(t,n),isOriginOutsideView:Wp(t,n),isOverlayClipped:Zb(i,n),isOverlayOutsideView:Wp(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,o)=>n-Math.max(o,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Kn(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Q)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}};function Mo(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function ew(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(GA);return!i||i==="px"?parseFloat(t):null}return e||null}function tw(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function WA(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var iw="cdk-global-overlay-wrapper",qp=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(iw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:s,maxHeight:a}=n,l=(o==="100%"||o==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(r==="100%"||r==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",p="",g="",C="";l?C="flex-start":d==="center"?(C="center",h?g=u:p=u):h?d==="left"||d==="end"?(C="flex-end",p=u):(d==="right"||d==="start")&&(C="flex-start",g=u):d==="left"||d==="start"?(C="flex-start",p=u):(d==="right"||d==="end")&&(C="flex-end",g=u),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":g,i.justifyContent=C,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(iw),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},jA=(()=>{let t=class t{constructor(n,o,r,s){this._viewportRuler=n,this._document=o,this._platform=r,this._overlayContainer=s}global(){return new qp}flexibleConnectedTo(n){return new Kp(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(o){return new(o||t)(k(tn),k(le),k(ze),k(ow))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),UA=0,qn=(()=>{let t=class t{constructor(n,o,r,s,a,l,c,d,u,h,p,g){this.scrollStrategies=n,this._overlayContainer=o,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=d,this._directionality=u,this._location=h,this._outsideClickDispatcher=p,this._animationsModuleType=g}create(n){let o=this._createHostElement(),r=this._createPaneElement(o),s=this._createPortalOutlet(r),a=new Tc(n);return a.direction=a.direction||this._directionality.value,new $p(s,o,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(xi))}position(){return this._positionBuilder}_createPaneElement(n){let o=this._document.createElement("div");return o.id=`cdk-overlay-${UA++}`,o.classList.add("cdk-overlay-pane"),n.appendChild(o),o}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(sn)),new Mc(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(o){return new(o||t)(k(HA),k(ow),k(rm),k(jA),k(BA),k(ct),k(ie),k(le),k($t),k(eo),k(zA),k(ht,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$A=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],KA=new $("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=L(qn);return()=>e.scrollStrategies.reposition()}}),ha=(()=>{let t=class t{constructor(n){this.elementRef=n}};t.\u0275fac=function(o){return new(o||t)(v(Q))},t.\u0275dir=q({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let e=t;return e})(),Qp=(()=>{let t=class t{get offsetX(){return this._offsetX}set offsetX(n){this._offsetX=n,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(n){this._offsetY=n,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(n){this._disposeOnNavigation=n}constructor(n,o,r,s,a){this._overlay=n,this._dir=a,this._backdropSubscription=et.EMPTY,this._attachSubscription=et.EMPTY,this._detachSubscription=et.EMPTY,this._positionSubscription=et.EMPTY,this._disposeOnNavigation=!1,this._ngZone=L(ie),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new _,this.positionChange=new _,this.attach=new _,this.detach=new _,this.overlayKeydown=new _,this.overlayOutsideClick=new _,this._templatePortal=new ua(o,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(n){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),n.origin&&this.open&&this._position.apply()),n.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=$A);let n=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=n.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=n.detachments().subscribe(()=>this.detach.emit()),n.keydownEvents().subscribe(o=>{this.overlayKeydown.next(o),o.keyCode===27&&!this.disableClose&&!Vi(o)&&(o.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(o=>{let r=this._getOriginElement(),s=mt(o);(!r||r!==s&&!r.contains(s))&&this.overlayOutsideClick.next(o)})}_buildConfig(){let n=this._position=this.positionStrategy||this._createPositionStrategy(),o=new Tc({direction:this._dir,positionStrategy:n,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(o.width=this.width),(this.height||this.height===0)&&(o.height=this.height),(this.minWidth||this.minWidth===0)&&(o.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(o.minHeight=this.minHeight),this.backdropClass&&(o.backdropClass=this.backdropClass),this.panelClass&&(o.panelClass=this.panelClass),o}_updatePositionStrategy(n){let o=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return n.setOrigin(this._getOrigin()).withPositions(o).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let n=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(n),n}_getOrigin(){return this.origin instanceof ha?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ha?this.origin.elementRef.nativeElement:this.origin instanceof Q?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(n=>{this.backdropClick.emit(n)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Ug(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};t.\u0275fac=function(o){return new(o||t)(v(qn),v(Dt),v(Ct),v(KA),v($t,8))},t.\u0275dir=q({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",O],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",O],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",O],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",O],push:[2,"cdkConnectedOverlayPush","push",O],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",O]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[ve,We]});let e=t;return e})();var Zp=class{constructor(t){this._box=t,this._destroyed=new K,this._resizeSubject=new K,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Kt(i=>{let n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(rt(i=>i.some(n=>n.target===t)),Id({bufferSize:1,refCount:!0}),Ie(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},rw=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=L(ie),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(n,o){let r=o?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Zp(r)),this._observers.get(r).observe(n)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var YA=["notch"],QA=["matFormFieldNotchedOutline",""],ZA=["*"],XA=["textField"],JA=["iconPrefixContainer"],eO=["textPrefixContainer"],tO=["iconSuffixContainer"],iO=["textSuffixContainer"],nO=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],oO=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function rO(e,t){e&1&&j(0,"span",21)}function sO(e,t){if(e&1&&(w(0,"label",20),fe(1,1),I(2,rO,1,0,"span",21),y()),e&2){let i=S(2);b("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),V("for",i._control.disableAutomaticLabeling?null:i._control.id),f(2),Le(!i.hideRequiredMarker&&i._control.required?2:-1)}}function aO(e,t){if(e&1&&I(0,sO,3,5,"label",20),e&2){let i=S();Le(i._hasFloatingLabel()?0:-1)}}function lO(e,t){e&1&&j(0,"div",7)}function cO(e,t){}function dO(e,t){if(e&1&&I(0,cO,0,0,"ng-template",13),e&2){S(2);let i=It(1);b("ngTemplateOutlet",i)}}function uO(e,t){if(e&1&&(w(0,"div",9),I(1,dO,1,1,null,13),y()),e&2){let i=S();b("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),f(),Le(i._forceDisplayInfixLabel()?-1:1)}}function hO(e,t){e&1&&(w(0,"div",10,2),fe(2,2),y())}function pO(e,t){e&1&&(w(0,"div",11,3),fe(2,3),y())}function gO(e,t){}function mO(e,t){if(e&1&&I(0,gO,0,0,"ng-template",13),e&2){S();let i=It(1);b("ngTemplateOutlet",i)}}function fO(e,t){e&1&&(w(0,"div",14,4),fe(2,4),y())}function vO(e,t){e&1&&(w(0,"div",15,5),fe(2,5),y())}function CO(e,t){e&1&&j(0,"div",16)}function bO(e,t){if(e&1&&(w(0,"div",18),fe(1,6),y()),e&2){let i=S();b("@transitionMessages",i._subscriptAnimationState)}}function wO(e,t){if(e&1&&(w(0,"mat-hint",22),z(1),y()),e&2){let i=S(2);b("id",i._hintLabelId),f(),je(i.hintLabel)}}function yO(e,t){if(e&1&&(w(0,"div",19),I(1,wO,2,2,"mat-hint",22),fe(2,7),j(3,"div",23),fe(4,8),y()),e&2){let i=S();b("@transitionMessages",i._subscriptAnimationState),f(),Le(i.hintLabel?1:-1)}}var Pc=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=q({type:t,selectors:[["mat-label"]],standalone:!0});let e=t;return e})();var SO=new $("MatError");var _O=0,sw=(()=>{let t=class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${_O++}`}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=q({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(o,r){o&2&&(Lo("id",r.id),V("align",null),me("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let e=t;return e})(),xO=new $("MatPrefix");var EO=new $("MatSuffix");var gw=new $("FloatingLabelParent"),aw=(()=>{let t=class t{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=L(rw),this._ngZone=L(ie),this._parent=L(gw),this._resizeSubscription=new et}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return RO(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};t.\u0275fac=function(o){return new(o||t)(v(Q))},t.\u0275dir=q({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(o,r){o&2&&me("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let e=t;return e})();function RO(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let i=t.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let n=i.scrollWidth;return i.remove(),n}var lw="mdc-line-ripple--active",kc="mdc-line-ripple--deactivating",cw=(()=>{let t=class t{constructor(n,o){this._elementRef=n,this._handleTransitionEnd=r=>{let s=this._elementRef.nativeElement.classList,a=s.contains(kc);r.propertyName==="opacity"&&a&&s.remove(lw,kc)},o.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(kc),n.add(lw)}deactivate(){this._elementRef.nativeElement.classList.add(kc)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(ie))},t.\u0275dir=q({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let e=t;return e})(),dw=(()=>{let t=class t{constructor(n,o){this._elementRef=n,this._ngZone=o,this.open=!1}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(ie))},t.\u0275cmp=W({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(o,r){if(o&1&&be(YA,5),o&2){let s;ne(s=oe())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(o,r){o&2&&me("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Y],attrs:QA,ngContentSelectors:ZA,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(o,r){o&1&&(Ae(),j(0,"div",1),w(1,"div",2,0),fe(3),y(),j(4,"div",3))},encapsulation:2,changeDetection:0});let e=t;return e})(),DO={transitionMessages:an("transitionMessages",[Vo("enter",bt({opacity:1,transform:"translateY(0%)"})),Bt("void => enter",[bt({opacity:0,transform:"translateY(-5px)"}),Xt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},pa=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=q({type:t});let e=t;return e})();var ga=new $("MatFormField"),IO=new $("MAT_FORM_FIELD_DEFAULT_OPTIONS"),uw=0,hw="fill",MO="auto",pw="fixed",FO="translateY(-50%)",kr=(()=>{let t=class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=en(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||MO}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){let o=this._appearance,r=n||this._defaults?.appearance||hw;this._appearance=r,this._appearance==="outline"&&this._appearance!==o&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||pw}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||pw}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,o,r,s,a,l,c,d){this._elementRef=n,this._changeDetectorRef=o,this._dir=s,this._platform=a,this._defaults=l,this._animationMode=c,this._labelChild=sm(Pc),this._hideRequiredMarker=!1,this.color="primary",this._appearance=hw,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${uw++}`,this._hintLabelId=`mat-mdc-hint-${uw++}`,this._subscriptAnimationState="",this._destroyed=new K,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=L(ct),this.getLabelId=li(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=li(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(n){let o=this._control,r="mat-mdc-form-field-type-";n&&this._elementRef.nativeElement.classList.remove(r+n.controlType),o.controlType&&this._elementRef.nativeElement.classList.add(r+o.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=o.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),o.ngControl&&o.ngControl.valueChanges&&(this._valueChanges=o.ngControl.valueChanges.pipe(Ie(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),yt(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Fa(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ie(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(n){let o=this._control?this._control.ngControl:null;return o&&o[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let o=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,r=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;o?n.push(o.id):this._hintLabel&&n.push(this._hintLabelId),r&&n.push(r.id)}else this._errorChildren&&n.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let o=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,l=o?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,u=a?.getBoundingClientRect().width??0,h=this._dir.value==="rtl"?"-1":"1",p=`${l+c}px`,C=`calc(${h} * (${p} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${FO} translateX(${C})
    )`;let m=l+c+d+u;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${m}px)`)}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let o=n.getRootNode();return o&&o!==n}return document.documentElement.contains(n)}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(Te),v(ie),v($t),v(ze),v(IO,8),v(ht,8),v(le))},t.\u0275cmp=W({type:t,selectors:[["mat-form-field"]],contentQueries:function(o,r,s){if(o&1&&(hm(s,r._labelChild,Pc,5),Ve(s,pa,5),Ve(s,xO,5),Ve(s,EO,5),Ve(s,SO,5),Ve(s,sw,5)),o&2){pm();let a;ne(a=oe())&&(r._formFieldControl=a.first),ne(a=oe())&&(r._prefixChildren=a),ne(a=oe())&&(r._suffixChildren=a),ne(a=oe())&&(r._errorChildren=a),ne(a=oe())&&(r._hintChildren=a)}},viewQuery:function(o,r){if(o&1&&(be(XA,5),be(JA,5),be(eO,5),be(tO,5),be(iO,5),be(aw,5),be(dw,5),be(cw,5)),o&2){let s;ne(s=oe())&&(r._textField=s.first),ne(s=oe())&&(r._iconPrefixContainer=s.first),ne(s=oe())&&(r._textPrefixContainer=s.first),ne(s=oe())&&(r._iconSuffixContainer=s.first),ne(s=oe())&&(r._textSuffixContainer=s.first),ne(s=oe())&&(r._floatingLabel=s.first),ne(s=oe())&&(r._notchedOutline=s.first),ne(s=oe())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(o,r){o&2&&me("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[we([{provide:ga,useExisting:t},{provide:gw,useExisting:t}]),Y],ngContentSelectors:oO,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(o,r){if(o&1){let s=ue();Ae(nO),I(0,aO,1,1,"ng-template",null,0,Dn),w(2,"div",6,1),G("click",function(l){return M(s),F(r._control.onContainerClick(l))}),I(4,lO,1,0,"div",7),w(5,"div",8),I(6,uO,2,2,"div",9)(7,hO,3,0,"div",10)(8,pO,3,0,"div",11),w(9,"div",12),I(10,mO,1,1,null,13),fe(11),y(),I(12,fO,3,0,"div",14)(13,vO,3,0,"div",15),y(),I(14,CO,1,0,"div",16),y(),w(15,"div",17),I(16,bO,2,1,"div",18)(17,yO,5,2,"div",19),y()}if(o&2){let s;f(2),me("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),f(2),Le(!r._hasOutline()&&!r._control.disabled?4:-1),f(2),Le(r._hasOutline()?6:-1),f(),Le(r._hasIconPrefix?7:-1),f(),Le(r._hasTextPrefix?8:-1),f(2),Le(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),f(2),Le(r._hasTextSuffix?12:-1),f(),Le(r._hasIconSuffix?13:-1),f(),Le(r._hasOutline()?-1:14),f(),me("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),f(),Le((s=r._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[aw,dw,Mt,cw,sw],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[DO.transitionMessages]},changeDetection:0});let e=t;return e})(),Pr=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Je,Se,Cb,Je]});let e=t;return e})();var kO=["trigger"],PO=["panel"],AO=[[["mat-select-trigger"]],"*"],OO=["mat-select-trigger","*"];function LO(e,t){if(e&1&&(w(0,"span",4),z(1),y()),e&2){let i=S();f(),je(i.placeholder)}}function NO(e,t){e&1&&fe(0)}function VO(e,t){if(e&1&&(w(0,"span",11),z(1),y()),e&2){let i=S(2);f(),je(i.triggerValue)}}function HO(e,t){if(e&1&&(w(0,"span",5),I(1,NO,1,0)(2,VO,2,1,"span",11),y()),e&2){let i=S();f(),Le(i.customTrigger?1:2)}}function BO(e,t){if(e&1){let i=ue();w(0,"div",12,1),G("@transformPanel.done",function(o){M(i);let r=S();return F(r._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){M(i);let r=S();return F(r._handleKeydown(o))}),fe(2,1),y()}if(e&2){let i=S();lm("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",i._getPanelTheme(),""),b("ngClass",i.panelClass)("@transformPanel","showing"),V("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}var zO={transformPanelWrap:an("transformPanelWrap",[Bt("* => void",Nm("@transformPanel",[Lm()],{optional:!0}))]),transformPanel:an("transformPanel",[Vo("void",bt({opacity:0,transform:"scale(1, 0.8)"})),Bt("void => showing",Xt("120ms cubic-bezier(0, 0, 0.2, 1)",bt({opacity:1,transform:"scale(1, 1)"}))),Bt("* => void",Xt("100ms linear",bt({opacity:0})))])};var fw=0,GO=new $("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let e=L(qn);return()=>e.scrollStrategies.reposition()}});var WO=new $("MAT_SELECT_CONFIG");var jO=new $("MatSelectTrigger"),Xp=class{constructor(t,i){this.source=t,this.value=i}},vw=(()=>{let t=class t{_scrollOptionIntoView(n){let o=this.options.toArray()[n];if(o){let r=this.panel.nativeElement,s=Gb(n,this.options,this.optionGroups),a=o._getHostElement();n===0&&s===1?r.scrollTop=0:r.scrollTop=Wb(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(n){return new Xp(this,n)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ki.required)??!1}set required(n){this._required=n,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(n){this._selectionModel,this._multiple=n}get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){this._assignValue(n)&&this._onChange(n)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get id(){return this._id}set id(n){this._id=n||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,o,r,s,a,l,c,d,u,h,p,g,C,m){this._viewportRuler=n,this._changeDetectorRef=o,this._elementRef=a,this._dir=l,this._parentFormField=u,this.ngControl=h,this._liveAnnouncer=C,this._defaultOptions=m,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(x,R)=>x===R,this._uid=`mat-select-${fw++}`,this._triggerAriaLabelledBy=null,this._destroy=new K,this.stateChanges=new K,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${fw++}`,this._panelDoneAnimatingStream=new K,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new K,this.optionSelectionChanges=Wr(()=>{let x=this.options;return x?x.changes.pipe(_i(x),at(()=>yt(...x.map(R=>R.onSelectionChange)))):this._initialized.pipe(at(()=>this.optionSelectionChanges))}),this.openedChange=new _,this._openedStream=this.openedChange.pipe(rt(x=>x),he(()=>{})),this._closedStream=this.openedChange.pipe(rt(x=>!x),he(()=>{})),this.selectionChange=new _,this.valueChange=new _,this._trackedModal=null,this._skipPredicate=x=>this.panelOpen?!1:x.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),m?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=m.typeaheadDebounceInterval),this._errorStateTracker=new Mr(s,h,d,c,this.stateChanges),this._scrollStrategyFactory=g,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(p)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ec(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(jr(),Ie(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ie(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ie(this._destroy)).subscribe(n=>{n.added.forEach(o=>o.select()),n.removed.forEach(o=>o.deselect())}),this.options.changes.pipe(_i(null),Ie(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let n=this._getTriggerAriaLabelledby(),o=this.ngControl;if(n!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=n,n?r.setAttribute("aria-labelledby",n):r.removeAttribute("aria-labelledby")}o&&(this._previousControl!==o.control&&(this._previousControl!==void 0&&o.disabled!==null&&o.disabled!==this.disabled&&(this.disabled=o.disabled),this._previousControl=o.control),this.updateErrorState())}ngOnChanges(n){(n.disabled||n.userAriaDescribedBy)&&this.stateChanges.next(),n.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let n=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;let o=`${this.id}-panel`;this._trackedModal&&mc(this._trackedModal,"aria-owns",o),Mp(n,"aria-owns",o),this._trackedModal=n}_clearFromModal(){if(!this._trackedModal)return;let n=`${this.id}-panel`;mc(this._trackedModal,"aria-owns",n),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(n){this._assignValue(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let n=this._selectionModel.selected.map(o=>o.viewValue);return this._isRtl()&&n.reverse(),n.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(n){this.disabled||(this.panelOpen?this._handleOpenKeydown(n):this._handleClosedKeydown(n))}_handleClosedKeydown(n){let o=n.keyCode,r=o===40||o===38||o===37||o===39,s=o===13||o===32,a=this._keyManager;if(!a.isTyping()&&s&&!Vi(n)||(this.multiple||n.altKey)&&r)n.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;a.onKeydown(n);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(n){let o=this._keyManager,r=n.keyCode,s=r===40||r===38,a=o.isTyping();if(s&&n.altKey)n.preventDefault(),this.close();else if(!a&&(r===13||r===32)&&o.activeItem&&!Vi(n))n.preventDefault(),o.activeItem._selectViaInteraction();else if(!a&&this._multiple&&r===65&&n.ctrlKey){n.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=o.activeItemIndex;o.onKeydown(n),this._multiple&&s&&n.shiftKey&&o.activeItem&&o.activeItemIndex!==l&&o.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Rt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(n){if(this.options.forEach(o=>o.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&n)Array.isArray(n),n.forEach(o=>this._selectOptionByValue(o)),this._sortValues();else{let o=this._selectOptionByValue(n);o?this._keyManager.updateActiveItem(o):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(n){let o=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return r.value!=null&&this._compareWith(r.value,n)}catch{return!1}});return o&&this._selectionModel.select(o),o}_assignValue(n){return n!==this._value||this._multiple&&Array.isArray(n)?(this.options&&this._setSelectionByValue(n),this._value=n,!0):!1}_getOverlayWidth(n){return this.panelWidth==="auto"?(n instanceof ha?n.elementRef:n||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let n of this.options)n._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new hc(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let n=yt(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ie(n)).subscribe(o=>{this._onSelect(o.source,o.isUserInput),o.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),yt(...this.options.map(o=>o._stateChanges)).pipe(Ie(n)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(n,o){let r=this._selectionModel.isSelected(n);n.value==null&&!this._multiple?(n.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(n.value)):(r!==n.selected&&(n.selected?this._selectionModel.select(n):this._selectionModel.deselect(n)),o&&this._keyManager.setActiveItem(n),this.multiple&&(this._sortValues(),o&&this.focus())),r!==this._selectionModel.isSelected(n)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let n=this.options.toArray();this._selectionModel.sort((o,r)=>this.sortComparator?this.sortComparator(o,r,n):n.indexOf(o)-n.indexOf(r)),this.stateChanges.next()}}_propagateChanges(n){let o;this.multiple?o=this.selected.map(r=>r.value):o=this.selected?this.selected.value:n,this._value=o,this.valueChange.emit(o),this._onChange(o),this.selectionChange.emit(this._getChangeEvent(o)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let n=-1;for(let o=0;o<this.options.length;o++)if(!this.options.get(o).disabled){n=o;break}this._keyManager.setActiveItem(n)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(n){this._elementRef.nativeElement.focus(n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let n=this._parentFormField?.getLabelId(),o=n?n+" ":"";return this.ariaLabelledby?o+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let n=this._parentFormField?.getLabelId(),o=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(n){this.openedChange.emit(n)}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};t.\u0275fac=function(o){return new(o||t)(v(tn),v(Te),v(ie),v(wc),v(Q),v($t,8),v(As,8),v(di,8),v(ga,8),v(Pi,10),Ei("tabindex"),v(GO),v(Mb),v(WO,8))},t.\u0275cmp=W({type:t,selectors:[["mat-select"]],contentQueries:function(o,r,s){if(o&1&&(Ve(s,jO,5),Ve(s,_c,5),Ve(s,Np,5)),o&2){let a;ne(a=oe())&&(r.customTrigger=a.first),ne(a=oe())&&(r.options=a),ne(a=oe())&&(r.optionGroups=a)}},viewQuery:function(o,r){if(o&1&&(be(kO,5),be(PO,5),be(Qp,5)),o&2){let s;ne(s=oe())&&(r.trigger=s.first),ne(s=oe())&&(r.panel=s.first),ne(s=oe())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(o,r){o&1&&G("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),o&2&&(V("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),me("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",O],disableRipple:[2,"disableRipple","disableRipple",O],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:Ne(n)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",O],placeholder:"placeholder",required:[2,"required","required",O],multiple:[2,"multiple","multiple",O],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",O],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ne],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[we([{provide:pa,useExisting:t},{provide:Lp,useExisting:t}]),ve,We,Y],ngContentSelectors:OO,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(o,r){if(o&1){let s=ue();Ae(AO),w(0,"div",2,0),G("click",function(){return M(s),F(r.open())}),w(3,"div",3),I(4,LO,2,1,"span",4)(5,HO,3,1,"span",5),y(),w(6,"div",6)(7,"div",7),Ke(),w(8,"svg",8),j(9,"path",9),y()()()(),I(10,BO,3,9,"ng-template",10),G("backdropClick",function(){return M(s),F(r.close())})("attach",function(){return M(s),F(r._onAttached())})("detach",function(){return M(s),F(r.close())})}if(o&2){let s=It(1);f(3),V("id",r._valueId),f(),Le(r.empty?4:5),f(6),b("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[ha,Qp,ut],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[zO.transformPanel]},changeDetection:0});let e=t;return e})();var UO=["tooltip"],$O=20;var KO=new $("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let e=L(qn);return()=>e.scrollStrategies.reposition({scrollThrottle:$O})}});function qO(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var YO=new $("mat-tooltip-default-options",{providedIn:"root",factory:qO});var Cw="tooltip-panel",bw=Nt({passive:!0}),QO=8,ZO=8,XO=24,JO=200,ww=(()=>{let t=class t{get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=en(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){let o=en(n);this._disabled!==o&&(this._disabled=o,o?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=Cn(n)}get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=Cn(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(n){let o=this._message;this._message=n!=null?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(o)}get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(n,o,r,s,a,l,c,d,u,h,p,g){this._overlay=n,this._elementRef=o,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=l,this._ariaDescriber=c,this._focusMonitor=d,this._dir=h,this._defaultOptions=p,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=eL,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new K,this._injector=L(ct),this._scrollStrategy=u,this._document=g,p&&(this._showDelay=p.showDelay,this._hideDelay=p.hideDelay,p.position&&(this.position=p.position),p.positionAtOrigin&&(this.positionAtOrigin=p.positionAtOrigin),p.touchGestures&&(this.touchGestures=p.touchGestures),p.tooltipClass&&(this.tooltipClass=p.tooltipClass)),h.change.pipe(Ie(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=QO}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ie(this._destroyed)).subscribe(n=>{n?n==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let n=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([o,r])=>{n.removeEventListener(o,r,bw)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,o){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(o);this._detach(),this._portal=this._portal||new da(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Ie(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(n)}hide(n=this.hideDelay){let o=this._tooltipInstance;o&&(o.isVisible()?o.hide(n):(o._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&s._origin instanceof Q)return this._overlayRef;this._detach()}let o=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?n||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(o);return r.positionChanges.pipe(Ie(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${Cw}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ie(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ie(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ie(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!Vi(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){let o=n.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();o.withPositions([this._addOffset(E(E({},r.main),s.main)),this._addOffset(E(E({},r.fallback),s.fallback))])}_addOffset(n){let o=ZO,r=!this._dir||this._dir.value=="ltr";return n.originY==="top"?n.offsetY=-o:n.originY==="bottom"?n.offsetY=o:n.originX==="start"?n.offsetX=r?-o:o:n.originX==="end"&&(n.offsetX=r?o:-o),n}_getOrigin(){let n=!this._dir||this._dir.value=="ltr",o=this.position,r;o=="above"||o=="below"?r={originX:"center",originY:o=="above"?"top":"bottom"}:o=="before"||o=="left"&&n||o=="right"&&!n?r={originX:"start",originY:"center"}:(o=="after"||o=="right"&&n||o=="left"&&!n)&&(r={originX:"end",originY:"center"});let{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){let n=!this._dir||this._dir.value=="ltr",o=this.position,r;o=="above"?r={overlayX:"center",overlayY:"bottom"}:o=="below"?r={overlayX:"center",overlayY:"top"}:o=="before"||o=="left"&&n||o=="right"&&!n?r={overlayX:"end",overlayY:"center"}:(o=="after"||o=="right"&&n||o=="left"&&!n)&&(r={overlayX:"start",overlayY:"center"});let{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Qt(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,o){return this.position==="above"||this.position==="below"?o==="top"?o="bottom":o==="bottom"&&(o="top"):n==="end"?n="start":n==="start"&&(n="end"),{x:n,y:o}}_updateCurrentPositionClass(n){let{overlayY:o,originX:r,originY:s}=n,a;if(o==="center"?this._dir&&this._dir.value==="rtl"?a=r==="end"?"left":"right":a=r==="start"?"left":"right":a=o==="bottom"&&s==="top"?"above":"below",a!==this._currentPosition){let l=this._overlayRef;if(l){let c=`${this._cssClassPrefix}-${Cw}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{this._setupPointerExitEventsIfNeeded();let o;n.x!==void 0&&n.y!==void 0&&(o=n),this.show(void 0,o)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{let o=n.targetTouches?.[0],r=o?{x:o.clientX,y:o.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",o=>{let r=o.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",o=>this._wheelListener(o)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let o=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};n.push(["touchend",o],["touchcancel",o])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([o,r])=>{this._elementRef.nativeElement.addEventListener(o,r,bw)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){let o=this._document.elementFromPoint(n.clientX,n.clientY),r=this._elementRef.nativeElement;o!==r&&!r.contains(o)&&this.hide()}}_disableNativeGesturesIfNecessary(){let n=this.touchGestures;if(n!=="off"){let o=this._elementRef.nativeElement,r=o.style;(n==="on"||o.nodeName!=="INPUT"&&o.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(n==="on"||!o.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(n){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,n,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}};t.\u0275fac=function(o){return new(o||t)(v(qn),v(Q),v(Io),v(Ct),v(ie),v(ze),v(Db),v(Rr),v(KO),v($t),v(YO,8),v(le))},t.\u0275dir=q({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(o,r){o&2&&me("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let e=t;return e})(),eL=(()=>{let t=class t{constructor(n,o,r){this._changeDetectorRef=n,this._elementRef=o,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new K,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=r==="NoopAnimations"}show(n){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>XO&&n.width>=JO}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){let o=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(o.classList.remove(n?s:r),o.classList.add(n?r:s),this._isVisible!==n&&(this._isVisible=n,this._changeDetectorRef.markForCheck()),n&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(o);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(o.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}};t.\u0275fac=function(o){return new(o||t)(v(Te),v(Q),v(ht,8))},t.\u0275cmp=W({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(o,r){if(o&1&&be(UO,7),o&2){let s;ne(s=oe())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(o,r){o&1&&G("mouseleave",function(a){return r._handleMouseLeave(a)})},standalone:!0,features:[Y],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(o,r){if(o&1){let s=ue();w(0,"div",1,0),G("animationend",function(l){return M(s),F(r._handleAnimationEnd(l))}),w(2,"div",2),z(3),y()()}o&2&&(me("mdc-tooltip--multiline",r._isMultiline),b("ngClass",r.tooltipClass),f(3),je(r.message))},dependencies:[ut],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let e=t;return e})();function tL(e,t){if(e&1&&(w(0,"mat-option",17),z(1),y()),e&2){let i=t.$implicit;b("value",i),f(),Be(" ",i," ")}}function iL(e,t){if(e&1){let i=ue();w(0,"mat-form-field",14)(1,"mat-select",16,0),G("selectionChange",function(o){M(i);let r=S(2);return F(r._changePageSize(o.value))}),dm(3,tL,2,2,"mat-option",17,cm),y(),w(5,"div",18),G("click",function(){M(i);let o=It(2);return F(o.open())}),y()()}if(e&2){let i=S(2);b("appearance",i._formFieldAppearance)("color",i.color),f(),b("value",i.pageSize)("disabled",i.disabled)("aria-labelledby",i._pageSizeLabelId)("panelClass",i.selectConfig.panelClass||"")("disableOptionCentering",i.selectConfig.disableOptionCentering),f(2),um(i._displayedPageSizeOptions)}}function nL(e,t){if(e&1&&(w(0,"div",15),z(1),y()),e&2){let i=S(2);f(),je(i.pageSize)}}function oL(e,t){if(e&1&&(w(0,"div",3)(1,"div",13),z(2),y(),I(3,iL,6,7,"mat-form-field",14)(4,nL,2,1,"div",15),y()),e&2){let i=S();f(),V("id",i._pageSizeLabelId),f(),Be(" ",i._intl.itemsPerPageLabel," "),f(),Le(i._displayedPageSizeOptions.length>1?3:-1),f(),Le(i._displayedPageSizeOptions.length<=1?4:-1)}}function rL(e,t){if(e&1){let i=ue();w(0,"button",19),G("click",function(){M(i);let o=S();return F(o.firstPage())}),Ke(),w(1,"svg",8),j(2,"path",20),y()()}if(e&2){let i=S();b("matTooltip",i._intl.firstPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),V("aria-label",i._intl.firstPageLabel)}}function sL(e,t){if(e&1){let i=ue();w(0,"button",21),G("click",function(){M(i);let o=S();return F(o.lastPage())}),Ke(),w(1,"svg",8),j(2,"path",22),y()()}if(e&2){let i=S();b("matTooltip",i._intl.lastPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),V("aria-label",i._intl.lastPageLabel)}}var aL=(()=>{let t=class t{constructor(){this.changes=new K,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(n,o,r)=>{if(r==0||o==0)return`0 of ${r}`;r=Math.max(r,0);let s=n*o,a=s<r?Math.min(s+o,r):s+o;return`${s+1} \u2013 ${a} of ${r}`}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var lL=50;var cL=new $("MAT_PAGINATOR_DEFAULT_OPTIONS"),dL=0,Jp=(()=>{let t=class t{get pageIndex(){return this._pageIndex}set pageIndex(n){this._pageIndex=Math.max(n||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(n){this._length=n||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(n){this._pageSize=Math.max(n||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(n){this._pageSizeOptions=(n||[]).map(o=>Ne(o,0)),this._updateDisplayedPageSizeOptions()}constructor(n,o,r){if(this._intl=n,this._changeDetectorRef=o,this._pageSizeLabelId=`mat-paginator-page-size-label-${dL++}`,this._isInitialized=!1,this._initializedStream=new Sa(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new _,this.initialized=this._initializedStream,this._intlChanges=n.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){let{pageSize:s,pageSizeOptions:a,hidePageSize:l,showFirstLastButtons:c}=r;s!=null&&(this._pageSize=s),a!=null&&(this._pageSizeOptions=a),l!=null&&(this.hidePageSize=l),c!=null&&(this.showFirstLastButtons=c)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let n=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(n)}previousPage(){if(!this.hasPreviousPage())return;let n=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(n)}firstPage(){if(!this.hasPreviousPage())return;let n=this.pageIndex;this.pageIndex=0,this._emitPageEvent(n)}lastPage(){if(!this.hasNextPage())return;let n=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(n)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let n=this.getNumberOfPages()-1;return this.pageIndex<n&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(n){let o=this.pageIndex*this.pageSize,r=this.pageIndex;this.pageIndex=Math.floor(o/n)||0,this.pageSize=n,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:lL),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((n,o)=>n-o),this._changeDetectorRef.markForCheck())}_emitPageEvent(n){this.page.emit({previousPageIndex:n,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}};t.\u0275fac=function(o){return new(o||t)(v(aL),v(Te),v(cL,8))},t.\u0275cmp=W({type:t,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Ne],length:[2,"length","length",Ne],pageSize:[2,"pageSize","pageSize",Ne],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",O],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",O],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",O]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[ve,Y],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(o,r){o&1&&(w(0,"div",1)(1,"div",2),I(2,oL,5,4,"div",3),w(3,"div",4)(4,"div",5),z(5),y(),I(6,rL,3,5,"button",6),w(7,"button",7),G("click",function(){return r.previousPage()}),Ke(),w(8,"svg",8),j(9,"path",9),y()(),Da(),w(10,"button",10),G("click",function(){return r.nextPage()}),Ke(),w(11,"svg",8),j(12,"path",11),y()(),I(13,sL,3,5,"button",12),y()()()),o&2&&(f(2),Le(r.hidePageSize?-1:2),f(3),Be(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),f(),Le(r.showFirstLastButtons?6:-1),f(),b("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),V("aria-label",r._intl.previousPageLabel),f(3),b("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),V("aria-label",r._intl.nextPageLabel),f(3),Le(r.showFirstLastButtons?13:-1))},dependencies:[kr,vw,_c,Kb,ww],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0});let e=t;return e})();var uL=new $("MAT_SORT_DEFAULT_OPTIONS"),yw=(()=>{let t=class t{get direction(){return this._direction}set direction(n){this._direction=n}constructor(n){this._defaultOptions=n,this._initializedStream=new Sa(1),this.sortables=new Map,this._stateChanges=new K,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new _,this.initialized=this._initializedStream}register(n){this.sortables.set(n.id,n)}deregister(n){this.sortables.delete(n.id)}sort(n){this.active!=n.id?(this.active=n.id,this.direction=n.start?n.start:this.start):this.direction=this.getNextSortDirection(n),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(n){if(!n)return"";let o=n?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,r=hL(n.start||this.start,o),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};t.\u0275fac=function(o){return new(o||t)(v(uL,8))},t.\u0275dir=q({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",O],disabled:[2,"matSortDisabled","disabled",O]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[ve,We]});let e=t;return e})();function hL(e,t){let i=["asc","desc"];return e=="desc"&&i.reverse(),t||i.push(""),i}var C$=Bb.ENTERING+" "+Hb.STANDARD_CURVE;var Sw=Nt({passive:!0}),_w=(()=>{let t=class t{constructor(n,o){this._platform=n,this._ngZone=o,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Bi;let o=st(n),r=this._monitoredElements.get(o);if(r)return r.subject;let s=new K,a="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!o.classList.contains(a)?(o.classList.add(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&o.classList.contains(a)&&(o.classList.remove(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",l,Sw),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:s,unlisten:()=>{o.removeEventListener("animationstart",l,Sw)}}),s}stopMonitoring(n){let o=st(n),r=this._monitoredElements.get(o);r&&(r.unlisten(),r.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((n,o)=>this.stopMonitoring(o))}};t.\u0275fac=function(o){return new(o||t)(k(ze),k(ie))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var xw=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({});let e=t;return e})();var gL=new $("MAT_INPUT_VALUE_ACCESSOR"),mL=["button","checkbox","file","hidden","image","radio","range","reset","submit"],fL=0,Ew=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){this._disabled=en(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ki.required)??!1}set required(n){this._required=en(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&bp().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=en(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,o,r,s,a,l,c,d,u,h){this._elementRef=n,this._platform=o,this.ngControl=r,this._autofillMonitor=d,this._ngZone=u,this._formField=h,this._uid=`mat-input-${fL++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new K,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(C=>bp().has(C)),this._iOSKeyupListener=C=>{let m=C.target;!m.value&&m.selectionStart===0&&m.selectionEnd===0&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let p=this._elementRef.nativeElement,g=p.nodeName.toLowerCase();this._inputValueAccessor=c||p,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&u.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Mr(l,r,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=g==="select",this._isTextarea=g==="textarea",this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let o=this._elementRef.nativeElement;this._previousPlaceholder=n,n?o.setAttribute("placeholder",n):o.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){mL.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,o=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&o&&o.label)}else return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(ze),v(Pi,10),v(As,8),v(di,8),v(wc),v(gL,10),v(_w),v(ie),v(ga,8))},t.\u0275dir=q({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(o,r){o&1&&G("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),o&2&&(Lo("id",r.id)("disabled",r.disabled)("required",r.required),V("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),me("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[we([{provide:pa,useExisting:t}]),We]});let e=t;return e})(),Rw=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Je,Pr,Pr,xw,Je]});let e=t;return e})();var bL=[[["caption"]],[["colgroup"],["col"]],"*"],wL=["caption","colgroup, col","*"];function yL(e,t){e&1&&fe(0,2)}function SL(e,t){e&1&&(w(0,"thead",0),Pe(1,1),y(),w(2,"tbody",0),Pe(3,2)(4,3),y(),w(5,"tfoot",0),Pe(6,4),y())}function _L(e,t){e&1&&Pe(0,1)(1,2)(2,3)(3,4)}var Hi=new $("CDK_TABLE");var Hc=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(o){return new(o||t)(v(Dt))},t.\u0275dir=q({type:t,selectors:[["","cdkCellDef",""]],standalone:!0});let e=t;return e})(),Bc=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(o){return new(o||t)(v(Dt))},t.\u0275dir=q({type:t,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let e=t;return e})(),Mw=(()=>{let t=class t{constructor(n){this.template=n}};t.\u0275fac=function(o){return new(o||t)(v(Dt))},t.\u0275dir=q({type:t,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let e=t;return e})(),Ar=(()=>{let t=class t{get name(){return this._name}set name(n){this._setNameInput(n)}get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(n){n!==this._stickyEnd&&(this._stickyEnd=n,this._hasStickyChanged=!0)}constructor(n){this._table=n,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(n){n&&(this._name=n,this.cssClassFriendlyName=n.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};t.\u0275fac=function(o){return new(o||t)(v(Hi,8))},t.\u0275dir=q({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(o,r,s){if(o&1&&(Ve(s,Hc,5),Ve(s,Bc,5),Ve(s,Mw,5)),o&2){let a;ne(a=oe())&&(r.cell=a.first),ne(a=oe())&&(r.headerCell=a.first),ne(a=oe())&&(r.footerCell=a.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",O],stickyEnd:[2,"stickyEnd","stickyEnd",O]},standalone:!0,features:[we([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ve]});let e=t;return e})(),Oc=class{constructor(t,i){i.nativeElement.classList.add(...t._columnCssClassName)}},Fw=(()=>{let t=class t extends Oc{constructor(n,o){super(n,o)}};t.\u0275fac=function(o){return new(o||t)(v(Ar),v(Q))},t.\u0275dir=q({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[ge]});let e=t;return e})();var Tw=(()=>{let t=class t extends Oc{constructor(n,o){super(n,o);let r=n._table?._getCellRole();r&&o.nativeElement.setAttribute("role",r)}};t.\u0275fac=function(o){return new(o||t)(v(Ar),v(Q))},t.\u0275dir=q({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[ge]});let e=t;return e})(),Lc=class{constructor(){this.tasks=[],this.endTasks=[]}},Nc=new $("_COALESCED_STYLE_SCHEDULER"),tg=(()=>{let t=class t{constructor(n){this._currentSchedule=null,this._ngZone=L(ie)}schedule(n){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(n)}scheduleEnd(n){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(n)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Lc,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let n=this._currentSchedule;this._currentSchedule=new Lc;for(let o of n.tasks)o();for(let o of n.endTasks)o()}this._currentSchedule=null})))}};t.\u0275fac=function(o){return new(o||t)(k(ie))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();var ig=(()=>{let t=class t{constructor(n,o){this.template=n,this._differs=o}ngOnChanges(n){if(!this._columnsDiffer){let o=n.columns&&n.columns.currentValue||[];this._columnsDiffer=this._differs.find(o).create(),this._columnsDiffer.diff(o)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(n){return this instanceof ma?n.headerCell.template:this instanceof ng?n.footerCell.template:n.cell.template}};t.\u0275fac=function(o){return new(o||t)(v(Dt),v(Jn))},t.\u0275dir=q({type:t,features:[We]});let e=t;return e})(),ma=(()=>{let t=class t extends ig{get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}constructor(n,o,r){super(n,o),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(n){super.ngOnChanges(n)}hasStickyChanged(){let n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(o){return new(o||t)(v(Dt),v(Jn),v(Hi,8))},t.\u0275dir=q({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",O]},standalone:!0,features:[ve,ge,We]});let e=t;return e})(),ng=(()=>{let t=class t extends ig{get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}constructor(n,o,r){super(n,o),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(n){super.ngOnChanges(n)}hasStickyChanged(){let n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}};t.\u0275fac=function(o){return new(o||t)(v(Dt),v(Jn),v(Hi,8))},t.\u0275dir=q({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",O]},standalone:!0,features:[ve,ge,We]});let e=t;return e})(),zc=(()=>{let t=class t extends ig{constructor(n,o,r){super(n,o),this._table=r}};t.\u0275fac=function(o){return new(o||t)(v(Dt),v(Jn),v(Hi,8))},t.\u0275dir=q({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[ge]});let e=t;return e})(),Fo=(()=>{let t=class t{constructor(n){this._viewContainer=n,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}};t.mostRecentCellOutlet=null,t.\u0275fac=function(o){return new(o||t)(v(Ct))},t.\u0275dir=q({type:t,selectors:[["","cdkCellOutlet",""]],standalone:!0});let e=t;return e})(),og=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=W({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[Y],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(o,r){o&1&&Pe(0,0)},dependencies:[Fo],encapsulation:2});let e=t;return e})();var rg=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=W({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[Y],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(o,r){o&1&&Pe(0,0)},dependencies:[Fo],encapsulation:2});let e=t;return e})(),kw=(()=>{let t=class t{constructor(n){this.templateRef=n,this._contentClassName="cdk-no-data-row"}};t.\u0275fac=function(o){return new(o||t)(v(Dt))},t.\u0275dir=q({type:t,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let e=t;return e})(),Dw=["top","bottom","left","right"],eg=class{constructor(t,i,n,o,r=!0,s=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=i,this.direction=n,this._coalescedStyleScheduler=o,this._isBrowser=r,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${i}-border-elem-top`,bottom:`${i}-border-elem-bottom`,left:`${i}-border-elem-left`,right:`${i}-border-elem-right`}}clearStickyPositioning(t,i){let n=[];for(let o of t)if(o.nodeType===o.ELEMENT_NODE){n.push(o);for(let r=0;r<o.children.length;r++)n.push(o.children[r])}this._coalescedStyleScheduler.schedule(()=>{for(let o of n)this._removeStickyStyle(o,i)})}updateStickyColumns(t,i,n,o=!0){if(!t.length||!this._isBrowser||!(i.some(r=>r)||n.some(r=>r))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let r=t[0],s=r.children.length,a=this._getCellWidths(r,o),l=this._getStickyStartColumnPositions(a,i),c=this._getStickyEndColumnPositions(a,n),d=i.lastIndexOf(!0),u=n.indexOf(!0),h=this.direction==="rtl",p=h?"right":"left",g=h?"left":"right";for(let C of t)for(let m=0;m<s;m++){let x=C.children[m];i[m]&&this._addStickyStyle(x,p,l[m],m===d),n[m]&&this._addStickyStyle(x,g,c[m],m===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:d===-1?[]:a.slice(0,d+1).map((C,m)=>i[m]?C:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:u===-1?[]:a.slice(u).map((C,m)=>n[m+u]?C:null).reverse()}))})}stickRows(t,i,n){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let o=n==="bottom"?t.slice().reverse():t,r=n==="bottom"?i.slice().reverse():i,s=[],a=[],l=[];for(let d=0,u=0;d<o.length;d++){if(!r[d])continue;s[d]=u;let h=o[d];l[d]=this._isNativeHtmlTable?Array.from(h.children):[h];let p=h.getBoundingClientRect().height;u+=p,a[d]=p}let c=r.lastIndexOf(!0);for(let d=0;d<o.length;d++){if(!r[d])continue;let u=s[d],h=d===c;for(let p of l[d])this._addStickyStyle(p,n,u,h)}n==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:l})})}updateStickyFooterContainer(t,i){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let n=t.querySelector("tfoot");n&&(i.some(o=>!o)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))})}_removeStickyStyle(t,i){for(let o of i)t.style[o]="",t.classList.remove(this._borderCellCss[o]);Dw.some(o=>i.indexOf(o)===-1&&t.style[o])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,i,n,o){t.classList.add(this._stickCellCss),o&&t.classList.add(this._borderCellCss[i]),t.style[i]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let i={top:100,bottom:10,left:1,right:1},n=0;for(let o of Dw)t.style[o]&&(n+=i[o]);return n?`${n}`:""}_getCellWidths(t,i=!0){if(!i&&this._cachedCellWidths.length)return this._cachedCellWidths;let n=[],o=t.children;for(let r=0;r<o.length;r++){let s=o[r];n.push(s.getBoundingClientRect().width)}return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,i){let n=[],o=0;for(let r=0;r<t.length;r++)i[r]&&(n[r]=o,o+=t[r]);return n}_getStickyEndColumnPositions(t,i){let n=[],o=0;for(let r=t.length;r>0;r--)i[r]&&(n[r]=o,o+=t[r]);return n}};var Vc=new $("CDK_SPL");var sg=(()=>{let t=class t{constructor(n,o){this.viewContainer=n,this.elementRef=o;let r=L(Hi);r._rowOutlet=this,r._outletAssigned()}};t.\u0275fac=function(o){return new(o||t)(v(Ct),v(Q))},t.\u0275dir=q({type:t,selectors:[["","rowOutlet",""]],standalone:!0});let e=t;return e})(),ag=(()=>{let t=class t{constructor(n,o){this.viewContainer=n,this.elementRef=o;let r=L(Hi);r._headerRowOutlet=this,r._outletAssigned()}};t.\u0275fac=function(o){return new(o||t)(v(Ct),v(Q))},t.\u0275dir=q({type:t,selectors:[["","headerRowOutlet",""]],standalone:!0});let e=t;return e})(),lg=(()=>{let t=class t{constructor(n,o){this.viewContainer=n,this.elementRef=o;let r=L(Hi);r._footerRowOutlet=this,r._outletAssigned()}};t.\u0275fac=function(o){return new(o||t)(v(Ct),v(Q))},t.\u0275dir=q({type:t,selectors:[["","footerRowOutlet",""]],standalone:!0});let e=t;return e})(),cg=(()=>{let t=class t{constructor(n,o){this.viewContainer=n,this.elementRef=o;let r=L(Hi);r._noDataRowOutlet=this,r._outletAssigned()}};t.\u0275fac=function(o){return new(o||t)(v(Ct),v(Q))},t.\u0275dir=q({type:t,selectors:[["","noDataRowOutlet",""]],standalone:!0});let e=t;return e})();var dg=(()=>{let t=class t{_getCellRole(){if(this._cellRoleInternal===void 0){let n=this._elementRef.nativeElement.getAttribute("role"),o=n==="grid"||n==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&o==="cell"?null:o}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(n){this._trackByFn=n}get dataSource(){return this._dataSource}set dataSource(n){this._dataSource!==n&&this._switchDataSource(n)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(n){this._multiTemplateDataRows=n,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(n){this._fixedLayout=n,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(n,o,r,s,a,l,c,d,u,h,p,g){this._differs=n,this._changeDetectorRef=o,this._elementRef=r,this._dir=a,this._platform=c,this._viewRepeater=d,this._coalescedStyleScheduler=u,this._viewportRuler=h,this._stickyPositioningListener=p,this._onDestroy=new K,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new _,this.viewChange=new Ze({start:0,end:Number.MAX_VALUE}),this._injector=L(ct),s||r.nativeElement.setAttribute("role","table"),this._document=l,this._isServer=!c.isBrowser,this._isNativeHtmlTable=r.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((n,o)=>this.trackBy?this.trackBy(o.dataIndex,o.data):o),this._viewportRuler.change().pipe(Ie(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(n=>{n?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Rc(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let n=this._dataDiffer.diff(this._renderRows);if(!n){this._updateNoDataRow(),this.contentChanged.next();return}let o=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(n,o,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{r.operation===Fr.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),n.forEachIdentityChange(r=>{let s=o.get(r.currentIndex);s.context.$implicit=r.item.data}),this._updateNoDataRow(),Qt(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(n){this._customColumnDefs.add(n)}removeColumnDef(n){this._customColumnDefs.delete(n)}addRowDef(n){this._customRowDefs.add(n)}removeRowDef(n){this._customRowDefs.delete(n)}addHeaderRowDef(n){this._customHeaderRowDefs.add(n),this._headerRowDefChanged=!0}removeHeaderRowDef(n){this._customHeaderRowDefs.delete(n),this._headerRowDefChanged=!0}addFooterRowDef(n){this._customFooterRowDefs.add(n),this._footerRowDefChanged=!0}removeFooterRowDef(n){this._customFooterRowDefs.delete(n),this._footerRowDefChanged=!0}setNoDataRow(n){this._customNoDataRow=n}updateStickyHeaderRowStyles(){let n=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=Iw(this._headerRowOutlet,"thead");r&&(r.style.display=n.length?"":"none")}let o=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(n,["top"]),this._stickyStyler.stickRows(n,o,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let n=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=Iw(this._footerRowOutlet,"tfoot");r&&(r.style.display=n.length?"":"none")}let o=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(n,["bottom"]),this._stickyStyler.stickRows(n,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let n=this._getRenderedRows(this._headerRowOutlet),o=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...n,...o,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),n.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{let a=[];for(let l=0;l<o.length;l++)this._renderRows[l].rowDef===s&&a.push(o[l]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let o=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||o,this._forceRecalculateCellWidths=o,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let n=[],o=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r],a=this._getRenderRowsForData(s,r,o.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let l=0;l<a.length;l++){let c=a[l],d=this._cachedRenderRowsMap.get(c.data);d.has(c.rowDef)?d.get(c.rowDef).push(c):d.set(c.rowDef,[c]),n.push(c)}}return n}_getRenderRowsForData(n,o,r){return this._getRowDefs(n,o).map(a=>{let l=r&&r.has(a)?r.get(a):[];if(l.length){let c=l.shift();return c.dataIndex=o,c}else return{data:n,rowDef:a,dataIndex:o}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ac(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(o=>{this._columnDefsByName.has(o.name),this._columnDefsByName.set(o.name,o)})}_cacheRowDefs(){this._headerRowDefs=Ac(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Ac(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Ac(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let n=this._rowDefs.filter(o=>!o.when);!this.multiTemplateDataRows&&n.length>1,this._defaultRowDef=n[0]}_renderUpdatedColumns(){let n=(a,l)=>a||!!l.getColumnsDiff(),o=this._rowDefs.reduce(n,!1);o&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(n,!1);r&&this._forceRenderHeaderRows();let s=this._footerRowDefs.reduce(n,!1);return s&&this._forceRenderFooterRows(),o||r||s}_switchDataSource(n){this._data=[],Rc(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),n||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=n}_observeRenderChanges(){if(!this.dataSource)return;let n;Rc(this.dataSource)?n=this.dataSource.connect(this):Zn(this.dataSource)?n=this.dataSource:Array.isArray(this.dataSource)&&(n=ae(this.dataSource)),this._renderChangeSubscription=n.pipe(Ie(this._onDestroy)).subscribe(o=>{this._data=o||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((n,o)=>this._renderRow(this._headerRowOutlet,n,o)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((n,o)=>this._renderRow(this._footerRowOutlet,n,o)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(n,o){let r=Array.from(o.columns||[]).map(l=>{let c=this._columnDefsByName.get(l);return c}),s=r.map(l=>l.sticky),a=r.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(n,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(n){let o=[];for(let r=0;r<n.viewContainer.length;r++){let s=n.viewContainer.get(r);o.push(s.rootNodes[0])}return o}_getRowDefs(n,o){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(o,n));else{let s=this._rowDefs.find(a=>a.when&&a.when(o,n))||this._defaultRowDef;s&&r.push(s)}return r.length,r}_getEmbeddedViewArgs(n,o){let r=n.rowDef,s={$implicit:n.data};return{templateRef:r.template,context:s,index:o}}_renderRow(n,o,r,s={}){let a=n.viewContainer.createEmbeddedView(o.template,s,r);return this._renderCellTemplateForItem(o,s),a}_renderCellTemplateForItem(n,o){for(let r of this._getCellTemplates(n))Fo.mostRecentCellOutlet&&Fo.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,o);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let n=this._rowOutlet.viewContainer;for(let o=0,r=n.length;o<r;o++){let a=n.get(o).context;a.count=r,a.first=o===0,a.last=o===r-1,a.even=o%2===0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[o].dataIndex,a.renderIndex=o):a.index=this._renderRows[o].dataIndex}}_getCellTemplates(n){return!n||!n.columns?[]:Array.from(n.columns,o=>{let r=this._columnDefsByName.get(o);return n.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let n=(o,r)=>o||r.hasStickyChanged();this._headerRowDefs.reduce(n,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(n,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(n,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let n=this._dir?this._dir.value:"ltr";this._stickyStyler=new eg(this._isNativeHtmlTable,this.stickyCssClass,n,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ae()).pipe(Ie(this._onDestroy)).subscribe(o=>{this._stickyStyler.direction=o,this.updateStickyColumnStyles()})}_getOwnDefs(n){return n.filter(o=>!o._table||o._table===this)}_updateNoDataRow(){let n=this._customNoDataRow||this._noDataRow;if(!n)return;let o=this._rowOutlet.viewContainer.length===0;if(o===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(o){let s=r.createEmbeddedView(n.templateRef),a=s.rootNodes[0];s.rootNodes.length===1&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(n._contentClassName))}else r.clear();this._isShowingNoDataRow=o,this._changeDetectorRef.markForCheck()}};t.\u0275fac=function(o){return new(o||t)(v(Jn),v(Te),v(Q),Ei("role"),v($t,8),v(le),v(ze),v(la),v(Nc),v(tn),v(Vc,12),v(ie,8))},t.\u0275cmp=W({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(o,r,s){if(o&1&&(Ve(s,kw,5),Ve(s,Ar,5),Ve(s,zc,5),Ve(s,ma,5),Ve(s,ng,5)),o&2){let a;ne(a=oe())&&(r._noDataRow=a.first),ne(a=oe())&&(r._contentColumnDefs=a),ne(a=oe())&&(r._contentRowDefs=a),ne(a=oe())&&(r._contentHeaderRowDefs=a),ne(a=oe())&&(r._contentFooterRowDefs=a)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(o,r){o&2&&me("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",O],fixedLayout:[2,"fixedLayout","fixedLayout",O]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[we([{provide:Hi,useExisting:t},{provide:la,useClass:Tr},{provide:Nc,useClass:tg},{provide:Vc,useValue:null}]),ve,Y],ngContentSelectors:wL,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(o,r){o&1&&(Ae(bL),fe(0),fe(1,1),I(2,yL,1,0)(3,SL,7,0)(4,_L,4,0)),o&2&&(f(2),Le(r._isServer?2:-1),f(),Le(r._isNativeHtmlTable?3:4))},dependencies:[ag,sg,cg,lg],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let e=t;return e})();function Ac(e,t){return e.concat(Array.from(t))}function Iw(e,t){let i=t.toUpperCase(),n=e.viewContainer.element.nativeElement;for(;n;){let o=n.nodeType===1?n.nodeName:null;if(o===i)return n;if(o==="TABLE")break;n=n.parentNode}return null}var Pw=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Yb]});let e=t;return e})();var xL=[[["caption"]],[["colgroup"],["col"]],"*"],EL=["caption","colgroup, col","*"];function RL(e,t){e&1&&fe(0,2)}function DL(e,t){e&1&&(w(0,"thead",0),Pe(1,1),y(),w(2,"tbody",2),Pe(3,3)(4,4),y(),w(5,"tfoot",0),Pe(6,5),y())}function IL(e,t){e&1&&Pe(0,1)(1,3)(2,4)(3,5)}var Wc=(()=>{let t=class t extends dg{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275cmp=W({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(o,r){o&2&&me("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[we([{provide:dg,useExisting:t},{provide:Hi,useExisting:t},{provide:Nc,useClass:tg},{provide:la,useClass:Tr},{provide:Vc,useValue:null}]),ge,Y],ngContentSelectors:EL,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(o,r){o&1&&(Ae(xL),fe(0),fe(1,1),I(2,RL,1,0)(3,DL,7,0)(4,IL,4,0)),o&2&&(f(2),Le(r._isServer?2:-1),f(),Le(r._isNativeHtmlTable?3:4))},dependencies:[ag,sg,cg,lg],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let e=t;return e})(),jc=(()=>{let t=class t extends Hc{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,selectors:[["","matCellDef",""]],standalone:!0,features:[we([{provide:Hc,useExisting:t}]),ge]});let e=t;return e})(),Uc=(()=>{let t=class t extends Bc{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[we([{provide:Bc,useExisting:t}]),ge]});let e=t;return e})();var $c=(()=>{let t=class t extends Ar{get name(){return this._name}set name(n){this._setNameInput(n)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[we([{provide:Ar,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),ge]});let e=t;return e})(),Kc=(()=>{let t=class t extends Fw{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[ge]});let e=t;return e})();var qc=(()=>{let t=class t extends Tw{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[ge]});let e=t;return e})();var Yc=(()=>{let t=class t extends ma{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",O]},standalone:!0,features:[we([{provide:ma,useExisting:t}]),ve,ge]});let e=t;return e})();var Qc=(()=>{let t=class t extends zc{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275dir=q({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[we([{provide:zc,useExisting:t}]),ge]});let e=t;return e})(),Zc=(()=>{let t=class t extends og{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275cmp=W({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[we([{provide:og,useExisting:t}]),ge,Y],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(o,r){o&1&&Pe(0,0)},dependencies:[Fo],encapsulation:2});let e=t;return e})();var Xc=(()=>{let t=class t extends rg{};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=Me(t)))(r||t)}})(),t.\u0275cmp=W({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[we([{provide:rg,useExisting:t}]),ge,Y],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(o,r){o&1&&Pe(0,0)},dependencies:[Fo],encapsulation:2});let e=t;return e})();var Jc=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Je,Pw,Je]});let e=t;return e})(),ML=9007199254740991,Gc=class extends xc{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new Ze([]),this._filter=new Ze(""),this._internalPageChanges=new K,this._renderChangesSubscription=null,this.sortingDataAccessor=(i,n)=>{let o=i[n];if(wp(o)){let r=Number(o);return r<ML?r:o}return o},this.sortData=(i,n)=>{let o=n.active,r=n.direction;return!o||r==""?i:i.sort((s,a)=>{let l=this.sortingDataAccessor(s,o),c=this.sortingDataAccessor(a,o),d=typeof l,u=typeof c;d!==u&&(d==="number"&&(l+=""),u==="number"&&(c+=""));let h=0;return l!=null&&c!=null?l>c?h=1:l<c&&(h=-1):l!=null?h=1:c!=null&&(h=-1),h*(r=="asc"?1:-1)})},this.filterPredicate=(i,n)=>{let o=Object.keys(i).reduce((s,a)=>s+i[a]+"\u25EC","").toLowerCase(),r=n.trim().toLowerCase();return o.indexOf(r)!=-1},this._data=new Ze(t),this._updateChangeSubscription()}_updateChangeSubscription(){let t=this._sort?yt(this._sort.sortChange,this._sort.initialized):ae(null),i=this._paginator?yt(this._paginator.page,this._internalPageChanges,this._paginator.initialized):ae(null),n=this._data,o=Gi([n,this._filter]).pipe(he(([a])=>this._filterData(a))),r=Gi([o,t]).pipe(he(([a])=>this._orderData(a))),s=Gi([r,i]).pipe(he(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(a=>this._renderData.next(a))}_filterData(t){return this.filteredData=this.filter==null||this.filter===""?t:t.filter(i=>this.filterPredicate(i,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;let i=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(i,i+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{let i=this.paginator;if(i&&(i.length=t,i.pageIndex>0)){let n=Math.ceil(i.length/i.pageSize)-1||0,o=Math.min(i.pageIndex,n);o!==i.pageIndex&&(i.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var FL=["determinateSpinner"];function TL(e,t){if(e&1&&(Ke(),w(0,"svg",11),j(1,"circle",12),y()),e&2){let i=S();V("viewBox",i._viewBox()),f(),rn("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeCircumference()/2,"px")("stroke-width",i._circleStrokeWidth(),"%"),V("r",i._circleRadius())}}var kL=new $("mat-progress-spinner-default-options",{providedIn:"root",factory:PL});function PL(){return{diameter:Ow}}var Ow=100,AL=10,Lw=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(n){this._color=n}constructor(n,o,r){this._elementRef=n,this._defaultColor="primary",this._value=0,this._diameter=Ow,this._noopAnimations=o==="NoopAnimations"&&!!r&&!r._forceAnimations,this.mode=n.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,n||0))}get diameter(){return this._diameter}set diameter(n){this._diameter=n||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(n){this._strokeWidth=n||0}_circleRadius(){return(this.diameter-AL)/2}_viewBox(){let n=this._circleRadius()*2+this.strokeWidth;return`0 0 ${n} ${n}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(ht,8),v(kL))},t.\u0275cmp=W({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(o,r){if(o&1&&be(FL,5),o&2){let s;ne(s=oe())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(o,r){o&2&&(V("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),xe("mat-"+r.color),rn("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),me("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Ne],diameter:[2,"diameter","diameter",Ne],strokeWidth:[2,"strokeWidth","strokeWidth",Ne]},exportAs:["matProgressSpinner"],standalone:!0,features:[ve,Y],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(o,r){if(o&1&&(I(0,TL,2,8,"ng-template",null,0,Dn),w(2,"div",2,1),Ke(),w(4,"svg",3),j(5,"circle",4),y()(),Da(),w(6,"div",5)(7,"div",6)(8,"div",7),Pe(9,8),y(),w(10,"div",9),Pe(11,8),y(),w(12,"div",10),Pe(13,8),y()()()),o&2){let s=It(1);f(4),V("viewBox",r._viewBox()),f(),rn("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),V("r",r._circleRadius()),f(4),b("ngTemplateOutlet",s),f(2),b("ngTemplateOutlet",s),f(2),b("ngTemplateOutlet",s)}},dependencies:[Mt],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0});let e=t;return e})();var Nw=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Se,Je]});let e=t;return e})();var LL=["input"],NL=["formField"],VL=["*"],Vw=0,ed=class{constructor(t,i){this.source=t,this.value=i}},HL={provide:zt,useExisting:lt(()=>ug),multi:!0},Hw=new $("MatRadioGroup"),BL=new $("mat-radio-default-options",{providedIn:"root",factory:zL});function zL(){return{color:"accent",disabledInteractive:!1}}var ug=(()=>{let t=class t{get name(){return this._name}set name(n){this._name=n,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(n){this._labelPosition=n==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(n){this._value!==n&&(this._value=n,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(n){this._selected=n,this.value=n?n.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._markRadiosForCheck()}get required(){return this._required}set required(n){this._required=n,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(n){this._disabledInteractive=n,this._markRadiosForCheck()}constructor(n){this._changeDetector=n,this._value=null,this._name=`mat-radio-group-${Vw++}`,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new _,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(n=>n===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(n=>{n.name=this.name,n._markForCheck()})}_updateSelectedRadioFromValue(){let n=this._selected!==null&&this._selected.value===this._value;this._radios&&!n&&(this._selected=null,this._radios.forEach(o=>{o.checked=this.value===o.value,o.checked&&(this._selected=o)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new ed(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(n=>n._markForCheck())}writeValue(n){this.value=n,this._changeDetector.markForCheck()}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetector.markForCheck()}};t.\u0275fac=function(o){return new(o||t)(v(Te))},t.\u0275dir=q({type:t,selectors:[["mat-radio-group"]],contentQueries:function(o,r,s){if(o&1&&Ve(s,td,5),o&2){let a;ne(a=oe())&&(r._radios=a)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",O],required:[2,"required","required",O],disabledInteractive:[2,"disabledInteractive","disabledInteractive",O]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[we([HL,{provide:Hw,useExisting:t}]),ve]});let e=t;return e})(),td=(()=>{let t=class t{get checked(){return this._checked}set checked(n){this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(n){this._value!==n&&(this._value=n,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===n),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(n){this._labelPosition=n}get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(n){this._setDisabled(n)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(n){this._required=n}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(n){this._color=n}get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(n){this._disabledInteractive=n}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,o,r,s,a,l,c,d){this._elementRef=o,this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=a,this._defaultOptions=c,this._ngZone=L(ie),this._uniqueId=`mat-radio-${++Vw}`,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new _,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=L(ct),this._onInputClick=u=>{this.disabled&&this.disabledInteractive&&u.preventDefault()},this.radioGroup=n,this._noopAnimations=l==="NoopAnimations",this._disabledInteractive=c?.disabledInteractive??!1,d&&(this.tabIndex=Ne(d,0))}focus(n,o){o?this._focusMonitor.focusVia(this._inputElement,o,n):this._inputElement.nativeElement.focus(n)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((n,o)=>{n!==this.id&&o===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{!n&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ed(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(n){if(n.stopPropagation(),!this.checked&&!this.disabled){let o=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),o&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(n){this._onInputInteraction(n),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(n){this._disabled!==n&&(this._disabled=n,this._changeDetector.markForCheck())}_updateTabIndex(){let n=this.radioGroup,o;if(!n||!n.selected||this.disabled?o=this.tabIndex:o=n.selected===this?this.tabIndex:-1,o!==this._previousTabIndex){let r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",o+""),this._previousTabIndex=o,Qt(()=>{queueMicrotask(()=>{n&&n.selected&&n.selected!==this&&document.activeElement===r&&(n.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}};t.\u0275fac=function(o){return new(o||t)(v(Hw,8),v(Q),v(Te),v(Rr),v(qb),v(ht,8),v(BL,8),Ei("tabindex"))},t.\u0275cmp=W({type:t,selectors:[["mat-radio-button"]],viewQuery:function(o,r){if(o&1&&(be(LL,5),be(NL,7,Q)),o&2){let s;ne(s=oe())&&(r._inputElement=s.first),ne(s=oe())&&(r._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(o,r){o&1&&G("focus",function(){return r._inputElement.nativeElement.focus()}),o&2&&(V("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),me("mat-primary",r.color==="primary")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",O],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:Ne(n)],checked:[2,"checked","checked",O],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",O],required:[2,"required","required",O],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",O]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[ve,Y],ngContentSelectors:VL,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(o,r){if(o&1){let s=ue();Ae(),w(0,"div",2,0)(2,"div",3)(3,"div",4),G("click",function(l){return M(s),F(r._onTouchTargetClick(l))}),y(),w(4,"input",5,1),G("change",function(l){return M(s),F(r._onInputInteraction(l))}),y(),w(6,"div",6),j(7,"div",7)(8,"div",8),y(),w(9,"div",9),j(10,"div",10),y()(),w(11,"label",11),fe(12),y()()}o&2&&(b("labelPosition",r.labelPosition),f(2),me("mdc-radio--disabled",r.disabled),f(2),b("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),V("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),f(5),b("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),f(2),b("for",r.inputId))},dependencies:[yc,Ub],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0});let e=t;return e})(),Bw=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Je,Se,Sc,td,Je]});let e=t;return e})();var WL=()=>[5,10,20,30];function jL(e,t){e&1&&(w(0,"th",15),z(1,"No."),y())}function UL(e,t){if(e&1&&(w(0,"td",16),z(1),y()),e&2){let i=t.$implicit;f(),je(i.position)}}function $L(e,t){e&1&&(w(0,"th",15),z(1," Name "),y())}function KL(e,t){if(e&1&&(w(0,"td",16),z(1),y()),e&2){let i=t.$implicit;f(),Be(" ",i.name," ")}}function qL(e,t){e&1&&(w(0,"th",15),z(1," Weight "),y())}function YL(e,t){if(e&1&&(w(0,"td",16),z(1),y()),e&2){let i=t.$implicit;f(),Be(" ",i.weight," ")}}function QL(e,t){e&1&&(w(0,"th",15),z(1," Symbol "),y())}function ZL(e,t){if(e&1&&(w(0,"td",16),z(1),y()),e&2){let i=t.$implicit;f(),Be(" ",i.symbol," ")}}function XL(e,t){e&1&&j(0,"tr",17)}function JL(e,t){e&1&&j(0,"tr",18)}var id=class e{paginator;sort;dataSource;displayedColumns=["position","name","weight","symbol"];constructor(){this.LoadData()}ELEMENT_DATA=[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.811,symbol:"B"},{position:6,name:"Carbon",weight:12.0107,symbol:"C"},{position:7,name:"Nitrogen",weight:14.0067,symbol:"N"},{position:8,name:"Oxygen",weight:15.9994,symbol:"O"},{position:9,name:"Fluorine",weight:18.9984,symbol:"F"},{position:10,name:"Neon",weight:20.1797,symbol:"Ne"}];LoadData(){this.dataSource=new Gc(this.ELEMENT_DATA)}SearchValueChange(t){t=t.trim(),t=t.toLowerCase(),this.dataSource.filter=t}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=W({type:e,selectors:[["app-material"]],viewQuery:function(i,n){if(i&1&&(be(Jp,5),be(yw,5)),i&2){let o;ne(o=oe())&&(n.paginator=o.first),ne(o=oe())&&(n.sort=o.first)}},standalone:!0,features:[Y],decls:26,vars:7,consts:[["id"," #search-form ",1,"example-full-width","form-group","w-25","bg-white","mat-form-field"],["matInput","","placeholder","Search Text",3,"input"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","weight"],["matColumnDef","symbol"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["aria-label","Select an option"],["value","1"],["value","2"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,n){i&1&&(w(0,"mat-form-field",0)(1,"mat-label"),z(2,"Search Value"),y(),w(3,"input",1),G("input",function(r){return n.SearchValueChange(r.target.value)}),y()(),w(4,"table",2),Ee(5,3),I(6,jL,2,0,"th",4)(7,UL,2,1,"td",5),Re(),Ee(8,6),I(9,$L,2,0,"th",4)(10,KL,2,1,"td",5),Re(),Ee(11,7),I(12,qL,2,0,"th",4)(13,YL,2,1,"td",5),Re(),Ee(14,8),I(15,QL,2,0,"th",4)(16,ZL,2,1,"td",5),Re(),I(17,XL,1,0,"tr",9)(18,JL,1,0,"tr",10),y(),j(19,"mat-paginator",11)(20,"mat-spinner"),w(21,"mat-radio-group",12)(22,"mat-radio-button",13),z(23,"Option 1"),y(),w(24,"mat-radio-button",14),z(25,"Option 2"),y()()),i&2&&(f(4),b("dataSource",n.dataSource),f(13),b("matHeaderRowDef",n.displayedColumns),f(),b("matRowDefColumns",n.displayedColumns),f(),b("length",50)("pageSize",5)("pageSizeOptions",dt(6,WL)))},dependencies:[Jc,Wc,Uc,Yc,$c,jc,Qc,Kc,qc,Zc,Xc,Jp,Rw,Ew,kr,Pc,Nw,Lw,Bw,ug,td],styles:[`
    .mdc-text-field--filled:not(.mdc-text-field--disabled) {
        background-color: #fff !important;
        border: 1px solid black;
    }
`],encapsulation:2})};function e6(e,t){e&1&&(w(0,"div",6),z(1," Name is required."),y())}var nd=class e{constructor(t){this.dataService=t}isSubmit=!1;studentInfo=new Ki({firstName:new Ti("",[ki.required]),lastName:new Ti,isActive:new Ti});sendData(){let t={message:"Hello from Sender!"}}onSubmit(){if(this.isSubmit=!0,this.studentInfo.valid)console.log(this.studentInfo.value);else return}static \u0275fac=function(i){return new(i||e)(v(ui))};static \u0275cmp=W({type:e,selectors:[["app-form"]],standalone:!0,features:[Y],decls:12,vars:2,consts:[[3,"submit","formGroup"],["type","text","formControlName","firstName"],["style","color: red;",4,"ngIf"],["type","text","formControlName","lastName"],["type","checkbox","formControlName","isActive"],["type","submit"],[2,"color","red"]],template:function(i,n){i&1&&(w(0,"p"),z(1,"form works!"),y(),w(2,"form",0),G("submit",function(){return n.onSubmit()}),j(3,"input",1),I(4,e6,2,0,"div",2),j(5,"input",3)(6,"input",4),z(7," Active "),w(8,"button",5),z(9,"Submit"),y()(),w(10,"button"),z(11,` Send Massage
`),y()),i&2&&(f(2),b("formGroup",n.studentInfo),f(2),b("ngIf",n.studentInfo.controls.firstName.errors&&(n.studentInfo.controls.firstName.touched||n.isSubmit)))},dependencies:[rr,or,Jo,zu,ir,nr,di,ao,Se,Zt]})};function t6(e,t){if(e&1){let i=ue();w(0,"div",5)(1,"label"),z(2," Name: "),j(3,"input",6),y(),w(4,"label"),z(5," Quantity: "),j(6,"input",7),y(),w(7,"button",3),G("click",function(){let o=M(i).index,r=S();return F(r.removeItem(o))}),z(8,"Remove"),y()()}if(e&2){let i=t.index;b("formGroupName",i)}}var od=class e{constructor(t){this.fb=t;this.myForm=this.fb.group({items:this.fb.array([])})}myForm;element=0;get items(){return this.myForm.get("items")}addItem(){let t=this.fb.group({name:["",ki.required],quantity:["",ki.required]});this.items.push(t)}removeItem(t){this.items.removeAt(t)}onSubmit(){for(let t=0;t<this.items.length;t++)this.element+=Number(this.myForm.value.items[t].quantity);console.log(this.element),console.log(this.myForm.value)}static \u0275fac=function(i){return new(i||e)(v(Wv))};static \u0275cmp=W({type:e,selectors:[["app-form-array"]],standalone:!0,features:[Y],decls:7,vars:2,consts:[[3,"ngSubmit","formGroup"],["formArrayName","items"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit"],[3,"formGroupName"],["formControlName","name"],["formControlName","quantity"]],template:function(i,n){i&1&&(w(0,"form",0),G("ngSubmit",function(){return n.onSubmit()}),w(1,"div",1),I(2,t6,9,1,"div",2),y(),w(3,"button",3),G("click",function(){return n.addItem()}),z(4,"Add Item"),y(),w(5,"button",4),z(6,"Submit"),y()()),i&2&&(b("formGroup",n.myForm),f(2),b("ngForOf",n.items.controls))},dependencies:[Se,Wi,rr,or,Jo,ir,nr,di,ao,yl,Sl]})};var zw=(()=>{class e{constructor(i){this.zone=i}registerScript(i,n,o){let r=window[n];if(r){this.zone.run(()=>{o(r)});return}let s=document.createElement("script");s.id=this.getElemId(n),s.innerHTML="",s.onload=()=>{this.zone.run(()=>{o(window[n])})},s.src=i,s.async=!0,s.defer=!0,document.getElementsByTagName("head")[0].appendChild(s)}cleanup(i){let n=document.getElementById(this.getElemId(i));n&&n.remove()}getElemId(i){return`ngx-paypal-script-elem-${i}`}}return e.\u0275fac=function(i){return new(i||e)(k(ie))},e.\u0275prov=U({token:e,factory:e.\u0275fac}),e})(),i6=(()=>{class e{constructor(i){this.scriptService=i,this.paypalWindowName="paypal"}registerPayPalScript(i,n){this.scriptService.registerScript(this.getUrlForConfig(i),this.paypalWindowName,n)}destroyPayPalScript(){this.scriptService.cleanup(this.paypalWindowName)}getUrlForConfig(i){let n=[{name:"client-id",value:i.clientId}];return i.locale&&n.push({name:"locale",value:i.locale}),i.currency&&n.push({name:"currency",value:i.currency}),i.commit&&n.push({name:"commit",value:i.commit}),i.vault&&n.push({name:"vault",value:i.vault}),i.intent&&n.push({name:"intent",value:i.intent}),i.funding&&n.push({name:"components",value:"buttons,funding-eligibility"}),i.extraParams&&n.push(...i.extraParams),`https://www.paypal.com/sdk/js${this.getQueryString(n)}`}getQueryString(i){let n="";for(let o=0;o<i.length;o++){let r=i[o];o===0?n+="?":n+="&",n+=`${r.name}=${r.value}`}return n}}return e.\u0275fac=function(i){return new(i||e)(k(zw))},e.\u0275prov=U({token:e,factory:e.\u0275fac}),e})();var Gw=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ee({type:e}),e.\u0275inj=J({providers:[zw,i6],imports:[Se]}),e})();var hg={};function n6(e){let t=hg[e];if(t)return t;let i=new Promise((n,o)=>{let r=document.createElement("script");r.src=e,r.async=!0;let s=()=>{n()},a=()=>{l(),delete hg[e],r.remove(),o(new Error(`Unable to load script ${e}`))};r.addEventListener("load",s),r.addEventListener("error",a),document.body.appendChild(r);function l(){r.removeEventListener("load",s),r.removeEventListener("error",a)}});return hg[e]=i,i}var pg=class{constructor(t){this.handleClick=i=>Sn(this,null,function*(){let n=this.config;if(!n)throw new Error("google-pay-button: Missing configuration");let o=this.createLoadPaymentDataRequest(n);try{if(n.onClick&&n.onClick(i),i.defaultPrevented)return;let r=yield this.client.loadPaymentData(o);n.onLoadPaymentData&&n.onLoadPaymentData(r)}catch(r){r.statusCode==="CANCELED"?n.onCancel&&n.onCancel(r):n.onError?n.onError(r):console.error(r)}}),this.options=t}getElement(){return this.element}isGooglePayLoaded(){return"google"in(window||global)&&!!google?.payments?.api?.PaymentsClient}mount(t){return Sn(this,null,function*(){if(!this.isGooglePayLoaded())try{yield n6("https://pay.google.com/gp/p/js/pay.js")}catch(i){this.config?.onError?this.config.onError(i):console.error(i);return}this.element=t,t&&(this.appendStyles(),this.config&&this.updateElement())})}unmount(){this.element=void 0}configure(t){let i;return this.config=t,(!this.oldInvalidationValues||this.isClientInvalidated(t))&&(i=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(t),i??Promise.resolve()}createClientOptions(t){let i={environment:t.environment,merchantInfo:this.createMerchantInfo(t)};return(t.onPaymentDataChanged||t.onPaymentAuthorized)&&(i.paymentDataCallbacks={},t.onPaymentDataChanged&&(i.paymentDataCallbacks.onPaymentDataChanged=n=>t.onPaymentDataChanged(n)||{}),t.onPaymentAuthorized&&(i.paymentDataCallbacks.onPaymentAuthorized=n=>t.onPaymentAuthorized(n)||{})),i}createIsReadyToPayRequest(t){let i=t.paymentRequest;return{apiVersion:i.apiVersion,apiVersionMinor:i.apiVersionMinor,allowedPaymentMethods:i.allowedPaymentMethods,existingPaymentMethodRequired:t.existingPaymentMethodRequired}}createLoadPaymentDataRequest(t){return ce(E({},t.paymentRequest),{merchantInfo:this.createMerchantInfo(t)})}createMerchantInfo(t){let i=E({},t.paymentRequest.merchantInfo);return i.softwareInfo||(i.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),i}isMounted(){return this.element!=null&&this.element.isConnected!==!1}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(let t of Array.from(this.element.children))t.tagName!=="STYLE"&&t.remove()}updateElement(){return Sn(this,null,function*(){if(!this.isMounted())return;let t=this.getElement();if(!this.config)throw new Error("google-pay-button: Missing configuration");this.removeButton();try{this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config))}catch(a){this.config.onError?this.config.onError(a):console.error(a);return}let i={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonRadius:this.config.buttonRadius,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick,allowedPaymentMethods:this.config.paymentRequest.allowedPaymentMethods},n=t.getRootNode();n instanceof ShadowRoot&&(i.buttonRootNode=n);let o=this.client.createButton(i);this.setClassName(t,[t.className,"not-ready"]),t.appendChild(o);let r=!1,s;try{s=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),r=s.result&&!this.config.existingPaymentMethodRequired||s.result&&s.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(a){this.config.onError?this.config.onError(a):console.error(a)}if(this.isMounted()){if(r){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(a){console.log("Error with prefetch",a)}this.setClassName(t,(t.className||"").split(" ").filter(a=>a&&a!=="not-ready"))}if((this.isReadyToPay!==s?.result||this.paymentMethodPresent!==s?.paymentMethodPresent)&&(this.isReadyToPay=!!s?.result,this.paymentMethodPresent=s?.paymentMethodPresent,this.config.onReadyToPayChange)){let a={isButtonVisible:r,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(a.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(a)}}})}setClassName(t,i){let n=i.filter(o=>o).join(" ");n?t.className=n:t.removeAttribute("class")}appendStyles(){if(typeof document>"u")return;let t=this.element?.getRootNode(),i=`default-google-style-${this.options.cssSelector.replace(/[^\w-]+/g,"")}-${this.config?.buttonLocale}`;if(t&&!t.getElementById?.(i)){let n=document.createElement("style");n.id=i,n.type="text/css",n.innerHTML=`
          ${this.options.cssSelector} {
            display: inline-block;
          }
          ${this.options.cssSelector}.not-ready {
            width: 0;
            height: 0;
            overflow: hidden;
          }
        `,t instanceof Document&&t.head?t.head.appendChild(n):t.appendChild(n)}}isClientInvalidated(t){return this.oldInvalidationValues?this.getInvalidationValues(t).some((n,o)=>JSON.stringify(n)!==JSON.stringify(this.oldInvalidationValues[o])):!0}getInvalidationValues(t){return[t.environment,t.existingPaymentMethodRequired,!!t.onPaymentDataChanged,!!t.onPaymentAuthorized,t.buttonType,t.buttonColor,t.buttonRadius,t.buttonLocale,t.buttonSizeMode,t.paymentRequest.merchantInfo.merchantId,t.paymentRequest.merchantInfo.merchantName,t.paymentRequest.merchantInfo.softwareInfo?.id,t.paymentRequest.merchantInfo.softwareInfo?.version,t.paymentRequest.allowedPaymentMethods]}},o6="@google-pay/button-angular",r6="3.1.0";function s6(e,t=0){let i;return function(...n){window.clearTimeout(i);let o=function(){return i=void 0,e(...n)};return new Promise(r=>{i=window.setTimeout(()=>{let s=o();r(s)},t)})}}var Ww=(()=>{class e{constructor(i){this.elementRef=i,this.manager=new pg({cssSelector:"google-pay-button",softwareInfoId:o6,softwareInfoVersion:r6}),this.initializeButton=s6(()=>{if(!this.assertRequiredProperty("paymentRequest")||!this.assertRequiredProperty("environment"))return;let n={paymentRequest:this.paymentRequest,environment:this.environment,existingPaymentMethodRequired:this.existingPaymentMethodRequired,onPaymentDataChanged:this.paymentDataChangedCallback,onPaymentAuthorized:this.paymentAuthorizedCallback,buttonColor:this.buttonColor,buttonType:this.buttonType,buttonRadius:this.buttonRadius,buttonSizeMode:this.buttonSizeMode,buttonLocale:this.buttonLocale,onReadyToPayChange:o=>{this.readyToPayChangeCallback&&this.readyToPayChangeCallback(o),this.dispatch("readytopaychange",o)},onCancel:o=>{this.cancelCallback&&this.cancelCallback(o),this.dispatch("cancel",o)},onError:o=>{this.errorCallback&&this.errorCallback?.(o),this.elementRef.nativeElement.dispatchEvent(new ErrorEvent("error",{error:o}))},onLoadPaymentData:o=>{this.loadPaymentDataCallback&&this.loadPaymentDataCallback(o),this.dispatch("loadpaymentdata",o)},onClick:o=>{this.clickCallback&&this.clickCallback?.(o)}};this.manager.configure(n)})}get isReadyToPay(){return this.manager.isReadyToPay}ngOnInit(){return this.manager.mount(this.elementRef.nativeElement)}ngOnChanges(){return this.initializeButton()}assertRequiredProperty(i){let n=this[i];return n==null?(this.throwError(Error(`Required property not set: ${i}`)),!1):!0}throwError(i){throw i}dispatch(i,n){this.elementRef.nativeElement.dispatchEvent(new CustomEvent(i,{bubbles:!0,cancelable:!1,detail:n}))}}return e.\u0275fac=function(i){return new(i||e)(v(Q))},e.\u0275dir=q({type:e,selectors:[["google-pay-button"]],inputs:{paymentRequest:"paymentRequest",environment:"environment",existingPaymentMethodRequired:"existingPaymentMethodRequired",buttonColor:"buttonColor",buttonType:"buttonType",buttonRadius:"buttonRadius",buttonSizeMode:"buttonSizeMode",buttonLocale:"buttonLocale",paymentDataChangedCallback:"paymentDataChangedCallback",paymentAuthorizedCallback:"paymentAuthorizedCallback",readyToPayChangeCallback:"readyToPayChangeCallback",loadPaymentDataCallback:"loadPaymentDataCallback",cancelCallback:"cancelCallback",errorCallback:"errorCallback",clickCallback:"clickCallback"},features:[We]}),e})(),jw=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ee({type:e}),e.\u0275inj=J({}),e})();var l6=()=>["PAN_ONLY","CRYPTOGRAM_3DS"],c6=()=>["AMEX","VISA","MASTERCARD"],d6=(e,t)=>({allowedAuthMethods:e,allowedCardNetworks:t}),u6=()=>({gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}),h6=e=>({type:"PAYMENT_GATEWAY",parameters:e}),p6=(e,t)=>({type:"CARD",parameters:e,tokenizationSpecification:t}),g6=e=>[e],m6=()=>({merchantId:"12345678901234567890",merchantName:"Demo Merchant"}),f6=()=>({totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:"100.00",currencyCode:"USD",countryCode:"US"}),v6=(e,t,i)=>({apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:e,merchantInfo:t,transactionInfo:i}),rd=class e{constructor(t){this.dataService=t}payPalConfig;showSuccess=!1;receivedData;ngOnInit(){console.log(this.receivedData)}initConfig(){this.payPalConfig={currency:"EUR",clientId:"sb",createOrderOnClient:t=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"EUR",value:"9.99",breakdown:{item_total:{currency_code:"EUR",value:"9.99"}}},items:[{name:"Enterprise Subscription",quantity:"1",category:"DIGITAL_GOODS",unit_amount:{currency_code:"EUR",value:"9.99"}}]}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(t,i)=>{console.log("onApprove - transaction was approved, but not authorized",t,i),i.order.get().then(n=>{console.log("onApprove - you can get full order details inside onApprove: ",n)})},onClientAuthorization:t=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",t),this.showSuccess=!0},onCancel:(t,i)=>{console.log("OnCancel",t,i)},onError:t=>{console.log("OnError",t)},onClick:(t,i)=>{console.log("onClick",t,i)}}}onLoadPaymentData(t){console.log(t)}static \u0275fac=function(i){return new(i||e)(v(ui))};static \u0275cmp=W({type:e,selectors:[["app-paypal"]],standalone:!0,features:[Y],decls:1,vars:20,consts:[["environment","TEST","buttonType","buy","buttonColor","black",3,"loadpaymentdata","paymentRequest"]],template:function(i,n){i&1&&(w(0,"google-pay-button",0),G("loadpaymentdata",function(r){return n.onLoadPaymentData(r)}),y()),i&2&&b("paymentRequest",Ta(16,v6,qe(12,g6,ai(9,p6,ai(3,d6,dt(1,l6),dt(2,c6)),qe(7,h6,dt(6,u6)))),dt(14,m6),dt(15,f6)))},dependencies:[Gw,jw,Ww],encapsulation:2})};var Ce=class e{static isArray(t,i=!0){return Array.isArray(t)&&(i||t.length!==0)}static isObject(t,i=!0){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&(i||Object.keys(t).length!==0)}static equals(t,i,n){return n?this.resolveFieldData(t,n)===this.resolveFieldData(i,n):this.equalsByValue(t,i)}static equalsByValue(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){var n=Array.isArray(t),o=Array.isArray(i),r,s,a;if(n&&o){if(s=t.length,s!=i.length)return!1;for(r=s;r--!==0;)if(!this.equalsByValue(t[r],i[r]))return!1;return!0}if(n!=o)return!1;var l=this.isDate(t),c=this.isDate(i);if(l!=c)return!1;if(l&&c)return t.getTime()==i.getTime();var d=t instanceof RegExp,u=i instanceof RegExp;if(d!=u)return!1;if(d&&u)return t.toString()==i.toString();var h=Object.keys(t);if(s=h.length,s!==Object.keys(i).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(i,h[r]))return!1;for(r=s;r--!==0;)if(a=h[r],!this.equalsByValue(t[a],i[a]))return!1;return!0}return t!==t&&i!==i}static resolveFieldData(t,i){if(t&&i){if(this.isFunction(i))return i(t);if(i.indexOf(".")==-1)return t[i];{let n=i.split("."),o=t;for(let r=0,s=n.length;r<s;++r){if(o==null)return null;o=o[n[r]]}return o}}else return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,i,n){let o;t&&i!==n&&(n>=t.length&&(n%=t.length,i%=t.length),t.splice(n,0,t.splice(i,1)[0]))}static insertIntoOrderedArray(t,i,n,o){if(n.length>0){let r=!1;for(let s=0;s<n.length;s++)if(this.findIndexInList(n[s],o)>i){n.splice(s,0,t),r=!0;break}r||n.push(t)}else n.push(t)}static findIndexInList(t,i){let n=-1;if(i){for(let o=0;o<i.length;o++)if(i[o]==t){n=o;break}}return n}static contains(t,i){if(t!=null&&i&&i.length){for(let n of i)if(this.equals(t,n))return!0}return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),t}static isDate(t){return Object.prototype.toString.call(t)==="[object Date]"}static isEmpty(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!this.isDate(t)&&typeof t=="object"&&Object.keys(t).length===0}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,i,n,o=1){let r=-1,s=this.isEmpty(t),a=this.isEmpty(i);return s&&a?r=0:s?r=o:a?r=-o:typeof t=="string"&&typeof i=="string"?r=t.localeCompare(i,n,{numeric:!0}):r=t<i?-1:t>i?1:0,r}static sort(t,i,n=1,o,r=1){let s=e.compare(t,i,o,n),a=n;return(e.isEmpty(t)||e.isEmpty(i))&&(a=r===1?n:r),a*s}static merge(t,i){if(!(t==null&&i==null)){{if((t==null||typeof t=="object")&&(i==null||typeof i=="object"))return E(E({},t||{}),i||{});if((t==null||typeof t=="string")&&(i==null||typeof i=="string"))return[t||"",i||""].join(" ")}return i||t}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)}static getItemValue(t,...i){return this.isFunction(t)?t(...i):t}static findLastIndex(t,i){let n=-1;if(this.isNotEmpty(t))try{n=t.findLastIndex(i)}catch{n=t.lastIndexOf([...t].reverse().find(i))}return n}static findLast(t,i){let n;if(this.isNotEmpty(t))try{n=t.findLast(i)}catch{n=[...t].reverse().find(i)}return n}static deepEquals(t,i){if(t===i)return!0;if(t&&i&&typeof t=="object"&&typeof i=="object"){var n=Array.isArray(t),o=Array.isArray(i),r,s,a;if(n&&o){if(s=t.length,s!=i.length)return!1;for(r=s;r--!==0;)if(!this.deepEquals(t[r],i[r]))return!1;return!0}if(n!=o)return!1;var l=t instanceof Date,c=i instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==i.getTime();var d=t instanceof RegExp,u=i instanceof RegExp;if(d!=u)return!1;if(d&&u)return t.toString()==i.toString();var h=Object.keys(t);if(s=h.length,s!==Object.keys(i).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(i,h[r]))return!1;for(r=s;r--!==0;)if(a=h[r],!this.deepEquals(t[a],i[a]))return!1;return!0}return t!==t&&i!==i}},Uw=0;function nn(e="pn_id_"){return Uw++,`${e}${Uw}`}function C6(){let e=[],t=(r,s)=>{let a=e.length>0?e[e.length-1]:{key:r,value:s},l=a.value+(a.key===r?0:s)+2;return e.push({key:r,value:l}),l},i=r=>{e=e.filter(s=>s.value!==r)},n=()=>e.length>0?e[e.length-1].value:0,o=r=>r&&parseInt(r.style.zIndex,10)||0;return{get:o,set:(r,s,a)=>{s&&(s.style.zIndex=String(t(r,a)))},clear:r=>{r&&(i(o(r)),r.style.zIndex="")},getCurrent:()=>n()}}var bn=C6();var Et=(()=>{class e{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return e})();var Or=(()=>{class e{clickSource=new K;clickObservable=this.clickSource.asObservable();add(i){i&&this.clickSource.next(i)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var oi=(()=>{class e{ripple=!1;inputStyle=pt("outlined");overlayOptions={};csp=pt({nonce:void 0});filterMatchModeOptions={text:[Et.STARTS_WITH,Et.CONTAINS,Et.NOT_CONTAINS,Et.ENDS_WITH,Et.EQUALS,Et.NOT_EQUALS],numeric:[Et.EQUALS,Et.NOT_EQUALS,Et.LESS_THAN,Et.LESS_THAN_OR_EQUAL_TO,Et.GREATER_THAN,Et.GREATER_THAN_OR_EQUAL_TO],date:[Et.DATE_IS,Et.DATE_IS_NOT,Et.DATE_BEFORE,Et.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new K;translationObserver=this.translationSource.asObservable();getTranslation(i){return this.translation[i]}setTranslation(i){this.translation=E(E({},this.translation),i),this.translationSource.next(this.translation)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wi=(()=>{class e{template;type;name;constructor(i){this.template=i}getType(){return this.name}static \u0275fac=function(n){return new(n||e)(v(Dt))};static \u0275dir=q({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return e})(),ot=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({})}return e})(),ri=(()=>{class e{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return e})();var H=(()=>{class e{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(i,n){i&&n&&(i.classList?i.classList.add(n):i.className+=" "+n)}static addMultipleClasses(i,n){if(i&&n)if(i.classList){let o=n.trim().split(" ");for(let r=0;r<o.length;r++)i.classList.add(o[r])}else{let o=n.split(" ");for(let r=0;r<o.length;r++)i.className+=" "+o[r]}}static removeClass(i,n){i&&n&&(i.classList?i.classList.remove(n):i.className=i.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(i,n){i&&n&&[n].flat().filter(Boolean).forEach(o=>o.split(" ").forEach(r=>this.removeClass(i,r)))}static hasClass(i,n){return i&&n?i.classList?i.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(i.className):!1}static siblings(i){return Array.prototype.filter.call(i.parentNode.children,function(n){return n!==i})}static find(i,n){return Array.from(i.querySelectorAll(n))}static findSingle(i,n){return this.isElement(i)?i.querySelector(n):null}static index(i){let n=i.parentNode.childNodes,o=0;for(var r=0;r<n.length;r++){if(n[r]==i)return o;n[r].nodeType==1&&o++}return-1}static indexWithinGroup(i,n){let o=i.parentNode?i.parentNode.childNodes:[],r=0;for(var s=0;s<o.length;s++){if(o[s]==i)return r;o[s].attributes&&o[s].attributes[n]&&o[s].nodeType==1&&r++}return-1}static appendOverlay(i,n,o="self"){o!=="self"&&i&&n&&this.appendChild(i,n)}static alignOverlay(i,n,o="self",r=!0){i&&n&&(r&&(i.style.minWidth=`${e.getOuterWidth(n)}px`),o==="self"?this.relativePosition(i,n):this.absolutePosition(i,n))}static relativePosition(i,n,o=!0){let r=R=>{if(R)return getComputedStyle(R).getPropertyValue("position")==="relative"?R:r(R.parentElement)},s=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:this.getHiddenElementDimensions(i),a=n.offsetHeight??n.getBoundingClientRect().height,l=n.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),u=this.getViewport(),p=r(i)?.getBoundingClientRect()||{top:-1*c,left:-1*d},g,C;l.top+a+s.height>u.height?(g=l.top-p.top-s.height,i.style.transformOrigin="bottom",l.top+g<0&&(g=-1*l.top)):(g=a+l.top-p.top,i.style.transformOrigin="top");let m=l.left+s.width-u.width,x=l.left-p.left;s.width>u.width?C=(l.left-p.left)*-1:m>0?C=x-m:C=l.left-p.left,i.style.top=g+"px",i.style.left=C+"px",o&&(i.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(i,n,o=!0){let r=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:this.getHiddenElementDimensions(i),s=r.height,a=r.width,l=n.offsetHeight??n.getBoundingClientRect().height,c=n.offsetWidth??n.getBoundingClientRect().width,d=n.getBoundingClientRect(),u=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),p=this.getViewport(),g,C;d.top+l+s>p.height?(g=d.top+u-s,i.style.transformOrigin="bottom",g<0&&(g=u)):(g=l+d.top+u,i.style.transformOrigin="top"),d.left+a>p.width?C=Math.max(0,d.left+h+c-a):C=d.left+h,i.style.top=g+"px",i.style.left=C+"px",o&&(i.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(i,n=[]){return i.parentNode===null?n:this.getParents(i.parentNode,n.concat([i.parentNode]))}static getScrollableParents(i){let n=[];if(i){let o=this.getParents(i),r=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return r.test(l.getPropertyValue("overflow"))||r.test(l.getPropertyValue("overflowX"))||r.test(l.getPropertyValue("overflowY"))};for(let a of o){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let d of c){let u=this.findSingle(a,d);u&&s(u)&&n.push(u)}}a.nodeType!==9&&s(a)&&n.push(a)}}return n}static getHiddenElementOuterHeight(i){i.style.visibility="hidden",i.style.display="block";let n=i.offsetHeight;return i.style.display="none",i.style.visibility="visible",n}static getHiddenElementOuterWidth(i){i.style.visibility="hidden",i.style.display="block";let n=i.offsetWidth;return i.style.display="none",i.style.visibility="visible",n}static getHiddenElementDimensions(i){let n={};return i.style.visibility="hidden",i.style.display="block",n.width=i.offsetWidth,n.height=i.offsetHeight,i.style.display="none",i.style.visibility="visible",n}static scrollInView(i,n){let o=getComputedStyle(i).getPropertyValue("borderTopWidth"),r=o?parseFloat(o):0,s=getComputedStyle(i).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=i.getBoundingClientRect(),d=n.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-r-a,u=i.scrollTop,h=i.clientHeight,p=this.getOuterHeight(n);d<0?i.scrollTop=u+d:d+p>h&&(i.scrollTop=u+d-h+p)}static fadeIn(i,n){i.style.opacity=0;let o=+new Date,r=0,s=function(){r=+i.style.opacity.replace(",",".")+(new Date().getTime()-o)/n,i.style.opacity=r,o=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(i,n){var o=1,r=50,s=n,a=r/s;let l=setInterval(()=>{o=o-a,o<=0&&(o=0,clearInterval(l)),i.style.opacity=o},r)}static getWindowScrollTop(){let i=document.documentElement;return(window.pageYOffset||i.scrollTop)-(i.clientTop||0)}static getWindowScrollLeft(){let i=document.documentElement;return(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}static matches(i,n){var o=Element.prototype,r=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return r.call(i,n)}static getOuterWidth(i,n){let o=i.offsetWidth;if(n){let r=getComputedStyle(i);o+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return o}static getHorizontalPadding(i){let n=getComputedStyle(i);return parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)}static getHorizontalMargin(i){let n=getComputedStyle(i);return parseFloat(n.marginLeft)+parseFloat(n.marginRight)}static innerWidth(i){let n=i.offsetWidth,o=getComputedStyle(i);return n+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),n}static width(i){let n=i.offsetWidth,o=getComputedStyle(i);return n-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),n}static getInnerHeight(i){let n=i.offsetHeight,o=getComputedStyle(i);return n+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),n}static getOuterHeight(i,n){let o=i.offsetHeight;if(n){let r=getComputedStyle(i);o+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return o}static getHeight(i){let n=i.offsetHeight,o=getComputedStyle(i);return n-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),n}static getWidth(i){let n=i.offsetWidth,o=getComputedStyle(i);return n-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),n}static getViewport(){let i=window,n=document,o=n.documentElement,r=n.getElementsByTagName("body")[0],s=i.innerWidth||o.clientWidth||r.clientWidth,a=i.innerHeight||o.clientHeight||r.clientHeight;return{width:s,height:a}}static getOffset(i){var n=i.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(i,n){let o=i.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(n,i)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var i=window.navigator.userAgent,n=i.indexOf("MSIE ");if(n>0)return!0;var o=i.indexOf("Trident/");if(o>0){var r=i.indexOf("rv:");return!0}var s=i.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(i,n){if(this.isElement(n))n.appendChild(i);else if(n&&n.el&&n.el.nativeElement)n.el.nativeElement.appendChild(i);else throw"Cannot append "+n+" to "+i}static removeChild(i,n){if(this.isElement(n))n.removeChild(i);else if(n.el&&n.el.nativeElement)n.el.nativeElement.removeChild(i);else throw"Cannot remove "+i+" from "+n}static removeElement(i){"remove"in Element.prototype?i.remove():i.parentNode.removeChild(i)}static isElement(i){return typeof HTMLElement=="object"?i instanceof HTMLElement:i&&typeof i=="object"&&i!==null&&i.nodeType===1&&typeof i.nodeName=="string"}static calculateScrollbarWidth(i){if(i){let n=getComputedStyle(i);return i.offsetWidth-i.clientWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);let o=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let n=i.offsetHeight-i.clientHeight;return document.body.removeChild(i),this.calculatedScrollbarWidth=n,n}static invokeElementMethod(i,n,o){i[n].apply(i,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let i=this.resolveUserAgent();this.browser={},i.browser&&(this.browser[i.browser]=!0,this.browser.version=i.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let i=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(i)||/(webkit)[ \/]([\w.]+)/.exec(i)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(i)||/(msie) ([\w.]+)/.exec(i)||i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)||[];return{browser:n[1]||"",version:n[2]||"0"}}static isInteger(i){return Number.isInteger?Number.isInteger(i):typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}static isHidden(i){return!i||i.offsetParent===null}static isVisible(i){return i&&i.offsetParent!=null}static isExist(i){return i!==null&&typeof i<"u"&&i.nodeName&&i.parentNode}static focus(i,n){i&&document.activeElement!==i&&i.focus(n)}static getFocusableSelectorString(i=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`}static getFocusableElements(i,n=""){let o=this.find(i,this.getFocusableSelectorString(n)),r=[];for(let s of o){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&r.push(s)}return r}static getFocusableElement(i,n=""){let o=this.findSingle(i,this.getFocusableSelectorString(n));if(o){let r=getComputedStyle(o);if(this.isVisible(o)&&r.display!="none"&&r.visibility!="hidden")return o}return null}static getFirstFocusableElement(i,n=""){let o=this.getFocusableElements(i,n);return o.length>0?o[0]:null}static getLastFocusableElement(i,n){let o=this.getFocusableElements(i,n);return o.length>0?o[o.length-1]:null}static getNextFocusableElement(i,n=!1){let o=e.getFocusableElements(i),r=0;if(o&&o.length>0){let s=o.indexOf(o[0].ownerDocument.activeElement);n?s==-1||s===0?r=o.length-1:r=s-1:s!=-1&&s!==o.length-1&&(r=s+1)}return o[r]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(i,n){if(!i)return null;switch(i){case"document":return document;case"window":return window;case"@next":return n?.nextElementSibling;case"@prev":return n?.previousElementSibling;case"@parent":return n?.parentElement;case"@grandparent":return n?.parentElement.parentElement;default:let o=typeof i;if(o==="string")return document.querySelector(i);if(o==="object"&&i.hasOwnProperty("nativeElement"))return this.isExist(i.nativeElement)?i.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(i)?i():i;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(i,n){if(i){let o=i.getAttribute(n);return isNaN(o)?o==="true"||o==="false"?o==="true":o:+o}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(i="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,i)}static unblockBodyScroll(i="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,i)}static createElement(i,n={},...o){if(i){let r=document.createElement(i);return this.setAttributes(r,n),r.append(...o),r}}static setAttribute(i,n="",o){this.isElement(i)&&o!==null&&o!==void 0&&i.setAttribute(n,o)}static setAttributes(i,n={}){if(this.isElement(i)){let o=(r,s)=>{let a=i?.$attrs?.[r]?[i?.$attrs?.[r]]:[];return[s].flat().reduce((l,c)=>{if(c!=null){let d=typeof c;if(d==="string"||d==="number")l.push(c);else if(d==="object"){let u=Array.isArray(c)?o(r,c):Object.entries(c).map(([h,p])=>r==="style"&&(p||p===0)?`${h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${p}`:p?h:void 0);l=u.length?l.concat(u.filter(h=>!!h)):l}}return l},a)};Object.entries(n).forEach(([r,s])=>{if(s!=null){let a=r.match(/^on(.+)/);a?i.addEventListener(a[1].toLowerCase(),s):r==="pBind"?this.setAttributes(i,s):(s=r==="class"?[...new Set(o("class",s))].join(" ").trim():r==="style"?o("style",s).join(";").trim():s,(i.$attrs=i.$attrs||{})&&(i.$attrs[r]=s),i.setAttribute(r,s))}})}}static isFocusableElement(i,n=""){return this.isElement(i)?i.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`):!1}}return e})(),Nr=class{element;listener;scrollableParents;constructor(t,i=()=>{}){this.element=t,this.listener=i}bindScrollListener(){this.scrollableParents=H.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var Yn=(()=>{class e{autofocus=!1;focused=!1;platformId=L(St);document=L(le);host=L(Q);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){In(this.platformId)&&this.autofocus&&setTimeout(()=>{let i=H.getFocusableElements(this.host?.nativeElement);i.length===0&&this.host.nativeElement.focus(),i.length>0&&i[0].focus(),this.focused=!0})}static \u0275fac=function(n){return new(n||e)};static \u0275dir=q({type:e,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",O]},standalone:!0,features:[ve]})}return e})(),Vr=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({})}return e})();var b6=["*"],ft=(()=>{class e{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let i=Ce.isEmpty(this.label);this.role=i?void 0:"img",this.ariaLabel=i?void 0:this.label,this.ariaHidden=i}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=W({type:e,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",O],styleClass:"styleClass"},standalone:!0,features:[ve,Y],ngContentSelectors:b6,decls:1,vars:0,template:function(n,o){n&1&&(Ae(),fe(0))},encapsulation:2,changeDetection:0})}return e})();var $w=(()=>{class e extends ft{pathId;ngOnInit(){this.pathId="url(#"+nn()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=Me(e)))(o||e)}})();static \u0275cmp=W({type:e,selectors:[["SpinnerIcon"]],standalone:!0,features:[ge,Y],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,o){n&1&&(Ke(),w(0,"svg",0)(1,"g"),j(2,"path",1),y(),w(3,"defs")(4,"clipPath",2),j(5,"rect",3),y()()()),n&2&&(xe(o.getClassNames()),V("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),f(),V("clip-path",o.pathId),f(3),b("id",o.pathId))},encapsulation:2})}return e})();var Hr=(()=>{class e{document;platformId;renderer;el;zone;config;constructor(i,n,o,r,s,a){this.document=i,this.platformId=n,this.renderer=o,this.el=r,this.zone=s,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){In(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(i){let n=this.getInk();if(!n||this.document.defaultView?.getComputedStyle(n,null).display==="none")return;if(H.removeClass(n,"p-ink-active"),!H.getHeight(n)&&!H.getWidth(n)){let a=Math.max(H.getOuterWidth(this.el.nativeElement),H.getOuterHeight(this.el.nativeElement));n.style.height=a+"px",n.style.width=a+"px"}let o=H.getOffset(this.el.nativeElement),r=i.pageX-o.left+this.document.body.scrollTop-H.getWidth(n)/2,s=i.pageY-o.top+this.document.body.scrollLeft-H.getHeight(n)/2;this.renderer.setStyle(n,"top",s+"px"),this.renderer.setStyle(n,"left",r+"px"),H.addClass(n,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&H.removeClass(a,"p-ink-active")},401)}getInk(){let i=this.el.nativeElement.children;for(let n=0;n<i.length;n++)if(typeof i[n].className=="string"&&i[n].className.indexOf("p-ink")!==-1)return i[n];return null}resetInk(){let i=this.getInk();i&&H.removeClass(i,"p-ink-active")}onAnimationEnd(i){this.timeout&&clearTimeout(this.timeout),H.removeClass(i.currentTarget,"p-ink-active")}create(){let i=this.renderer.createElement("span");this.renderer.addClass(i,"p-ink"),this.renderer.appendChild(this.el.nativeElement,i),this.renderer.setAttribute(i,"aria-hidden","true"),this.renderer.setAttribute(i,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(i,"animationend",this.onAnimationEnd.bind(this)))}remove(){let i=this.getInk();i&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,H.removeElement(i))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(n){return new(n||e)(v(le),v(St),v(Ri),v(Q),v(ie),v(oi,8))};static \u0275dir=q({type:e,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return e})(),sd=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({})}return e})();var w6=["*"],qw=e=>({class:e});function y6(e,t){e&1&&Pe(0)}function S6(e,t){if(e&1&&j(0,"span",8),e&2){let i=S(3);b("ngClass",i.iconClass()),V("aria-hidden",!0)("data-pc-section","loadingicon")}}function _6(e,t){if(e&1&&j(0,"SpinnerIcon",9),e&2){let i=S(3);b("styleClass",i.spinnerIconClass())("spin",!0),V("aria-hidden",!0)("data-pc-section","loadingicon")}}function x6(e,t){if(e&1&&(Ee(0),I(1,S6,1,3,"span",6)(2,_6,1,4,"SpinnerIcon",7),Re()),e&2){let i=S(2);f(),b("ngIf",i.loadingIcon),f(),b("ngIf",!i.loadingIcon)}}function E6(e,t){}function R6(e,t){if(e&1&&I(0,E6,0,0,"ng-template",10),e&2){let i=S(2);b("ngIf",i.loadingIconTemplate)}}function D6(e,t){if(e&1&&(Ee(0),I(1,x6,3,2,"ng-container",2)(2,R6,1,1,null,5),Re()),e&2){let i=S();f(),b("ngIf",!i.loadingIconTemplate),f(),b("ngTemplateOutlet",i.loadingIconTemplate)("ngTemplateOutletContext",qe(3,qw,i.iconClass()))}}function I6(e,t){if(e&1&&j(0,"span",8),e&2){let i=S(2);b("ngClass",i.iconClass()),V("data-pc-section","icon")}}function M6(e,t){}function F6(e,t){if(e&1&&I(0,M6,0,0,"ng-template",10),e&2){let i=S(2);b("ngIf",!i.icon&&i.iconTemplate)}}function T6(e,t){if(e&1&&(Ee(0),I(1,I6,1,2,"span",6)(2,F6,1,1,null,5),Re()),e&2){let i=S();f(),b("ngIf",i.icon&&!i.iconTemplate),f(),b("ngTemplateOutlet",i.iconTemplate)("ngTemplateOutletContext",qe(3,qw,i.iconClass()))}}function k6(e,t){if(e&1&&(w(0,"span",11),z(1),y()),e&2){let i=S();V("aria-hidden",i.icon&&!i.label)("data-pc-section","label"),f(),je(i.label)}}function P6(e,t){if(e&1&&(w(0,"span",8),z(1),y()),e&2){let i=S();xe(i.badgeClass),b("ngClass",i.badgeStyleClass()),V("data-pc-section","badge"),f(),je(i.badge)}}var Qn={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},Yw=(()=>{class e{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(i){this._label=i,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(i){this._icon=i,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(i){this._loading=i,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Qn);constructor(i,n){this.el=i,this.document=n}ngAfterViewInit(){H.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let i=[Qn.button,Qn.component];return this.icon&&!this.label&&Ce.isEmpty(this.htmlElement.textContent)&&i.push(Qn.iconOnly),this.loading&&(i.push(Qn.disabled,Qn.loading),!this.icon&&this.label&&i.push(Qn.labelOnly),this.icon&&!this.label&&!Ce.isEmpty(this.htmlElement.textContent)&&i.push(Qn.iconOnly)),this.text&&i.push("p-button-text"),this.severity&&i.push(`p-button-${this.severity}`),this.plain&&i.push("p-button-plain"),this.raised&&i.push("p-button-raised"),this.size&&i.push(`p-button-${this.size}`),this.outlined&&i.push("p-button-outlined"),this.rounded&&i.push("p-button-rounded"),this.size==="small"&&i.push("p-button-sm"),this.size==="large"&&i.push("p-button-lg"),i}setStyleClass(){let i=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...i)}createLabel(){if(!H.findSingle(this.htmlElement,".p-button-label")&&this.label){let n=this.document.createElement("span");this.icon&&!this.label&&n.setAttribute("aria-hidden","true"),n.className="p-button-label",n.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(n)}}createIcon(){if(!H.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let n=this.document.createElement("span");n.className="p-button-icon",n.setAttribute("aria-hidden","true");let o=this.label?"p-button-icon-"+this.iconPos:null;o&&H.addClass(n,o);let r=this.getIconClass();r&&H.addMultipleClasses(n,r),this.htmlElement.insertBefore(n,this.htmlElement.firstChild)}}updateLabel(){let i=H.findSingle(this.htmlElement,".p-button-label");if(!this.label){i&&this.htmlElement.removeChild(i);return}i?i.textContent=this.label:this.createLabel()}updateIcon(){let i=H.findSingle(this.htmlElement,".p-button-icon"),n=H.findSingle(this.htmlElement,".p-button-label");i?this.iconPos?i.className="p-button-icon "+(n?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():i.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(n){return new(n||e)(v(Q),v(le))};static \u0275dir=q({type:e,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",O],rounded:[2,"rounded","rounded",O],text:[2,"text","text",O],outlined:[2,"outlined","outlined",O],size:"size",plain:[2,"plain","plain",O]},standalone:!0,features:[ve]})}return e})(),mg=(()=>{class e{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new _;onFocus=new _;onBlur=new _;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(i){this.el=i}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,i])=>!!i).reduce((i,[n])=>i+` ${n}`,"p-button-loading-icon")}iconClass(){let i={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?i[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(i[this.icon]=!0),i}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"content":this.contentTemplate=i.template;break;case"icon":this.iconTemplate=i.template;break;case"loadingicon":this.loadingIconTemplate=i.template;break;default:this.contentTemplate=i.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(n){return new(n||e)(v(Q))};static \u0275cmp=W({type:e,selectors:[["p-button"]],contentQueries:function(n,o,r){if(n&1&&Ve(r,wi,4),n&2){let s;ne(s=oe())&&(o.templates=s)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(n,o){n&2&&me("p-disabled",o.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",O],loading:[2,"loading","loading",O],loadingIcon:"loadingIcon",raised:[2,"raised","raised",O],rounded:[2,"rounded","rounded",O],text:[2,"text","text",O],plain:[2,"plain","plain",O],severity:"severity",outlined:[2,"outlined","outlined",O],link:[2,"link","link",O],tabindex:[2,"tabindex","tabindex",Ne],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",O]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[ve,Y],ngContentSelectors:w6,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(n,o){n&1&&(Ae(),w(0,"button",0),G("click",function(s){return o.onClick.emit(s)})("focus",function(s){return o.onFocus.emit(s)})("blur",function(s){return o.onBlur.emit(s)}),fe(1),I(2,y6,1,0,"ng-container",1)(3,D6,3,5,"ng-container",2)(4,T6,3,5,"ng-container",2)(5,k6,2,3,"span",3)(6,P6,2,5,"span",4),y()),n&2&&(b("ngStyle",o.style)("disabled",o.disabled||o.loading)("ngClass",o.buttonClass)("autofocus",o.autofocus),V("type",o.type)("aria-label",o.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",o.tabindex),f(2),b("ngTemplateOutlet",o.contentTemplate),f(),b("ngIf",o.loading),f(),b("ngIf",!o.loading),f(),b("ngIf",!o.contentTemplate&&o.label),f(),b("ngIf",!o.contentTemplate&&o.badge))},dependencies:[Zt,Mt,ji,ut,Hr,Yn,$w],encapsulation:2,changeDetection:0})}return e})(),fa=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[mg,ot]})}return e})();var fg=(()=>{class e extends ft{static \u0275fac=(()=>{let i;return function(o){return(i||(i=Me(e)))(o||e)}})();static \u0275cmp=W({type:e,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[ge,Y],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(n,o){n&1&&(Ke(),w(0,"svg",0),j(1,"path",1),y()),n&2&&(xe(o.getClassNames()),V("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var vg=(()=>{class e extends ft{static \u0275fac=(()=>{let i;return function(o){return(i||(i=Me(e)))(o||e)}})();static \u0275cmp=W({type:e,selectors:[["ChevronRightIcon"]],standalone:!0,features:[ge,Y],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(n,o){n&1&&(Ke(),w(0,"svg",0),j(1,"path",1),y()),n&2&&(xe(o.getClassNames()),V("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var Cg=(()=>{class e extends ft{static \u0275fac=(()=>{let i;return function(o){return(i||(i=Me(e)))(o||e)}})();static \u0275cmp=W({type:e,selectors:[["ChevronUpIcon"]],standalone:!0,features:[ge,Y],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(n,o){n&1&&(Ke(),w(0,"svg",0),j(1,"path",1),y()),n&2&&(xe(o.getClassNames()),V("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var Br=(()=>{class e extends ft{static \u0275fac=(()=>{let i;return function(o){return(i||(i=Me(e)))(o||e)}})();static \u0275cmp=W({type:e,selectors:[["ChevronDownIcon"]],standalone:!0,features:[ge,Y],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(n,o){n&1&&(Ke(),w(0,"svg",0),j(1,"path",1),y()),n&2&&(xe(o.getClassNames()),V("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var wn=(()=>{class e extends ft{static \u0275fac=(()=>{let i;return function(o){return(i||(i=Me(e)))(o||e)}})();static \u0275cmp=W({type:e,selectors:[["TimesIcon"]],standalone:!0,features:[ge,Y],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(n,o){n&1&&(Ke(),w(0,"svg",0),j(1,"path",1),y()),n&2&&(xe(o.getClassNames()),V("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var bg=(()=>{class e extends ft{static \u0275fac=(()=>{let i;return function(o){return(i||(i=Me(e)))(o||e)}})();static \u0275cmp=W({type:e,selectors:[["CalendarIcon"]],standalone:!0,features:[ge,Y],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(n,o){n&1&&(Ke(),w(0,"svg",0),j(1,"path",1),y()),n&2&&(xe(o.getClassNames()),V("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var A6=["container"],O6=["inputfield"],L6=["contentWrapper"],N6=[[["p-header"]],[["p-footer"]]],V6=["p-header","p-footer"],H6=(e,t,i,n,o)=>({"p-calendar":!0,"p-input-icon-right":e,"p-calendar-w-btn":t,"p-calendar-timeonly":i,"p-calendar-disabled":n,"p-focus":o}),B6=e=>({clickCallBack:e}),z6=e=>({"p-datepicker-icon":e}),G6=(e,t,i,n,o,r)=>({"p-datepicker p-component":!0,"p-datepicker-inline":e,"p-disabled":t,"p-datepicker-timeonly":i,"p-datepicker-multiple-month":n,"p-datepicker-monthpicker":o,"p-datepicker-touch-ui":r}),Zw=(e,t)=>({showTransitionParams:e,hideTransitionParams:t}),W6=e=>({value:"visibleTouchUI",params:e}),j6=e=>({value:"visible",params:e}),wg=e=>({$implicit:e}),U6=(e,t)=>({"p-datepicker-other-month":e,"p-datepicker-today":t}),$6=(e,t)=>({"p-highlight p-datepicker-current-day":e,"p-disabled":t}),Jw=(e,t)=>({"p-highlight":e,"p-disabled":t}),Xw=e=>[e];function K6(e,t){if(e&1){let i=ue();w(0,"TimesIcon",11),G("click",function(){M(i);let o=S(3);return F(o.clear())}),y()}e&2&&b("styleClass","p-calendar-clear-icon")}function q6(e,t){}function Y6(e,t){e&1&&I(0,q6,0,0,"ng-template")}function Q6(e,t){if(e&1){let i=ue();w(0,"span",12),G("click",function(){M(i);let o=S(3);return F(o.clear())}),I(1,Y6,1,0,null,13),y()}if(e&2){let i=S(3);f(),b("ngTemplateOutlet",i.clearIconTemplate)}}function Z6(e,t){if(e&1&&(Ee(0),I(1,K6,1,1,"TimesIcon",9)(2,Q6,2,1,"span",10),Re()),e&2){let i=S(2);f(),b("ngIf",!i.clearIconTemplate),f(),b("ngIf",i.clearIconTemplate)}}function X6(e,t){if(e&1&&j(0,"span",16),e&2){let i=S(3);b("ngClass",i.icon)}}function J6(e,t){e&1&&j(0,"CalendarIcon")}function e4(e,t){}function t4(e,t){e&1&&I(0,e4,0,0,"ng-template")}function i4(e,t){if(e&1&&(Ee(0),I(1,J6,1,0,"CalendarIcon",7)(2,t4,1,0,null,13),Re()),e&2){let i=S(3);f(),b("ngIf",!i.triggerIconTemplate),f(),b("ngTemplateOutlet",i.triggerIconTemplate)}}function n4(e,t){if(e&1){let i=ue();w(0,"button",14),G("click",function(o){M(i),S();let r=It(1),s=S();return F(s.onButtonClick(o,r))}),I(1,X6,1,1,"span",15)(2,i4,3,2,"ng-container",7),y()}if(e&2){let i,n=S(2);b("disabled",n.disabled),V("aria-label",n.iconButtonAriaLabel)("aria-expanded",(i=n.overlayVisible)!==null&&i!==void 0?i:!1)("aria-controls",n.overlayVisible?n.panelId:null),f(),b("ngIf",n.icon),f(),b("ngIf",!n.icon)}}function o4(e,t){if(e&1){let i=ue();w(0,"CalendarIcon",19),G("click",function(o){M(i);let r=S(3);return F(r.onButtonClick(o))}),y()}if(e&2){let i=S(3);b("ngClass",qe(1,z6,i.showOnFocus))}}function r4(e,t){e&1&&Pe(0)}function s4(e,t){if(e&1&&(Ee(0),I(1,o4,1,3,"CalendarIcon",17)(2,r4,1,0,"ng-container",18),Re()),e&2){let i=S(2);f(),b("ngIf",!i.inputIconTemplate),f(),b("ngTemplateOutlet",i.inputIconTemplate)("ngTemplateOutletContext",qe(3,B6,i.onButtonClick.bind(i)))}}function a4(e,t){if(e&1){let i=ue();w(0,"input",6,1),G("focus",function(o){M(i);let r=S();return F(r.onInputFocus(o))})("keydown",function(o){M(i);let r=S();return F(r.onInputKeydown(o))})("click",function(){M(i);let o=S();return F(o.onInputClick())})("blur",function(o){M(i);let r=S();return F(r.onInputBlur(o))})("input",function(o){M(i);let r=S();return F(r.onUserInput(o))}),y(),I(2,Z6,3,2,"ng-container",7)(3,n4,3,6,"button",8)(4,s4,3,5,"ng-container",7)}if(e&2){let i,n=S();xe(n.inputStyleClass),b("value",n.inputFieldValue)("readonly",n.readonlyInput)("ngStyle",n.inputStyle)("placeholder",n.placeholder||"")("disabled",n.disabled)("ngClass",n.inputClass)("autofocus",n.autofocus),V("id",n.inputId)("name",n.name)("required",n.required)("aria-required",n.required)("aria-expanded",(i=n.overlayVisible)!==null&&i!==void 0?i:!1)("aria-controls",n.overlayVisible?n.panelId:null)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("tabindex",n.tabindex)("inputmode",n.touchUI?"off":null),f(2),b("ngIf",n.showClear&&!n.disabled&&n.value!=null),f(),b("ngIf",n.showIcon&&n.iconDisplay==="button"),f(),b("ngIf",n.iconDisplay==="input"&&n.showIcon)}}function l4(e,t){e&1&&Pe(0)}function c4(e,t){e&1&&j(0,"ChevronLeftIcon",40),e&2&&b("styleClass","p-datepicker-prev-icon")}function d4(e,t){}function u4(e,t){e&1&&I(0,d4,0,0,"ng-template")}function h4(e,t){if(e&1&&(w(0,"span",41),I(1,u4,1,0,null,13),y()),e&2){let i=S(5);f(),b("ngTemplateOutlet",i.previousIconTemplate)}}function p4(e,t){if(e&1){let i=ue();w(0,"button",38),G("keydown",function(o){M(i);let r=S(4);return F(r.onContainerButtonKeydown(o))})("click",function(o){M(i);let r=S(4);return F(r.onPrevButtonClick(o))}),I(1,c4,1,1,"ChevronLeftIcon",35)(2,h4,2,1,"span",39),y()}if(e&2){let i=S(4);V("aria-label",i.prevIconAriaLabel),f(),b("ngIf",!i.previousIconTemplate),f(),b("ngIf",i.previousIconTemplate)}}function g4(e,t){if(e&1){let i=ue();w(0,"button",42),G("click",function(o){M(i);let r=S(4);return F(r.switchToMonthView(o))})("keydown",function(o){M(i);let r=S(4);return F(r.onContainerButtonKeydown(o))}),z(1),y()}if(e&2){let i=S().$implicit,n=S(3);b("disabled",n.switchViewButtonDisabled()),V("aria-label",n.getTranslation("chooseMonth")),f(),Be(" ",n.getMonthName(i.month)," ")}}function m4(e,t){if(e&1){let i=ue();w(0,"button",43),G("click",function(o){M(i);let r=S(4);return F(r.switchToYearView(o))})("keydown",function(o){M(i);let r=S(4);return F(r.onContainerButtonKeydown(o))}),z(1),y()}if(e&2){let i=S().$implicit,n=S(3);b("disabled",n.switchViewButtonDisabled()),V("aria-label",n.getTranslation("chooseYear")),f(),Be(" ",n.getYear(i)," ")}}function f4(e,t){if(e&1&&(Ee(0),z(1),Re()),e&2){let i=S(5);f(),gm("",i.yearPickerValues()[0]," - ",i.yearPickerValues()[i.yearPickerValues().length-1],"")}}function v4(e,t){e&1&&Pe(0)}function C4(e,t){if(e&1&&(w(0,"span",44),I(1,f4,2,2,"ng-container",7)(2,v4,1,0,"ng-container",18),y()),e&2){let i=S(4);f(),b("ngIf",!i.decadeTemplate),f(),b("ngTemplateOutlet",i.decadeTemplate)("ngTemplateOutletContext",qe(3,wg,i.yearPickerValues))}}function b4(e,t){e&1&&j(0,"ChevronRightIcon",40),e&2&&b("styleClass","p-datepicker-next-icon")}function w4(e,t){}function y4(e,t){e&1&&I(0,w4,0,0,"ng-template")}function S4(e,t){if(e&1&&(w(0,"span",45),I(1,y4,1,0,null,13),y()),e&2){let i=S(4);f(),b("ngTemplateOutlet",i.nextIconTemplate)}}function _4(e,t){if(e&1&&(w(0,"th",51)(1,"span"),z(2),y()()),e&2){let i=S(5);f(2),je(i.getTranslation("weekHeader"))}}function x4(e,t){if(e&1&&(w(0,"th",52)(1,"span"),z(2),y()()),e&2){let i=t.$implicit;f(2),je(i)}}function E4(e,t){if(e&1&&(w(0,"td",55)(1,"span",56),z(2),y()()),e&2){let i=S().index,n=S(2).$implicit;f(2),Be(" ",n.weekNumbers[i]," ")}}function R4(e,t){if(e&1&&(Ee(0),z(1),Re()),e&2){let i=S(2).$implicit;f(),je(i.day)}}function D4(e,t){e&1&&Pe(0)}function I4(e,t){if(e&1&&(Ee(0),I(1,D4,1,0,"ng-container",18),Re()),e&2){let i=S(2).$implicit,n=S(6);f(),b("ngTemplateOutlet",n.dateTemplate)("ngTemplateOutletContext",qe(2,wg,i))}}function M4(e,t){e&1&&Pe(0)}function F4(e,t){if(e&1&&(Ee(0),I(1,M4,1,0,"ng-container",18),Re()),e&2){let i=S(2).$implicit,n=S(6);f(),b("ngTemplateOutlet",n.disabledDateTemplate)("ngTemplateOutletContext",qe(2,wg,i))}}function T4(e,t){if(e&1&&(w(0,"div",59),z(1),y()),e&2){let i=S(2).$implicit;f(),Be(" ",i.day," ")}}function k4(e,t){if(e&1){let i=ue();Ee(0),w(1,"span",57),G("click",function(o){M(i);let r=S().$implicit,s=S(6);return F(s.onDateSelect(o,r))})("keydown",function(o){M(i);let r=S().$implicit,s=S(3).index,a=S(3);return F(a.onDateCellKeydown(o,r,s))}),I(2,R4,2,1,"ng-container",7)(3,I4,2,4,"ng-container",7)(4,F4,2,4,"ng-container",7),y(),I(5,T4,2,1,"div",58),Re()}if(e&2){let i=S().$implicit,n=S(6);f(),b("ngClass",ai(6,$6,n.isSelected(i)&&i.selectable,!i.selectable)),V("data-date",n.formatDateKey(n.formatDateMetaToDate(i))),f(),b("ngIf",!n.dateTemplate&&(i.selectable||!n.disabledDateTemplate)),f(),b("ngIf",i.selectable||!n.disabledDateTemplate),f(),b("ngIf",!i.selectable),f(),b("ngIf",n.isSelected(i))}}function P4(e,t){if(e&1&&(w(0,"td",16),I(1,k4,6,9,"ng-container",7),y()),e&2){let i=t.$implicit,n=S(6);b("ngClass",ai(3,U6,i.otherMonth,i.today)),V("aria-label",i.day),f(),b("ngIf",i.otherMonth?n.showOtherMonths:!0)}}function A4(e,t){if(e&1&&(w(0,"tr"),I(1,E4,3,1,"td",53)(2,P4,2,6,"td",54),y()),e&2){let i=t.$implicit,n=S(5);f(),b("ngIf",n.showWeek),f(),b("ngForOf",i)}}function O4(e,t){if(e&1&&(w(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),I(4,_4,3,1,"th",48)(5,x4,3,1,"th",49),y()(),w(6,"tbody"),I(7,A4,3,2,"tr",50),y()()()),e&2){let i=S().$implicit,n=S(3);f(4),b("ngIf",n.showWeek),f(),b("ngForOf",n.weekDays),f(2),b("ngForOf",i.dates)}}function L4(e,t){if(e&1){let i=ue();w(0,"div",27)(1,"div",28),I(2,p4,3,3,"button",29),w(3,"div",30),I(4,g4,2,3,"button",31)(5,m4,2,3,"button",32)(6,C4,3,5,"span",33),y(),w(7,"button",34),G("keydown",function(o){M(i);let r=S(3);return F(r.onContainerButtonKeydown(o))})("click",function(o){M(i);let r=S(3);return F(r.onNextButtonClick(o))}),I(8,b4,1,1,"ChevronRightIcon",35)(9,S4,2,1,"span",36),y()(),I(10,O4,8,3,"div",37),y()}if(e&2){let i=t.index,n=S(3);f(2),b("ngIf",i===0),f(2),b("ngIf",n.currentView==="date"),f(),b("ngIf",n.currentView!=="year"),f(),b("ngIf",n.currentView==="year"),f(),rn("display",n.numberOfMonths===1||i===n.numberOfMonths-1?"inline-flex":"none"),V("aria-label",n.nextIconAriaLabel),f(),b("ngIf",!n.nextIconTemplate),f(),b("ngIf",n.nextIconTemplate),f(),b("ngIf",n.currentView==="date")}}function N4(e,t){if(e&1&&(w(0,"div",59),z(1),y()),e&2){let i=S().$implicit;f(),Be(" ",i," ")}}function V4(e,t){if(e&1){let i=ue();w(0,"span",62),G("click",function(o){let r=M(i).index,s=S(4);return F(s.onMonthSelect(o,r))})("keydown",function(o){let r=M(i).index,s=S(4);return F(s.onMonthCellKeydown(o,r))}),z(1),I(2,N4,2,1,"div",58),y()}if(e&2){let i=t.$implicit,n=t.index,o=S(4);b("ngClass",ai(3,Jw,o.isMonthSelected(n),o.isMonthDisabled(n))),f(),Be(" ",i," "),f(),b("ngIf",o.isMonthSelected(n))}}function H4(e,t){if(e&1&&(w(0,"div",60),I(1,V4,3,6,"span",61),y()),e&2){let i=S(3);f(),b("ngForOf",i.monthPickerValues())}}function B4(e,t){if(e&1&&(w(0,"div",59),z(1),y()),e&2){let i=S().$implicit;f(),Be(" ",i," ")}}function z4(e,t){if(e&1){let i=ue();w(0,"span",65),G("click",function(o){let r=M(i).$implicit,s=S(4);return F(s.onYearSelect(o,r))})("keydown",function(o){let r=M(i).$implicit,s=S(4);return F(s.onYearCellKeydown(o,r))}),z(1),I(2,B4,2,1,"div",58),y()}if(e&2){let i=t.$implicit,n=S(4);b("ngClass",ai(3,Jw,n.isYearSelected(i),n.isYearDisabled(i))),f(),Be(" ",i," "),f(),b("ngIf",n.isYearSelected(i))}}function G4(e,t){if(e&1&&(w(0,"div",63),I(1,z4,3,6,"span",64),y()),e&2){let i=S(3);f(),b("ngForOf",i.yearPickerValues())}}function W4(e,t){if(e&1&&(Ee(0),w(1,"div",23),I(2,L4,11,10,"div",24),y(),I(3,H4,2,1,"div",25)(4,G4,2,1,"div",26),Re()),e&2){let i=S(2);f(2),b("ngForOf",i.months),f(),b("ngIf",i.currentView==="month"),f(),b("ngIf",i.currentView==="year")}}function j4(e,t){e&1&&j(0,"ChevronUpIcon")}function U4(e,t){}function $4(e,t){e&1&&I(0,U4,0,0,"ng-template")}function K4(e,t){e&1&&(Ee(0),z(1,"0"),Re())}function q4(e,t){e&1&&j(0,"ChevronDownIcon")}function Y4(e,t){}function Q4(e,t){e&1&&I(0,Y4,0,0,"ng-template")}function Z4(e,t){e&1&&j(0,"ChevronUpIcon")}function X4(e,t){}function J4(e,t){e&1&&I(0,X4,0,0,"ng-template")}function eN(e,t){e&1&&(Ee(0),z(1,"0"),Re())}function tN(e,t){e&1&&j(0,"ChevronDownIcon")}function iN(e,t){}function nN(e,t){e&1&&I(0,iN,0,0,"ng-template")}function oN(e,t){if(e&1&&(w(0,"div",69)(1,"span"),z(2),y()()),e&2){let i=S(3);f(2),je(i.timeSeparator)}}function rN(e,t){e&1&&j(0,"ChevronUpIcon")}function sN(e,t){}function aN(e,t){e&1&&I(0,sN,0,0,"ng-template")}function lN(e,t){e&1&&(Ee(0),z(1,"0"),Re())}function cN(e,t){e&1&&j(0,"ChevronDownIcon")}function dN(e,t){}function uN(e,t){e&1&&I(0,dN,0,0,"ng-template")}function hN(e,t){if(e&1){let i=ue();w(0,"div",74)(1,"button",68),G("keydown",function(o){M(i);let r=S(3);return F(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){M(i);let r=S(3);return F(r.incrementSecond(o))})("keydown.space",function(o){M(i);let r=S(3);return F(r.incrementSecond(o))})("mousedown",function(o){M(i);let r=S(3);return F(r.onTimePickerElementMouseDown(o,2,1))})("mouseup",function(o){M(i);let r=S(3);return F(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){M(i);let r=S(3);return F(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){M(i);let r=S(3);return F(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){M(i);let o=S(3);return F(o.onTimePickerElementMouseLeave())}),I(2,rN,1,0,"ChevronUpIcon",7)(3,aN,1,0,null,13),y(),w(4,"span"),I(5,lN,2,0,"ng-container",7),z(6),y(),w(7,"button",68),G("keydown",function(o){M(i);let r=S(3);return F(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){M(i);let r=S(3);return F(r.decrementSecond(o))})("keydown.space",function(o){M(i);let r=S(3);return F(r.decrementSecond(o))})("mousedown",function(o){M(i);let r=S(3);return F(r.onTimePickerElementMouseDown(o,2,-1))})("mouseup",function(o){M(i);let r=S(3);return F(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){M(i);let r=S(3);return F(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){M(i);let r=S(3);return F(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){M(i);let o=S(3);return F(o.onTimePickerElementMouseLeave())}),I(8,cN,1,0,"ChevronDownIcon",7)(9,uN,1,0,null,13),y()()}if(e&2){let i=S(3);f(),V("aria-label",i.getTranslation("nextSecond")),f(),b("ngIf",!i.incrementIconTemplate),f(),b("ngTemplateOutlet",i.incrementIconTemplate),f(2),b("ngIf",i.currentSecond<10),f(),je(i.currentSecond),f(),V("aria-label",i.getTranslation("prevSecond")),f(),b("ngIf",!i.decrementIconTemplate),f(),b("ngTemplateOutlet",i.decrementIconTemplate)}}function pN(e,t){e&1&&j(0,"ChevronUpIcon")}function gN(e,t){}function mN(e,t){e&1&&I(0,gN,0,0,"ng-template")}function fN(e,t){e&1&&j(0,"ChevronDownIcon")}function vN(e,t){}function CN(e,t){e&1&&I(0,vN,0,0,"ng-template")}function bN(e,t){if(e&1){let i=ue();w(0,"div",75)(1,"button",76),G("keydown",function(o){M(i);let r=S(3);return F(r.onContainerButtonKeydown(o))})("click",function(o){M(i);let r=S(3);return F(r.toggleAMPM(o))})("keydown.enter",function(o){M(i);let r=S(3);return F(r.toggleAMPM(o))}),I(2,pN,1,0,"ChevronUpIcon",7)(3,mN,1,0,null,13),y(),w(4,"span"),z(5),y(),w(6,"button",76),G("keydown",function(o){M(i);let r=S(3);return F(r.onContainerButtonKeydown(o))})("click",function(o){M(i);let r=S(3);return F(r.toggleAMPM(o))})("keydown.enter",function(o){M(i);let r=S(3);return F(r.toggleAMPM(o))}),I(7,fN,1,0,"ChevronDownIcon",7)(8,CN,1,0,null,13),y()()}if(e&2){let i=S(3);f(),V("aria-label",i.getTranslation("am")),f(),b("ngIf",!i.incrementIconTemplate),f(),b("ngTemplateOutlet",i.incrementIconTemplate),f(2),je(i.pm?"PM":"AM"),f(),V("aria-label",i.getTranslation("pm")),f(),b("ngIf",!i.decrementIconTemplate),f(),b("ngTemplateOutlet",i.decrementIconTemplate)}}function wN(e,t){if(e&1){let i=ue();w(0,"div",66)(1,"div",67)(2,"button",68),G("keydown",function(o){M(i);let r=S(2);return F(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){M(i);let r=S(2);return F(r.incrementHour(o))})("keydown.space",function(o){M(i);let r=S(2);return F(r.incrementHour(o))})("mousedown",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseDown(o,0,1))})("mouseup",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){M(i);let o=S(2);return F(o.onTimePickerElementMouseLeave())}),I(3,j4,1,0,"ChevronUpIcon",7)(4,$4,1,0,null,13),y(),w(5,"span"),I(6,K4,2,0,"ng-container",7),z(7),y(),w(8,"button",68),G("keydown",function(o){M(i);let r=S(2);return F(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){M(i);let r=S(2);return F(r.decrementHour(o))})("keydown.space",function(o){M(i);let r=S(2);return F(r.decrementHour(o))})("mousedown",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseDown(o,0,-1))})("mouseup",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){M(i);let o=S(2);return F(o.onTimePickerElementMouseLeave())}),I(9,q4,1,0,"ChevronDownIcon",7)(10,Q4,1,0,null,13),y()(),w(11,"div",69)(12,"span"),z(13),y()(),w(14,"div",70)(15,"button",68),G("keydown",function(o){M(i);let r=S(2);return F(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){M(i);let r=S(2);return F(r.incrementMinute(o))})("keydown.space",function(o){M(i);let r=S(2);return F(r.incrementMinute(o))})("mousedown",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseDown(o,1,1))})("mouseup",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){M(i);let o=S(2);return F(o.onTimePickerElementMouseLeave())}),I(16,Z4,1,0,"ChevronUpIcon",7)(17,J4,1,0,null,13),y(),w(18,"span"),I(19,eN,2,0,"ng-container",7),z(20),y(),w(21,"button",68),G("keydown",function(o){M(i);let r=S(2);return F(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){M(i);let r=S(2);return F(r.decrementMinute(o))})("keydown.space",function(o){M(i);let r=S(2);return F(r.decrementMinute(o))})("mousedown",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseDown(o,1,-1))})("mouseup",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){M(i);let r=S(2);return F(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){M(i);let o=S(2);return F(o.onTimePickerElementMouseLeave())}),I(22,tN,1,0,"ChevronDownIcon",7)(23,nN,1,0,null,13),y()(),I(24,oN,3,1,"div",71)(25,hN,10,8,"div",72)(26,bN,9,7,"div",73),y()}if(e&2){let i=S(2);f(2),V("aria-label",i.getTranslation("nextHour")),f(),b("ngIf",!i.incrementIconTemplate),f(),b("ngTemplateOutlet",i.incrementIconTemplate),f(2),b("ngIf",i.currentHour<10),f(),je(i.currentHour),f(),V("aria-label",i.getTranslation("prevHour")),f(),b("ngIf",!i.decrementIconTemplate),f(),b("ngTemplateOutlet",i.decrementIconTemplate),f(3),je(i.timeSeparator),f(2),V("aria-label",i.getTranslation("nextMinute")),f(),b("ngIf",!i.incrementIconTemplate),f(),b("ngTemplateOutlet",i.incrementIconTemplate),f(2),b("ngIf",i.currentMinute<10),f(),je(i.currentMinute),f(),V("aria-label",i.getTranslation("prevMinute")),f(),b("ngIf",!i.decrementIconTemplate),f(),b("ngTemplateOutlet",i.decrementIconTemplate),f(),b("ngIf",i.showSeconds),f(),b("ngIf",i.showSeconds),f(),b("ngIf",i.hourFormat=="12")}}function yN(e,t){if(e&1){let i=ue();w(0,"div",77)(1,"button",78),G("keydown",function(o){M(i);let r=S(2);return F(r.onContainerButtonKeydown(o))})("click",function(o){M(i);let r=S(2);return F(r.onTodayButtonClick(o))}),y(),w(2,"button",78),G("keydown",function(o){M(i);let r=S(2);return F(r.onContainerButtonKeydown(o))})("click",function(o){M(i);let r=S(2);return F(r.onClearButtonClick(o))}),y()()}if(e&2){let i=S(2);f(),b("label",i.getTranslation("today"))("ngClass",qe(4,Xw,i.todayButtonStyleClass)),f(),b("label",i.getTranslation("clear"))("ngClass",qe(6,Xw,i.clearButtonStyleClass))}}function SN(e,t){e&1&&Pe(0)}function _N(e,t){if(e&1){let i=ue();w(0,"div",20,2),G("@overlayAnimation.start",function(o){M(i);let r=S();return F(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){M(i);let r=S();return F(r.onOverlayAnimationDone(o))})("click",function(o){M(i);let r=S();return F(r.onOverlayClick(o))}),fe(2),I(3,l4,1,0,"ng-container",13)(4,W4,5,3,"ng-container",7)(5,wN,27,20,"div",21)(6,yN,3,8,"div",22),fe(7,1),I(8,SN,1,0,"ng-container",13),y()}if(e&2){let i=S();xe(i.panelStyleClass),b("ngStyle",i.panelStyle)("ngClass",wm(15,G6,i.inline,i.disabled,i.timeOnly,i.numberOfMonths>1,i.view==="month",i.touchUI))("@overlayAnimation",i.touchUI?qe(25,W6,ai(22,Zw,i.showTransitionOptions,i.hideTransitionOptions)):qe(30,j6,ai(27,Zw,i.showTransitionOptions,i.hideTransitionOptions)))("@.disabled",i.inline===!0),V("id",i.panelId)("aria-label",i.getTranslation("chooseDate"))("role",i.inline?null:"dialog")("aria-modal",i.inline?null:"true"),f(3),b("ngTemplateOutlet",i.headerTemplate),f(),b("ngIf",!i.timeOnly),f(),b("ngIf",(i.showTime||i.timeOnly)&&i.currentView==="date"),f(),b("ngIf",i.showButtonBar),f(2),b("ngTemplateOutlet",i.footerTemplate)}}var xN={provide:zt,useExisting:lt(()=>yg),multi:!0},yg=(()=>{class e{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(i){this._minDate=i,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=i,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(i){this._disabledDates=i,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(i){this._disabledDays=i,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(i){if(this._yearRange=i,i){let n=i.split(":"),o=parseInt(n[0]),r=parseInt(n[1]);this.populateYearOptions(o,r)}}get showTime(){return this._showTime}set showTime(i){this._showTime=i,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(i){this._responsiveOptions=i,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(i){this._numberOfMonths=i,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(i){this._firstDayOfWeek=i,this.createWeekDays()}set locale(i){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(i){this._view=i,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(i){if(this._defaultDate=i,this.initialized){let n=i||new Date;this.currentMonth=n.getMonth(),this.currentYear=n.getFullYear(),this.initTime(n),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new _;onBlur=new _;onClose=new _;onSelect=new _;onClear=new _;onInput=new _;onTodayClick=new _;onClearClick=new _;onMonthChange=new _;onYearChange=new _;onClickOutside=new _;onShow=new _;templates;containerViewChild;inputfieldViewChild;set content(i){this.contentViewChild=i,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(i,n,o,r,s,a,l){this.document=i,this.el=n,this.renderer=o,this.cd=r,this.zone=s,this.config=a,this.overlayService=l,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=nn(),this.panelId=this.attributeSelector+"_panel";let i=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"date":this.dateTemplate=i.template;break;case"decade":this.decadeTemplate=i.template;break;case"disabledDate":this.disabledDateTemplate=i.template;break;case"header":this.headerTemplate=i.template;break;case"inputicon":this.inputIconTemplate=i.template;break;case"previousicon":this.previousIconTemplate=i.template;break;case"nexticon":this.nextIconTemplate=i.template;break;case"triggericon":this.triggerIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;case"decrementicon":this.decrementIconTemplate=i.template;break;case"incrementicon":this.incrementIconTemplate=i.template;break;case"footer":this.footerTemplate=i.template;break;default:this.dateTemplate=i.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=H.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(i){return this.config.getTranslation(i)}populateYearOptions(i,n){this.yearOptions=[];for(let o=i;o<=n;o++)this.yearOptions.push(o)}createWeekDays(){this.weekDays=[];let i=this.getFirstDateOfWeek(),n=this.getTranslation(ri.DAY_NAMES_MIN);for(let o=0;o<7;o++)this.weekDays.push(n[i]),i=i==6?0:++i}monthPickerValues(){let i=[];for(let n=0;n<=11;n++)i.push(this.config.getTranslation("monthNamesShort")[n]);return i}yearPickerValues(){let i=[],n=this.currentYear-this.currentYear%this.stepYearPicker;for(let o=0;o<this.stepYearPicker;o++)i.push(n+o);return i}createMonths(i,n){this.months=this.months=[];for(let o=0;o<this.numberOfMonths;o++){let r=i+o,s=n;r>11&&(r=r%11-1,s=n+1),this.months.push(this.createMonth(r,s))}}getWeekNumber(i){let n=new Date(i.getTime());if(this.startWeekFromFirstDayOfYear){let r=+this.getFirstDateOfWeek();n.setDate(n.getDate()+6+r-n.getDay())}else n.setDate(n.getDate()+4-(n.getDay()||7));let o=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((o-n.getTime())/864e5)/7)+1}createMonth(i,n){let o=[],r=this.getFirstDayOfMonthIndex(i,n),s=this.getDaysCountInMonth(i,n),a=this.getDaysCountInPrevMonth(i,n),l=1,c=new Date,d=[],u=Math.ceil((s+r)/7);for(let h=0;h<u;h++){let p=[];if(h==0){for(let C=a-r+1;C<=a;C++){let m=this.getPreviousMonthAndYear(i,n);p.push({day:C,month:m.month,year:m.year,otherMonth:!0,today:this.isToday(c,C,m.month,m.year),selectable:this.isSelectable(C,m.month,m.year,!0)})}let g=7-p.length;for(let C=0;C<g;C++)p.push({day:l,month:i,year:n,today:this.isToday(c,l,i,n),selectable:this.isSelectable(l,i,n,!1)}),l++}else for(let g=0;g<7;g++){if(l>s){let C=this.getNextMonthAndYear(i,n);p.push({day:l-s,month:C.month,year:C.year,otherMonth:!0,today:this.isToday(c,l-s,C.month,C.year),selectable:this.isSelectable(l-s,C.month,C.year,!0)})}else p.push({day:l,month:i,year:n,today:this.isToday(c,l,i,n),selectable:this.isSelectable(l,i,n,!1)});l++}this.showWeek&&d.push(this.getWeekNumber(new Date(p[0].year,p[0].month,p[0].day))),o.push(p)}return{month:i,year:n,dates:o,weekNumbers:d}}initTime(i){this.pm=i.getHours()>11,this.showTime?(this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds(),this.setCurrentHourPM(i.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(i){if(this.disabled){i.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(i){if(this.disabled){i.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let i=this.yearOptions;if(this.yearNavigator&&this.currentYear<i[0]){let n=i[i.length-1]-i[0];this.populateYearOptions(i[0]-n,i[i.length-1]-n)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let i=this.yearOptions;if(this.yearNavigator&&this.currentYear>i[i.length-1]){let n=i[i.length-1]-i[0];this.populateYearOptions(i[0]+n,i[i.length-1]+n)}}switchToMonthView(i){this.setCurrentView("month"),i.preventDefault()}switchToYearView(i){this.setCurrentView("year"),i.preventDefault()}onDateSelect(i,n){if(this.disabled||!n.selectable){i.preventDefault();return}this.isMultipleSelection()&&this.isSelected(n)?(this.value=this.value.filter((o,r)=>!this.isDateEquals(o,n)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(n)&&this.selectDate(n),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{i.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),i.preventDefault()}shouldSelectDate(i){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(i,n){this.view==="month"?this.onDateSelect(i,{year:this.currentYear,month:n,day:1,selectable:!0}):(this.currentMonth=n,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(i,n){this.view==="year"?this.onDateSelect(i,{year:n,month:0,day:1,selectable:!0}):(this.currentYear=n,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let i="";if(this.value){if(this.isSingleSelection())i=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let n=0;n<this.value.length;n++){let o=this.formatDateTime(this.value[n]);i+=o,n!==this.value.length-1&&(i+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let n=this.value[0],o=this.value[1];i=this.formatDateTime(n),o&&(i+=" "+this.rangeSeparator+" "+this.formatDateTime(o))}}this.inputFieldValue=i,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(i){let n=this.keepInvalid?i:null,o=this.isValidDateForTimeConstraints(i);return this.isValidDate(i)?this.timeOnly?n=this.formatTime(i):(n=this.formatDate(i,this.getDateFormat()),this.showTime&&(n+=" "+this.formatTime(i))):this.dataType==="string"&&(n=i),n=o?n:"",n}formatDateMetaToDate(i){return new Date(i.year,i.month,i.day)}formatDateKey(i){return`${i.getFullYear()}-${i.getMonth()}-${i.getDate()}`}setCurrentHourPM(i){this.hourFormat=="12"?(this.pm=i>11,i>=12?this.currentHour=i==12?12:i-12:this.currentHour=i==0?12:i):this.currentHour=i}setCurrentView(i){this.currentView=i,this.cd.detectChanges(),this.alignOverlay()}selectDate(i){let n=this.formatDateMetaToDate(i);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?n.setHours(this.pm?12:0):n.setHours(this.pm?this.currentHour+12:this.currentHour):n.setHours(this.currentHour),n.setMinutes(this.currentMinute),n.setSeconds(this.currentSecond)),this.minDate&&this.minDate>n&&(n=this.minDate,this.setCurrentHourPM(n.getHours()),this.currentMinute=n.getMinutes(),this.currentSecond=n.getSeconds()),this.maxDate&&this.maxDate<n&&(n=this.maxDate,this.setCurrentHourPM(n.getHours()),this.currentMinute=n.getMinutes(),this.currentSecond=n.getSeconds()),this.isSingleSelection())this.updateModel(n);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,n]:[n]);else if(this.isRangeSelection())if(this.value&&this.value.length){let o=this.value[0],r=this.value[1];!r&&n.getTime()>=o.getTime()?r=n:(o=n,r=null),this.updateModel([o,r])}else this.updateModel([n,null]);this.onSelect.emit(n)}updateModel(i){if(this.value=i,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let n=null;Array.isArray(this.value)&&(n=this.value.map(o=>this.formatDateTime(o))),this.onModelChange(n)}}getFirstDayOfMonthIndex(i,n){let o=new Date;o.setDate(1),o.setMonth(i),o.setFullYear(n);let r=o.getDay()+this.getSundayIndex();return r>=7?r-7:r}getDaysCountInMonth(i,n){return 32-this.daylightSavingAdjust(new Date(n,i,32)).getDate()}getDaysCountInPrevMonth(i,n){let o=this.getPreviousMonthAndYear(i,n);return this.getDaysCountInMonth(o.month,o.year)}getPreviousMonthAndYear(i,n){let o,r;return i===0?(o=11,r=n-1):(o=i-1,r=n),{month:o,year:r}}getNextMonthAndYear(i,n){let o,r;return i===11?(o=0,r=n+1):(o=i+1,r=n),{month:o,year:r}}getSundayIndex(){let i=this.getFirstDateOfWeek();return i>0?7-i:0}isSelected(i){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,i);if(this.isMultipleSelection()){let n=!1;for(let o of this.value)if(n=this.isDateEquals(o,i),n)break;return n}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],i)||this.isDateEquals(this.value[1],i)||this.isDateBetween(this.value[0],this.value[1],i):this.isDateEquals(this.value[0],i)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(i){if(this.isComparable()&&!this.isMultipleSelection()){let[n,o]=this.isRangeSelection()?this.value:[this.value,this.value],r=new Date(this.currentYear,i,1);return r>=n&&r<=(o??n)}return!1}isMonthDisabled(i,n){let o=n??this.currentYear;for(let r=1;r<this.getDaysCountInMonth(i,o)+1;r++)if(this.isSelectable(r,i,o,!1))return!1;return!0}isYearDisabled(i){return Array(12).fill(0).every((n,o)=>this.isMonthDisabled(o,i))}isYearSelected(i){if(!this.isComparable()||this.isMultipleSelection())return!1;let n=this.isRangeSelection()?this.value[0]:this.value;return n?n.getFullYear()===i:!1}isDateEquals(i,n){return i&&Ce.isDate(i)?i.getDate()===n.day&&i.getMonth()===n.month&&i.getFullYear()===n.year:!1}isDateBetween(i,n,o){let r=!1;if(Ce.isDate(i)&&Ce.isDate(n)){let s=this.formatDateMetaToDate(o);return i.getTime()<=s.getTime()&&n.getTime()>=s.getTime()}return r}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(i,n,o,r){return i.getDate()===n&&i.getMonth()===o&&i.getFullYear()===r}isSelectable(i,n,o,r){let s=!0,a=!0,l=!0,c=!0;return r&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>o||this.minDate.getFullYear()===o&&this.currentView!="year"&&(this.minDate.getMonth()>n||this.minDate.getMonth()===n&&this.minDate.getDate()>i))&&(s=!1),this.maxDate&&(this.maxDate.getFullYear()<o||this.maxDate.getFullYear()===o&&(this.maxDate.getMonth()<n||this.maxDate.getMonth()===n&&this.maxDate.getDate()<i))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(i,n,o)),this.disabledDays&&(c=!this.isDayDisabled(i,n,o)),s&&a&&l&&c)}isDateDisabled(i,n,o){if(this.disabledDates){for(let r of this.disabledDates)if(r.getFullYear()===o&&r.getMonth()===n&&r.getDate()===i)return!0}return!1}isDayDisabled(i,n,o){if(this.disabledDays){let s=new Date(o,n,i).getDay();return this.disabledDays.indexOf(s)!==-1}return!1}onInputFocus(i){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(i)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(i){this.focus=!1,this.onBlur.emit(i),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(i,n=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(n.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(i){this.overlayService.add({originalEvent:i,target:this.el.nativeElement})}getMonthName(i){return this.config.getTranslation("monthNames")[i]}getYear(i){return this.currentView==="month"?this.currentYear:i.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(i){this.navigationState={backward:!0,button:!0},this.navBackward(i)}onNextButtonClick(i){this.navigationState={backward:!1,button:!0},this.navForward(i)}onContainerButtonKeydown(i){switch(i.which){case 9:if(this.inline||this.trapFocus(i),this.inline){let n=H.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),o=i.target;if(this.timeOnly)return;o==n.children[n?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,i.preventDefault();break;default:break}}onInputKeydown(i){this.isKeydown=!0,i.keyCode===40&&this.contentViewChild?this.trapFocus(i):i.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,i.preventDefault()):i.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,i.preventDefault()):i.keyCode===9&&this.contentViewChild&&(H.getFocusableElements(this.contentViewChild.nativeElement).forEach(n=>n.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(i,n,o){let r=i.currentTarget,s=r.parentElement,a=this.formatDateMetaToDate(n);switch(i.which){case 40:{r.tabIndex="-1";let g=H.index(s),C=s.parentElement.nextElementSibling;if(C){let m=C.children[g].children[0];H.hasClass(m,"p-disabled")?(this.navigationState={backward:!1},this.navForward(i)):(C.children[g].children[0].tabIndex="0",C.children[g].children[0].focus())}else this.navigationState={backward:!1},this.navForward(i);i.preventDefault();break}case 38:{r.tabIndex="-1";let g=H.index(s),C=s.parentElement.previousElementSibling;if(C){let m=C.children[g].children[0];H.hasClass(m,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(i)):(m.tabIndex="0",m.focus())}else this.navigationState={backward:!0},this.navBackward(i);i.preventDefault();break}case 37:{r.tabIndex="-1";let g=s.previousElementSibling;if(g){let C=g.children[0];H.hasClass(C,"p-disabled")||H.hasClass(C.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,o):(C.tabIndex="0",C.focus())}else this.navigateToMonth(!0,o);i.preventDefault();break}case 39:{r.tabIndex="-1";let g=s.nextElementSibling;if(g){let C=g.children[0];H.hasClass(C,"p-disabled")?this.navigateToMonth(!1,o):(C.tabIndex="0",C.focus())}else this.navigateToMonth(!1,o);i.preventDefault();break}case 13:case 32:{this.onDateSelect(i,n),i.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,i.preventDefault();break}case 9:{this.inline||this.trapFocus(i);break}case 33:{r.tabIndex="-1";let g=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),C=this.formatDateKey(g);this.navigateToMonth(!0,o,`span[data-date='${C}']:not(.p-disabled):not(.p-ink)`),i.preventDefault();break}case 34:{r.tabIndex="-1";let g=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),C=this.formatDateKey(g);this.navigateToMonth(!1,o,`span[data-date='${C}']:not(.p-disabled):not(.p-ink)`),i.preventDefault();break}case 36:r.tabIndex="-1";let l=new Date(a.getFullYear(),a.getMonth(),1),c=this.formatDateKey(l),d=H.findSingle(r.offsetParent,`span[data-date='${c}']:not(.p-disabled):not(.p-ink)`);d&&(d.tabIndex="0",d.focus()),i.preventDefault();break;case 35:r.tabIndex="-1";let u=new Date(a.getFullYear(),a.getMonth()+1,0),h=this.formatDateKey(u),p=H.findSingle(r.offsetParent,`span[data-date='${h}']:not(.p-disabled):not(.p-ink)`);u&&(p.tabIndex="0",p.focus()),i.preventDefault();break;default:break}}onMonthCellKeydown(i,n){let o=i.currentTarget;switch(i.which){case 38:case 40:{o.tabIndex="-1";var r=o.parentElement.children,s=H.index(o);let a=r[i.which===40?s+3:s-3];a&&(a.tabIndex="0",a.focus()),i.preventDefault();break}case 37:{o.tabIndex="-1";let a=o.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(i)),i.preventDefault();break}case 39:{o.tabIndex="-1";let a=o.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(i)),i.preventDefault();break}case 13:case 32:{this.onMonthSelect(i,n),i.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,i.preventDefault();break}case 9:{this.inline||this.trapFocus(i);break}default:break}}onYearCellKeydown(i,n){let o=i.currentTarget;switch(i.which){case 38:case 40:{o.tabIndex="-1";var r=o.parentElement.children,s=H.index(o);let a=r[i.which===40?s+2:s-2];a&&(a.tabIndex="0",a.focus()),i.preventDefault();break}case 37:{o.tabIndex="-1";let a=o.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(i)),i.preventDefault();break}case 39:{o.tabIndex="-1";let a=o.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(i)),i.preventDefault();break}case 13:case 32:{this.onYearSelect(i,n),i.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,i.preventDefault();break}case 9:{this.trapFocus(i);break}default:break}}navigateToMonth(i,n,o){if(i)if(this.numberOfMonths===1||n===0)this.navigationState={backward:!0},this._focusKey=o,this.navBackward(event);else{let r=this.contentViewChild.nativeElement.children[n-1];if(o){let s=H.findSingle(r,o);s.tabIndex="0",s.focus()}else{let s=H.find(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=s[s.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||n===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=o,this.navForward(event);else{let r=this.contentViewChild.nativeElement.children[n+1];if(o){let s=H.findSingle(r,o);s.tabIndex="0",s.focus()}else{let s=H.findSingle(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");s.tabIndex="0",s.focus()}}}updateFocus(){let i;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?H.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():H.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let n;this.currentView==="month"?n=H.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?n=H.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):n=H.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),n&&n.length>0&&(i=n[n.length-1])}else this.currentView==="month"?i=H.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?i=H.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):i=H.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");i&&(i.tabIndex="0",i.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let i=this.contentViewChild?.nativeElement,n;if(this.currentView==="month"){let o=H.find(i,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=H.findSingle(i,".p-monthpicker .p-monthpicker-month.p-highlight");o.forEach(s=>s.tabIndex=-1),n=r||o[0],o.length===0&&H.find(i,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let o=H.find(i,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=H.findSingle(i,".p-yearpicker .p-yearpicker-year.p-highlight");o.forEach(s=>s.tabIndex=-1),n=r||o[0],o.length===0&&H.find(i,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(n=H.findSingle(i,"span.p-highlight"),!n){let o=H.findSingle(i,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");o?n=o:n=H.findSingle(i,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}n&&(n.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||n.focus()},1),this.preventFocus=!1)}trapFocus(i){let n=H.getFocusableElements(this.contentViewChild.nativeElement);if(n&&n.length>0)if(!n[0].ownerDocument.activeElement)n[0].focus();else{let o=n.indexOf(n[0].ownerDocument.activeElement);if(i.shiftKey)if(o==-1||o===0)if(this.focusTrap)n[n.length-1].focus();else{if(o===-1)return this.hideOverlay();if(o===0)return}else n[o-1].focus();else if(o==-1)if(this.timeOnly)n[0].focus();else{let r=0;for(let s=0;s<n.length;s++)n[s].tagName==="SPAN"&&(r=s);n[r].focus()}else if(o===n.length-1){if(!this.focusTrap&&o!=-1)return this.hideOverlay();n[0].focus()}else n[o+1].focus()}i.preventDefault()}onMonthDropdownChange(i){this.currentMonth=parseInt(i),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(i){this.currentYear=parseInt(i),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(i,n){return this.hourFormat=="12"?i===12?n?12:0:n?i+12:i:i}constrainTime(i,n,o,r){let s=[i,n,o],a,l=this.value,c=this.convertTo24Hour(i,r),d=this.isRangeSelection(),u=this.isMultipleSelection();(d||u)&&(this.value||(this.value=[new Date,new Date]),d&&(l=this.value[1]||this.value[0]),u&&(l=this.value[this.value.length-1]));let p=l?l.toDateString():null,g=this.minDate&&p&&this.minDate.toDateString()===p,C=this.maxDate&&p&&this.maxDate.toDateString()===p;switch(g&&(a=this.minDate.getHours()>=12),!0){case(g&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>c):s[0]=11;case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()>n):s[1]=this.minDate.getMinutes();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()===n&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(g&&!a&&this.minDate.getHours()-1===c&&this.minDate.getHours()>c):s[0]=11,this.pm=!0;case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()>n):s[1]=this.minDate.getMinutes();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()===n&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(g&&a&&this.minDate.getHours()>c&&c!==12):this.setCurrentHourPM(this.minDate.getHours()),s[0]=this.currentHour;case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()>n):s[1]=this.minDate.getMinutes();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()===n&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(g&&this.minDate.getHours()>c):s[0]=this.minDate.getHours();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()>n):s[1]=this.minDate.getMinutes();case(g&&this.minDate.getHours()===c&&this.minDate.getMinutes()===n&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(C&&this.maxDate.getHours()<c):s[0]=this.maxDate.getHours();case(C&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()<n):s[1]=this.maxDate.getMinutes();case(C&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()===n&&this.maxDate.getSeconds()<o):s[2]=this.maxDate.getSeconds();break}return s}incrementHour(i){let n=this.currentHour??0,o=(this.currentHour??0)+this.stepHour,r=this.pm;this.hourFormat=="24"?o=o>=24?o-24:o:this.hourFormat=="12"&&(n<12&&o>11&&(r=!this.pm),o=o>=13?o-12:o),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(o,this.currentMinute,this.currentSecond,r),i.preventDefault()}toggleAMPMIfNotMinDate(i){let n=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(n)&&n.length>0&&(n=n[n.length-1]);let o=n?n.toDateString():null;this.minDate&&o&&this.minDate.toDateString()===o&&this.minDate.getHours()>=12?this.pm=!0:this.pm=i}onTimePickerElementMouseDown(i,n,o){this.disabled||(this.repeat(i,null,n,o),i.preventDefault())}onTimePickerElementMouseUp(i){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(i,n,o,r){let s=n||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(i,100,o,r),this.cd.markForCheck()},s),o){case 0:r===1?this.incrementHour(i):this.decrementHour(i);break;case 1:r===1?this.incrementMinute(i):this.decrementMinute(i);break;case 2:r===1?this.incrementSecond(i):this.decrementSecond(i);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(i){let n=(this.currentHour??0)-this.stepHour,o=this.pm;this.hourFormat=="24"?n=n<0?24+n:n:this.hourFormat=="12"&&(this.currentHour===12&&(o=!this.pm),n=n<=0?12+n:n),this.toggleAMPMIfNotMinDate(o),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(n,this.currentMinute,this.currentSecond,o),i.preventDefault()}incrementMinute(i){let n=(this.currentMinute??0)+this.stepMinute;n=n>59?n-60:n,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,n,this.currentSecond,this.pm),i.preventDefault()}decrementMinute(i){let n=(this.currentMinute??0)-this.stepMinute;n=n<0?60+n:n,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,n,this.currentSecond,this.pm),i.preventDefault()}incrementSecond(i){let n=this.currentSecond+this.stepSecond;n=n>59?n-60:n,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,n,this.pm),i.preventDefault()}decrementSecond(i){let n=this.currentSecond-this.stepSecond;n=n<0?60+n:n,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,n,this.pm),i.preventDefault()}updateTime(){let i=this.value;this.isRangeSelection()&&(i=this.value[1]||this.value[0]),this.isMultipleSelection()&&(i=this.value[this.value.length-1]),i=i?new Date(i.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?i.setHours(this.pm?12:0):i.setHours(this.pm?this.currentHour+12:this.currentHour):i.setHours(this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?i=[this.value[0],i]:i=[i,null]),this.isMultipleSelection()&&(i=[...this.value.slice(0,-1),i]),this.updateModel(i),this.onSelect.emit(i),this.updateInputfield()}toggleAMPM(i){let n=!this.pm;this.pm=n,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,n),this.updateTime(),i.preventDefault()}onUserInput(i){if(!this.isKeydown)return;this.isKeydown=!1;let n=i.target.value;try{let o=this.parseValueFromString(n);this.isValidSelection(o)?(this.updateModel(o),this.updateUI()):this.keepInvalid&&this.updateModel(o)}catch{let r=this.keepInvalid?n:null;this.updateModel(r)}this.filled=n!=null&&n.length,this.onInput.emit(i)}isValidSelection(i){if(this.isSingleSelection())return this.isSelectable(i.getDate(),i.getMonth(),i.getFullYear(),!1);let n=i.every(o=>this.isSelectable(o.getDate(),o.getMonth(),o.getFullYear(),!1));return n&&this.isRangeSelection()&&(n=i.length===1||i.length>1&&i[1]>=i[0]),n}parseValueFromString(i){if(!i||i.trim().length===0)return null;let n;if(this.isSingleSelection())n=this.parseDateTime(i);else if(this.isMultipleSelection()){let o=i.split(this.multipleSeparator);n=[];for(let r of o)n.push(this.parseDateTime(r.trim()))}else if(this.isRangeSelection()){let o=i.split(" "+this.rangeSeparator+" ");n=[];for(let r=0;r<o.length;r++)n[r]=this.parseDateTime(o[r].trim())}return n}parseDateTime(i){let n,o=i.split(" ");if(this.timeOnly)n=new Date,this.populateTime(n,o[0],o[1]);else{let r=this.getDateFormat();if(this.showTime){let s=this.hourFormat=="12"?o.pop():null,a=o.pop();n=this.parseDate(o.join(" "),r),this.populateTime(n,a,s)}else n=this.parseDate(i,r)}return n}populateTime(i,n,o){if(this.hourFormat=="12"&&!o)throw"Invalid Time";this.pm=o==="PM"||o==="pm";let r=this.parseTime(n);i.setHours(r.hour),i.setMinutes(r.minute),i.setSeconds(r.second)}isValidDate(i){return Ce.isDate(i)&&Ce.isNotEmpty(i)}updateUI(){let i=this.value;Array.isArray(i)&&(i=i[1]||i[0]);let n=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:i&&this.isValidDate(i)?i:new Date;this.currentMonth=n.getMonth(),this.currentYear=n.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(n.getHours()),this.currentMinute=n.getMinutes(),this.currentSecond=n.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(i){switch(i.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=i.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?bn.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):bn.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(i));break;case"void":this.onOverlayHide(),this.onClose.emit(i);break}}onOverlayAnimationDone(i){switch(i.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&bn.clear(i.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):H.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=H.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=H.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=H.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),H.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):H.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(i){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(i.style.zIndex)-1)),H.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",o=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),H.blockBodyScroll())}disableModality(){this.mask&&(H.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let i=this.document.body.children,n;for(let o=0;o<i.length;o++){let r=i[o];if(H.hasClass(r,"p-datepicker-mask-scrollblocker")){n=!0;break}}n||H.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(i){if(this.value=i,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=i)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(ri.FIRST_DAY_OF_WEEK)}formatDate(i,n){if(!i)return"";let o,r=d=>{let u=o+1<n.length&&n.charAt(o+1)===d;return u&&o++,u},s=(d,u,h)=>{let p=""+u;if(r(d))for(;p.length<h;)p="0"+p;return p},a=(d,u,h,p)=>r(d)?p[u]:h[u],l="",c=!1;if(i)for(o=0;o<n.length;o++)if(c)n.charAt(o)==="'"&&!r("'")?c=!1:l+=n.charAt(o);else switch(n.charAt(o)){case"d":l+=s("d",i.getDate(),2);break;case"D":l+=a("D",i.getDay(),this.getTranslation(ri.DAY_NAMES_SHORT),this.getTranslation(ri.DAY_NAMES));break;case"o":l+=s("o",Math.round((new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=s("m",i.getMonth()+1,2);break;case"M":l+=a("M",i.getMonth(),this.getTranslation(ri.MONTH_NAMES_SHORT),this.getTranslation(ri.MONTH_NAMES));break;case"y":l+=r("y")?i.getFullYear():(i.getFullYear()%100<10?"0":"")+i.getFullYear()%100;break;case"@":l+=i.getTime();break;case"!":l+=i.getTime()*1e4+this.ticksTo1970;break;case"'":r("'")?l+="'":c=!0;break;default:l+=n.charAt(o)}return l}formatTime(i){if(!i)return"";let n="",o=i.getHours(),r=i.getMinutes(),s=i.getSeconds();return this.hourFormat=="12"&&o>11&&o!=12&&(o-=12),this.hourFormat=="12"?n+=o===0?12:o<10?"0"+o:o:n+=o<10?"0"+o:o,n+=":",n+=r<10?"0"+r:r,this.showSeconds&&(n+=":",n+=s<10?"0"+s:s),this.hourFormat=="12"&&(n+=i.getHours()>11?" PM":" AM"),n}parseTime(i){let n=i.split(":"),o=this.showSeconds?3:2;if(n.length!==o)throw"Invalid time";let r=parseInt(n[0]),s=parseInt(n[1]),a=this.showSeconds?parseInt(n[2]):null;if(isNaN(r)||isNaN(s)||r>23||s>59||this.hourFormat=="12"&&r>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(r!==12&&this.pm?r+=12:!this.pm&&r===12&&(r-=12)),{hour:r,minute:s,second:a}}parseDate(i,n){if(n==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i==="")return null;let o,r,s,a=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,d=-1,u=-1,h=-1,p=!1,g,C=D=>{let N=o+1<n.length&&n.charAt(o+1)===D;return N&&o++,N},m=D=>{let N=C(D),re=D==="@"?14:D==="!"?20:D==="y"&&N?4:D==="o"?3:2,X=D==="y"?re:1,te=new RegExp("^\\d{"+X+","+re+"}"),de=i.substring(a).match(te);if(!de)throw"Missing number at position "+a;return a+=de[0].length,parseInt(de[0],10)},x=(D,N,re)=>{let X=-1,te=C(D)?re:N,de=[];for(let ye=0;ye<te.length;ye++)de.push([ye,te[ye]]);de.sort((ye,Ht)=>-(ye[1].length-Ht[1].length));for(let ye=0;ye<de.length;ye++){let Ht=de[ye][1];if(i.substr(a,Ht.length).toLowerCase()===Ht.toLowerCase()){X=de[ye][0],a+=Ht.length;break}}if(X!==-1)return X+1;throw"Unknown name at position "+a},R=()=>{if(i.charAt(a)!==n.charAt(o))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(u=1),o=0;o<n.length;o++)if(p)n.charAt(o)==="'"&&!C("'")?p=!1:R();else switch(n.charAt(o)){case"d":u=m("d");break;case"D":x("D",this.getTranslation(ri.DAY_NAMES_SHORT),this.getTranslation(ri.DAY_NAMES));break;case"o":h=m("o");break;case"m":d=m("m");break;case"M":d=x("M",this.getTranslation(ri.MONTH_NAMES_SHORT),this.getTranslation(ri.MONTH_NAMES));break;case"y":c=m("y");break;case"@":g=new Date(m("@")),c=g.getFullYear(),d=g.getMonth()+1,u=g.getDate();break;case"!":g=new Date((m("!")-this.ticksTo1970)/1e4),c=g.getFullYear(),d=g.getMonth()+1,u=g.getDate();break;case"'":C("'")?R():p=!0;break;default:R()}if(a<i.length&&(s=i.substr(a),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(c===-1?c=new Date().getFullYear():c<100&&(c+=new Date().getFullYear()-new Date().getFullYear()%100+(c<=l?0:-100)),h>-1){d=1,u=h;do{if(r=this.getDaysCountInMonth(c,d-1),u<=r)break;d++,u-=r}while(!0)}if(this.view==="year"&&(d=d===-1?1:d,u=u===-1?1:u),g=this.daylightSavingAdjust(new Date(c,d-1,u)),g.getFullYear()!==c||g.getMonth()+1!==d||g.getDate()!==u)throw"Invalid date";return g}daylightSavingAdjust(i){return i?(i.setHours(i.getHours()>12?i.getHours()+2:0),i):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(i){return this.keepInvalid?!0:(!this.minDate||i>=this.minDate)&&(!this.maxDate||i<=this.maxDate)}onTodayButtonClick(i){let n=new Date,o={day:n.getDate(),month:n.getMonth(),year:n.getFullYear(),otherMonth:n.getMonth()!==this.currentMonth||n.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(n.getMonth(),n.getFullYear()),this.onDateSelect(i,o),this.onTodayClick.emit(n)}onClearButtonClick(i){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(i)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",H.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let i="";if(this.responsiveOptions){let n=[...this.responsiveOptions].filter(o=>!!(o.breakpoint&&o.numMonths)).sort((o,r)=>-1*o.breakpoint.localeCompare(r.breakpoint,void 0,{numeric:!0}));for(let o=0;o<n.length;o++){let{breakpoint:r,numMonths:s}=n[o],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${s}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let l=s;l<this.numberOfMonths;l++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {
                                display: none !important;
                            }
                        `;i+=`
                        @media screen and (max-width: ${r}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=i}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let i=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(i,"mousedown",n=>{this.isOutsideClicked(n)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(n),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Nr(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(i){return!(this.el.nativeElement.isSameNode(i.target)||this.isNavIconClicked(i)||this.el.nativeElement.contains(i.target)||this.overlay&&this.overlay.contains(i.target))}isNavIconClicked(i){return H.hasClass(i.target,"p-datepicker-prev")||H.hasClass(i.target,"p-datepicker-prev-icon")||H.hasClass(i.target,"p-datepicker-next")||H.hasClass(i.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!H.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&bn.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(n){return new(n||e)(v(le),v(Q),v(Ri),v(Te),v(ie),v(oi),v(Or))};static \u0275cmp=W({type:e,selectors:[["p-calendar"]],contentQueries:function(n,o,r){if(n&1&&Ve(r,wi,4),n&2){let s;ne(s=oe())&&(o.templates=s)}},viewQuery:function(n,o){if(n&1&&(be(A6,5),be(O6,5),be(L6,5)),n&2){let r;ne(r=oe())&&(o.containerViewChild=r.first),ne(r=oe())&&(o.inputfieldViewChild=r.first),ne(r=oe())&&(o.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(n,o){n&2&&me("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focus)("p-calendar-clearable",o.showClear&&!o.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",O],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",O],showOtherMonths:[2,"showOtherMonths","showOtherMonths",O],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",O],showIcon:[2,"showIcon","showIcon",O],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",O],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",O],yearNavigator:[2,"yearNavigator","yearNavigator",O],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",O],stepYearPicker:[2,"stepYearPicker","stepYearPicker",Ne],stepHour:[2,"stepHour","stepHour",Ne],stepMinute:[2,"stepMinute","stepMinute",Ne],stepSecond:[2,"stepSecond","stepSecond",Ne],showSeconds:[2,"showSeconds","showSeconds",O],required:[2,"required","required",O],showOnFocus:[2,"showOnFocus","showOnFocus",O],showWeek:[2,"showWeek","showWeek",O],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",O],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",Ne],showButtonBar:[2,"showButtonBar","showButtonBar",O],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",O],autoZIndex:[2,"autoZIndex","autoZIndex",O],baseZIndex:[2,"baseZIndex","baseZIndex",Ne],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",O],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",O],touchUI:[2,"touchUI","touchUI",O],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",O],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",Ne],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[we([xN]),ve],ngContentSelectors:V6,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(n,o){n&1&&(Ae(N6),w(0,"span",3,0),I(2,a4,5,22,"ng-template",4)(3,_N,9,32,"div",5),y()),n&2&&(xe(o.styleClass),b("ngClass",bm(6,H6,o.showIcon&&o.iconDisplay==="input",o.showIcon&&o.iconDisplay==="button",o.timeOnly,o.disabled,o.focus||o.overlayVisible))("ngStyle",o.style),f(2),b("ngIf",!o.inline),f(),b("ngIf",o.inline||o.overlayVisible))},dependencies:()=>[ut,Wi,Zt,Mt,ji,Yw,Hr,fg,vg,Cg,Br,wn,bg,Yn],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[an("overlayAnimation",[Vo("visibleTouchUI",bt({transform:"translate(-50%,-50%)",opacity:1})),Bt("void => visible",[bt({opacity:0,transform:"scaleY(0.8)"}),Xt("{{showTransitionParams}}",bt({opacity:1,transform:"*"}))]),Bt("visible => void",[Xt("{{hideTransitionParams}}",bt({opacity:0}))]),Bt("void => visibleTouchUI",[bt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Xt("{{showTransitionParams}}")]),Bt("visibleTouchUI => void",[Xt("{{hideTransitionParams}}",bt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return e})(),ey=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[Se,fa,ot,sd,fg,vg,Cg,Br,wn,bg,Vr,fa,ot]})}return e})();var ty=(()=>{class e{el;ngModel;cd;config;variant="outlined";filled;constructor(i,n,o,r){this.el=i,this.ngModel=n,this.cd=o,this.config=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(n){return new(n||e)(v(Q),v(Ku,8),v(Te),v(oi))};static \u0275dir=q({type:e,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(n,o){n&1&&G("input",function(s){return o.onInput(s)}),n&2&&me("p-filled",o.filled)("p-variant-filled",o.variant==="filled"||o.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return e})(),va=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[Se]})}return e})();var Sg=(()=>{class e extends ft{static \u0275fac=(()=>{let i;return function(o){return(i||(i=Me(e)))(o||e)}})();static \u0275cmp=W({type:e,selectors:[["AngleRightIcon"]],standalone:!0,features:[ge,Y],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(n,o){n&1&&(Ke(),w(0,"svg",0),j(1,"path",1),y()),n&2&&(xe(o.getClassNames()),V("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return e})();var DN=["overlay"],IN=["content"],MN=["*"],FN=(e,t,i,n,o,r,s,a,l,c,d,u,h,p)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":e,"p-overlay-center":t,"p-overlay-top":i,"p-overlay-top-start":n,"p-overlay-top-end":o,"p-overlay-bottom":r,"p-overlay-bottom-start":s,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":d,"p-overlay-right":u,"p-overlay-right-start":h,"p-overlay-right-end":p}),TN=(e,t,i)=>({showTransitionParams:e,hideTransitionParams:t,transform:i}),kN=e=>({value:"visible",params:e}),PN=e=>({mode:e}),AN=e=>({$implicit:e});function ON(e,t){e&1&&Pe(0)}function LN(e,t){if(e&1){let i=ue();w(0,"div",3,1),G("click",function(o){M(i);let r=S(2);return F(r.onOverlayContentClick(o))})("@overlayContentAnimation.start",function(o){M(i);let r=S(2);return F(r.onOverlayContentAnimationStart(o))})("@overlayContentAnimation.done",function(o){M(i);let r=S(2);return F(r.onOverlayContentAnimationDone(o))}),fe(2),I(3,ON,1,0,"ng-container",4),y()}if(e&2){let i=S(2);xe(i.contentStyleClass),b("ngStyle",i.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",qe(11,kN,Ta(7,TN,i.showTransitionOptions,i.hideTransitionOptions,i.transformOptions[i.modal?i.overlayResponsiveDirection:"default"]))),f(3),b("ngTemplateOutlet",i.contentTemplate)("ngTemplateOutletContext",qe(15,AN,qe(13,PN,i.overlayMode)))}}function NN(e,t){if(e&1){let i=ue();w(0,"div",3,0),G("click",function(){M(i);let o=S();return F(o.onOverlayClick())}),I(2,LN,4,17,"div",2),y()}if(e&2){let i=S();xe(i.styleClass),b("ngStyle",i.style)("ngClass",ym(5,FN,[i.modal,i.modal&&i.overlayResponsiveDirection==="center",i.modal&&i.overlayResponsiveDirection==="top",i.modal&&i.overlayResponsiveDirection==="top-start",i.modal&&i.overlayResponsiveDirection==="top-end",i.modal&&i.overlayResponsiveDirection==="bottom",i.modal&&i.overlayResponsiveDirection==="bottom-start",i.modal&&i.overlayResponsiveDirection==="bottom-end",i.modal&&i.overlayResponsiveDirection==="left",i.modal&&i.overlayResponsiveDirection==="left-start",i.modal&&i.overlayResponsiveDirection==="left-end",i.modal&&i.overlayResponsiveDirection==="right",i.modal&&i.overlayResponsiveDirection==="right-start",i.modal&&i.overlayResponsiveDirection==="right-end"])),f(2),b("ngIf",i.visible)}}var VN={provide:zt,useExisting:lt(()=>_g),multi:!0},HN=Od([bt({transform:"{{transform}}",opacity:0}),Xt("{{showTransitionParams}}")]),BN=Od([Xt("{{hideTransitionParams}}",bt({transform:"{{transform}}",opacity:0}))]),_g=(()=>{class e{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(i){this._visible=i,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(i){this._mode=i}get style(){return Ce.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(i){this._style=i}get styleClass(){return Ce.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(i){this._styleClass=i}get contentStyle(){return Ce.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(i){this._contentStyle=i}get contentStyleClass(){return Ce.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(i){this._contentStyleClass=i}get target(){let i=this._target||this.overlayOptions?.target;return i===void 0?"@prev":i}set target(i){this._target=i}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(i){this._appendTo=i}get autoZIndex(){let i=this._autoZIndex||this.overlayOptions?.autoZIndex;return i===void 0?!0:i}set autoZIndex(i){this._autoZIndex=i}get baseZIndex(){let i=this._baseZIndex||this.overlayOptions?.baseZIndex;return i===void 0?0:i}set baseZIndex(i){this._baseZIndex=i}get showTransitionOptions(){let i=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return i===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":i}set showTransitionOptions(i){this._showTransitionOptions=i}get hideTransitionOptions(){let i=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return i===void 0?".1s linear":i}set hideTransitionOptions(i){this._hideTransitionOptions=i}get listener(){return this._listener||this.overlayOptions?.listener}set listener(i){this._listener=i}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(i){this._responsive=i}get options(){return this._options}set options(i){this._options=i}visibleChange=new _;onBeforeShow=new _;onShow=new _;onBeforeHide=new _;onHide=new _;onAnimationStart=new _;onAnimationDone=new _;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(In(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return E(E({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return E(E({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return H.getTargetElement(this.target,this.el?.nativeElement)}constructor(i,n,o,r,s,a,l,c){this.document=i,this.platformId=n,this.el=o,this.renderer=r,this.config=s,this.overlayService=a,this.cd=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(i=>{switch(i.getType()){case"content":this.contentTemplate=i.template;break;default:this.contentTemplate=i.template;break}})}show(i,n=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:i||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),n&&H.focus(this.targetEl),this.modal&&H.addClass(this.document?.body,"p-overflow-hidden")}hide(i,n=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:i||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),n&&H.focus(this.targetEl),this.modal&&H.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&H.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(i){this._visible=i,this.visibleChange.emit(i)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(i){this.overlayService.add({originalEvent:i,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(i){switch(i.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&bn.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),H.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&H.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",i)}onOverlayContentAnimationDone(i){let n=this.overlayEl||i.element.parentElement;switch(i.toState){case"visible":this.visible&&this.show(n,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(n,!0),this.modalVisible=!1,this.unbindListeners(),H.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),bn.clear(n),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",i)}handleEvents(i,n){this[i].emit(n),this.options&&this.options[i]&&this.options[i](n),this.config?.overlayOptions&&(this.config?.overlayOptions)[i]&&(this.config?.overlayOptions)[i](n)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Nr(this.targetEl,i=>{(this.listener?this.listener(i,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(i,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",i=>{let o=!(this.targetEl&&(this.targetEl.isSameNode(i.target)||!this.isOverlayClicked&&this.targetEl.contains(i.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(i,{type:"outside",mode:this.overlayMode,valid:i.which!==3&&o}):o)&&this.hide(i),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",i=>{(this.listener?this.listener(i,{type:"resize",mode:this.overlayMode,valid:!H.isTouchDevice()}):!H.isTouchDevice())&&this.hide(i,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",i=>{if(this.overlayOptions.hideOnEscape===!1||i.code!=="Escape")return;(this.listener?this.listener(i,{type:"keydown",mode:this.overlayMode,valid:!H.isTouchDevice()}):!H.isTouchDevice())&&this.zone.run(()=>{this.hide(i,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(H.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),bn.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(n){return new(n||e)(v(le),v(St),v(Q),v(Ri),v(oi),v(Or),v(Te),v(ie))};static \u0275cmp=W({type:e,selectors:[["p-overlay"]],contentQueries:function(n,o,r){if(n&1&&Ve(r,wi,4),n&2){let s;ne(s=oe())&&(o.templates=s)}},viewQuery:function(n,o){if(n&1&&(be(DN,5),be(IN,5)),n&2){let r;ne(r=oe())&&(o.overlayViewChild=r.first),ne(r=oe())&&(o.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[we([VN])],ngContentSelectors:MN,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){n&1&&(Ae(),I(0,NN,3,20,"div",2)),n&2&&b("ngIf",o.modalVisible)},dependencies:[ut,Zt,Mt,ji],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[an("overlayContentAnimation",[Bt(":enter",[Ld(HN)]),Bt(":leave",[Ld(BN)])])]},changeDetection:0})}return e})(),xg=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[Se,ot,ot]})}return e})();var GN=e=>({"p-cascadeselect-panel-root":e}),WN=e=>({$implicit:e});function jN(e,t){e&1&&Pe(0)}function UN(e,t){if(e&1&&(Ee(0),I(1,jN,1,0,"ng-container",8),Re()),e&2){let i=S().$implicit,n=S();f(),b("ngTemplateOutlet",n.optionTemplate)("ngTemplateOutletContext",qe(2,WN,i.option))}}function $N(e,t){if(e&1&&(w(0,"span",9),z(1),y()),e&2){let i=S().$implicit,n=S();V("data-pc-section","text"),f(),je(n.getOptionLabelToRender(i))}}function KN(e,t){e&1&&j(0,"AngleRightIcon")}function qN(e,t){}function YN(e,t){e&1&&I(0,qN,0,0,"ng-template")}function QN(e,t){if(e&1&&(w(0,"span",10),I(1,KN,1,0,"AngleRightIcon",11)(2,YN,1,0,null,12),y()),e&2){let i=S(2);V("data-pc-section","groupIcon"),f(),b("ngIf",!i.groupIconTemplate),f(),b("ngTemplateOutlet",i.groupIconTemplate)}}function ZN(e,t){if(e&1){let i=ue();w(0,"p-cascadeSelectSub",13),G("onChange",function(o){M(i);let r=S(2);return F(r.onOptionChange(o))}),y()}if(e&2){let i=S().$implicit,n=S();b("role","group")("selectId",n.selectId)("focusedOptionId",n.focusedOptionId)("activeOptionPath",n.activeOptionPath)("options",n.getOptionGroupChildren(i))("optionLabel",n.optionLabel)("optionValue",n.optionValue)("level",n.level+1)("optionGroupLabel",n.optionGroupLabel)("optionGroupChildren",n.optionGroupChildren)("dirty",n.dirty)("optionTemplate",n.optionTemplate)}}function XN(e,t){if(e&1){let i=ue();w(0,"li",3)(1,"div",4),G("click",function(o){let r=M(i).$implicit,s=S();return F(s.onOptionClick(o,r))}),I(2,UN,2,4,"ng-container",5)(3,$N,2,2,"ng-template",null,0,Dn)(5,QN,3,3,"span",6),y(),I(6,ZN,1,12,"p-cascadeSelectSub",7),y()}if(e&2){let i=t.$implicit,n=t.index,o=It(4),r=S();b("ngClass",r.getItemClass(i))("id",r.getOptionId(i)),V("aria-level",r.level+1)("aria-setsize",r.options.length)("data-pc-section","item")("aria-label",r.getOptionLabelToRender(i))("aria-selected",r.isOptionGroup(i)?void 0:r.isOptionSelected(i))("aria-posinset",n+1),f(),V("tabindex",0)("data-pc-section","content"),f(),b("ngIf",r.optionTemplate)("ngIfElse",o),f(3),b("ngIf",r.isOptionGroup(i)),f(),b("ngIf",r.isOptionGroup(i)&&r.isOptionActive(i))}}var JN=["focusInput"],e5=["container"],t5=["panel"],i5=["overlay"],n5=(e,t)=>({$implicit:e,placeholder:t});function o5(e,t){e&1&&Pe(0)}function r5(e,t){if(e&1&&(Ee(0),I(1,o5,1,0,"ng-container",16),Re()),e&2){let i=S();f(),b("ngTemplateOutlet",i.valueTemplate)("ngTemplateOutletContext",ai(2,n5,i.value,i.placeholder))}}function s5(e,t){if(e&1&&z(0),e&2){let i=S();Be(" ",i.label()," ")}}function a5(e,t){if(e&1){let i=ue();w(0,"TimesIcon",19),G("click",function(o){M(i);let r=S(2);return F(r.clear(o))}),y()}e&2&&(b("styleClass","p-cascadeselect-clear-icon"),V("data-pc-section","clearicon")("aria-hidden",!0))}function l5(e,t){}function c5(e,t){e&1&&I(0,l5,0,0,"ng-template")}function d5(e,t){if(e&1){let i=ue();w(0,"span",20),G("click",function(o){M(i);let r=S(2);return F(r.clear(o))}),I(1,c5,1,0,null,21),y()}if(e&2){let i=S(2);V("data-pc-section","clearicon")("aria-hidden",!0),f(),b("ngTemplateOutlet",i.clearIconTemplate)}}function u5(e,t){if(e&1&&(Ee(0),I(1,a5,1,3,"TimesIcon",17)(2,d5,2,3,"span",18),Re()),e&2){let i=S();f(),b("ngIf",!i.clearIconTemplate),f(),b("ngIf",i.clearIconTemplate)}}function h5(e,t){e&1&&Pe(0)}function p5(e,t){if(e&1&&(Ee(0),I(1,h5,1,0,"ng-container",21),Re()),e&2){let i=S(2);f(),b("ngTemplateOutlet",i.loadingIconTemplate)}}function g5(e,t){if(e&1&&j(0,"span",24),e&2){let i=S(3);b("ngClass","p-cascadeselect-trigger-icon pi-spin "+i.loadingIcon)}}function m5(e,t){e&1&&j(0,"span",25),e&2&&xe("p-cascadeselect-trigger-icon pi pi-spinner pi-spin")}function f5(e,t){if(e&1&&(Ee(0),I(1,g5,1,1,"span",22)(2,m5,1,2,"span",23),Re()),e&2){let i=S(2);f(),b("ngIf",i.loadingIcon),f(),b("ngIf",!i.loadingIcon)}}function v5(e,t){if(e&1&&(Ee(0),I(1,p5,2,1,"ng-container",11)(2,f5,3,2,"ng-container",11),Re()),e&2){let i=S();f(),b("ngIf",i.loadingIconTemplate),f(),b("ngIf",!i.loadingIconTemplate)}}function C5(e,t){e&1&&j(0,"ChevronDownIcon",28),e&2&&b("styleClass","p-cascadeselect-trigger-icon")}function b5(e,t){}function w5(e,t){e&1&&I(0,b5,0,0,"ng-template")}function y5(e,t){if(e&1&&(w(0,"span",29),I(1,w5,1,0,null,21),y()),e&2){let i=S(2);f(),b("ngTemplateOutlet",i.triggerIconTemplate)}}function S5(e,t){if(e&1&&I(0,C5,1,1,"ChevronDownIcon",26)(1,y5,2,1,"span",27),e&2){let i=S();b("ngIf",!i.triggerIconTemplate),f(),b("ngIf",i.triggerIconTemplate)}}function _5(e,t){if(e&1){let i=ue();w(0,"div",30,5)(2,"div",31)(3,"p-cascadeSelectSub",32),G("onChange",function(o){M(i);let r=S();return F(r.onOptionChange(o))}),y()(),w(4,"span",13),z(5),y()()}if(e&2){let i=S();xe(i.panelStyleClass),b("ngStyle",i.panelStyle),V("data-pc-section","panel"),f(2),V("data-pc-section","wrapper"),f(),b("options",i.processedOptions)("selectId",i.id)("focusedOptionId",i.focused?i.focusedOptionId:void 0)("activeOptionPath",i.activeOptionPath())("optionLabel",i.optionLabel)("optionValue",i.optionValue)("level",0)("optionTemplate",i.optionTemplate)("groupIconTemplate",i.groupIconTemplate)("optionGroupLabel",i.optionGroupLabel)("optionGroupChildren",i.optionGroupChildren)("optionDisabled",i.optionDisabled)("optionValue",i.optionValue)("optionLabel",i.optionLabel)("root",!0)("dirty",i.dirty)("role","tree"),f(2),Be(" ",i.selectedMessageText," ")}}var x5={provide:zt,useExisting:lt(()=>R5),multi:!0},E5=(()=>{class e{el;config;role;selectId;activeOptionPath;optionDisabled;focusedOptionId;options;optionGroupChildren;optionTemplate;groupIconTemplate;level=0;optionLabel;optionValue;optionGroupLabel;dirty;root;onChange=new _;get listLabel(){return this.config.getTranslation(ri.ARIA).listLabel}constructor(i,n){this.el=i,this.config=n}ngOnInit(){this.root||this.position()}onOptionClick(i,n){this.onChange.emit({originalEvent:i,value:n,isFocus:!0})}onOptionChange(i){this.onChange.emit(i)}getOptionId(i){return`${this.selectId}_${i.key}`}getOptionLabel(i){return this.optionLabel?Ce.resolveFieldData(i.option,this.optionLabel):i.option}getOptionValue(i){return this.optionValue?Ce.resolveFieldData(i.option,this.optionValue):i.option}getOptionLabelToRender(i){return this.isOptionGroup(i)?this.getOptionGroupLabel(i):this.getOptionLabel(i)}isOptionDisabled(i){return this.optionDisabled?Ce.resolveFieldData(i.option,this.optionDisabled):!1}getOptionGroupLabel(i){return this.optionGroupLabel?Ce.resolveFieldData(i.option,this.optionGroupLabel):null}getOptionGroupChildren(i){return i.children}isOptionGroup(i){return Ce.isNotEmpty(i.children)}isOptionSelected(i){return!this.isOptionGroup(i)&&this.isOptionActive(i)}isOptionActive(i){return this.activeOptionPath.some(n=>n.key===i.key)}isOptionFocused(i){return this.focusedOptionId===this.getOptionId(i)}getItemClass(i){return{"p-cascadeselect-item":!0,"p-cascadeselect-item-group":this.isOptionGroup(i),"p-cascadeselect-item-active p-highlight":this.isOptionActive(i),"p-focus":this.isOptionFocused(i),"p-disabled":this.isOptionDisabled(i)}}position(){let i=this.el.nativeElement.parentElement,n=H.getOffset(i),o=H.getViewport(),r=this.el.nativeElement.children[0].offsetParent?this.el.nativeElement.children[0].offsetWidth:H.getHiddenElementOuterWidth(this.el.nativeElement.children[0]),s=H.getOuterWidth(i.children[0]);parseInt(n.left,10)+s+r>o.width-H.calculateScrollbarWidth()&&(this.el.nativeElement.children[0].style.left="-200%")}static \u0275fac=function(n){return new(n||e)(v(Q),v(oi))};static \u0275cmp=W({type:e,selectors:[["p-cascadeSelectSub"]],inputs:{role:"role",selectId:"selectId",activeOptionPath:"activeOptionPath",optionDisabled:"optionDisabled",focusedOptionId:"focusedOptionId",options:"options",optionGroupChildren:"optionGroupChildren",optionTemplate:"optionTemplate",groupIconTemplate:"groupIconTemplate",level:[2,"level","level",Ne],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",dirty:[2,"dirty","dirty",O],root:[2,"root","root",O]},outputs:{onChange:"onChange"},features:[ve],decls:2,vars:7,consts:[["defaultOptionTemplate",""],["aria-orientation","horizontal",1,"p-cascadeselect-panel","p-cascadeselect-items",3,"ngClass"],["ngFor","",3,"ngForOf"],["role","treeitem",3,"ngClass","id"],["pRipple","",1,"p-cascadeselect-item-content",3,"click"],[4,"ngIf","ngIfElse"],["class","p-cascadeselect-group-icon",4,"ngIf"],["class","p-cascadeselect-sublist",3,"role","selectId","focusedOptionId","activeOptionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","dirty","optionTemplate","onChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-cascadeselect-item-text"],[1,"p-cascadeselect-group-icon"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-cascadeselect-sublist",3,"onChange","role","selectId","focusedOptionId","activeOptionPath","options","optionLabel","optionValue","level","optionGroupLabel","optionGroupChildren","dirty","optionTemplate"]],template:function(n,o){n&1&&(w(0,"ul",1),I(1,XN,7,14,"ng-template",2),y()),n&2&&(b("ngClass",qe(5,GN,o.root)),V("role",o.role)("data-pc-section",o.level===0?"list":"sublist")("aria-label",o.listLabel),f(),b("ngForOf",o.options))},dependencies:()=>[ut,Wi,Zt,Mt,Hr,Sg,e],encapsulation:2,changeDetection:0})}return e})(),R5=(()=>{class e{el;cd;config;overlayService;id;selectOnFocus=!1;searchMessage;emptyMessage;selectionMessage;emptySearchMessage;emptySelectionMessage;searchLocale;optionDisabled;autoOptionFocus=!0;styleClass;style;options;optionLabel;optionValue;optionGroupLabel;optionGroupChildren;placeholder;value;dataKey;inputId;tabindex=0;ariaLabelledBy;inputLabel;ariaLabel;appendTo;disabled;showClear=!1;panelStyleClass;panelStyle;overlayOptions;autofocus;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(i){this._showTransitionOptions=i,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}variant="outlined";loading=!1;loadingIcon;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(i){this._hideTransitionOptions=i,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}onChange=new _;onGroupChange=new _;onShow=new _;onHide=new _;onClear=new _;onBeforeShow=new _;onBeforeHide=new _;onFocus=new _;onBlur=new _;focusInputViewChild;containerViewChild;panelViewChild;overlayViewChild;templates;_showTransitionOptions="";_hideTransitionOptions="";selectionPath=null;focused=!1;overlayVisible=!1;dirty=!0;searchValue;searchTimeout;valueTemplate;optionTemplate;triggerIconTemplate;loadingIconTemplate;groupIconTemplate;clearIconTemplate;onModelChange=()=>{};onModelTouched=()=>{};focusedOptionInfo=pt({index:-1,level:0,parentKey:""});activeOptionPath=pt([]);modelValue=pt(null);processedOptions=[];get containerClass(){return{"p-cascadeselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue(),"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-inputwrapper-focus":this.focused||this.overlayVisible,"p-overlay-open":this.overlayVisible}}get labelClass(){return{"p-cascadeselect-label":!0,"p-placeholder":this.label()===this.placeholder,"p-cascadeselect-label-empty":!this.value&&(this.label()==="p-emptylabel"||this.label().length===0)}}get focusedOptionId(){return this.focusedOptionInfo().index!==-1?`${this.id}${Ce.isNotEmpty(this.focusedOptionInfo().parentKey)?"_"+this.focusedOptionInfo().parentKey:""}_${this.focusedOptionInfo().index}`:null}get filled(){return typeof this.modelValue()=="string"?!!this.modelValue():this.modelValue()||this.modelValue()!=null||this.modelValue()!=null}get searchResultMessageText(){return Ce.isNotEmpty(this.visibleOptions())?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptySearchMessage||this.config.translation.emptySearchMessage||""}get emptyMessageText(){return this.emptyMessage||this.config.translation.emptyMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText}visibleOptions=li(()=>{let i=this.activeOptionPath().find(n=>n.key===this.focusedOptionInfo().parentKey);return i?i.children:this.processedOptions});label=li(()=>{let i=this.placeholder||"p-emptylabel";if(this.hasSelectedOption()){let n=this.findOptionPathByValue(this.modelValue(),null),o=Ce.isNotEmpty(n)?n[n.length-1]:null;return o?this.getOptionLabel(o.option):i}return i});get _label(){let i=this.placeholder||"p-emptylabel";if(this.hasSelectedOption()){let n=this.findOptionPathByValue(this.modelValue(),null),o=Ce.isNotEmpty(n)?n[n.length-1]:null;return o?this.getOptionLabel(o.option):i}return i}ngOnChanges(i){i.options&&(this.processedOptions=this.createProcessedOptions(i.options.currentValue||[]),this.updateModel(null))}hasSelectedOption(){return Ce.isNotEmpty(this.modelValue())}createProcessedOptions(i,n=0,o={},r=""){let s=[];return i&&i.forEach((a,l)=>{let c=(r!==""?r+"_":"")+l,d={option:a,index:l,level:n,key:c,parent:o,parentKey:r};d.children=this.createProcessedOptions(this.getOptionGroupChildren(a,n),n+1,d,c),s.push(d)}),s}onInputFocus(i){this.disabled||(this.focused=!0,this.onFocus.emit(i))}onInputBlur(i){this.focused=!1,this.focusedOptionInfo.set({indeX:-1,level:0,parentKey:""}),this.searchValue="",this.onModelTouched(),this.onBlur.emit(i)}onInputKeyDown(i){if(this.disabled||this.loading){i.preventDefault();return}let n=i.metaKey||i.ctrlKey;switch(i.code){case"ArrowDown":this.onArrowDownKey(i);break;case"ArrowUp":this.onArrowUpKey(i);break;case"ArrowLeft":this.onArrowLeftKey(i);break;case"ArrowRight":this.onArrowRightKey(i);break;case"Home":this.onHomeKey(i);break;case"End":this.onEndKey(i);break;case"Space":this.onSpaceKey(i);break;case"Enter":case"NumpadEnter":this.onEnterKey(i);break;case"Escape":this.onEscapeKey(i);break;case"Tab":this.onTabKey(i);break;case"Backspace":this.onBackspaceKey(i);break;case"PageDown":case"PageUp":case"ShiftLeft":case"ShiftRight":break;default:!n&&Ce.isPrintableCharacter(i.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(i,i.key));break}}onArrowDownKey(i){let n=this.focusedOptionInfo().index!==-1?this.findNextOptionIndex(this.focusedOptionInfo().index):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(i,n),!this.overlayVisible&&this.show(),i.preventDefault()}onArrowUpKey(i){if(i.altKey){if(this.focusedOptionInfo().index!==-1){let n=this.visibleOptions[this.focusedOptionInfo().index];!this.isProccessedOptionGroup(n)&&this.onOptionChange({originalEvent:i,value:n})}this.overlayVisible&&this.hide(),i.preventDefault()}else{let n=this.focusedOptionInfo().index!==-1?this.findPrevOptionIndex(this.focusedOptionInfo().index):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(i,n),!this.overlayVisible&&this.show(),i.preventDefault()}}onArrowLeftKey(i){if(this.overlayVisible){let n=this.visibleOptions()[this.focusedOptionInfo().index],o=this.activeOptionPath().find(a=>a.key===n.parentKey),r=this.focusedOptionInfo().parentKey===""||o&&o.key===this.focusedOptionInfo().parentKey,s=Ce.isEmpty(n.parent);if(r){let a=this.activeOptionPath().filter(l=>l.parentKey!==this.focusedOptionInfo().parentKey);this.activeOptionPath.set(a)}s||(this.focusedOptionInfo.set({index:-1,parentKey:o?o.parentKey:""}),this.searchValue="",this.onArrowDownKey(i)),i.preventDefault()}}onArrowRightKey(i){if(this.overlayVisible){let n=this.visibleOptions()[this.focusedOptionInfo().index];this.isProccessedOptionGroup(n)&&(this.activeOptionPath().some(s=>n.key===s.key)?(this.focusedOptionInfo.set({index:-1,parentKey:n.key}),this.searchValue="",this.onArrowDownKey(i)):this.onOptionChange({originalEvent:i,value:n})),i.preventDefault()}}onHomeKey(i){this.changeFocusedOptionIndex(i,this.findFirstOptionIndex()),!this.overlayVisible&&this.show(),i.preventDefault()}onEndKey(i){this.changeFocusedOptionIndex(i,this.findLastOptionIndex()),!this.overlayVisible&&this.show(),i.preventDefault()}onEnterKey(i){if(!this.overlayVisible)this.onArrowDownKey(i);else if(this.focusedOptionInfo().index!==-1){let n=this.visibleOptions()[this.focusedOptionInfo().index],o=this.isProccessedOptionGroup(n);this.onOptionChange({originalEvent:i,value:n}),!o&&this.hide()}i.preventDefault()}onSpaceKey(i){this.onEnterKey(i)}onEscapeKey(i){this.overlayVisible&&this.hide(!0),i.preventDefault()}onTabKey(i){if(this.focusedOptionInfo().index!==-1){let n=this.visibleOptions()[this.focusedOptionInfo().index];!this.isProccessedOptionGroup(n)&&this.onOptionChange({originalEvent:i,value:n})}this.overlayVisible&&this.hide()}onBackspaceKey(i){Ce.isNotEmpty(this.modelValue())&&this.showClear&&this.clear(),i.stopPropagation()}equalityKey(){return this.optionValue?null:this.dataKey}updateModel(i,n){this.value=i,this.onModelChange(i),this.modelValue.set(i),this.onChange.emit({originalEvent:n,value:i})}autoUpdateModel(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionInfo().index=this.findFirstFocusedOptionIndex(),this.onOptionChange({originalEvent:null,processedOption:this.visibleOptions()[this.focusedOptionInfo().index],isHide:!1}),!this.overlayVisible&&this.focusedOptionInfo.set({index:-1,level:0,parentKey:""}))}scrollInView(i=-1){let n=i!==-1?`${this.id}_${i}`:this.focusedOptionId,o=H.findSingle(this.panelViewChild?.nativeElement,`li[id="${n}"]`);o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"start"})}changeFocusedOptionIndex(i,n){if(this.focusedOptionInfo().index!==n){let o=this.focusedOptionInfo();this.focusedOptionInfo.set(ce(E({},o),{index:n})),this.scrollInView()}this.selectOnFocus&&this.onOptionChange({originalEvent:i,processedOption:this.visibleOptions()[n],isHide:!1})}onOptionChange(i){let{originalEvent:n,value:o,isFocus:r,isHide:s}=i;if(Ce.isEmpty(o))return;let{index:a,level:l,parentKey:c,children:d}=o,u=Ce.isNotEmpty(d),h=this.activeOptionPath().filter(p=>p.parentKey!==c);h.push(o),this.focusedOptionInfo.set({index:a,level:l,parentKey:c}),this.activeOptionPath.set(h),u?this.onOptionGroupSelect({originalEvent:n,value:o,isFocus:!1}):this.onOptionSelect({originalEvent:n,value:o,isFocus:r}),r&&H.focus(this.focusInputViewChild.nativeElement)}onOptionSelect(i){let{originalEvent:n,value:o,isFocus:r}=i,s=this.getOptionValue(o.option),a=this.activeOptionPath();a.forEach(l=>l.selected=!0),this.activeOptionPath.set(a),this.updateModel(s,n),r&&this.hide(!0)}onOptionGroupSelect(i){this.dirty=!0,this.onGroupChange.emit(i)}onContainerClick(i){this.disabled||this.loading||this.overlayViewChild?.el?.nativeElement?.contains(i.target)||(this.overlayVisible?this.hide():this.show(),this.focusInputViewChild?.nativeElement.focus())}isOptionMatched(i){return this.isValidOption(i)&&this.getProccessedOptionLabel(i).toLocaleLowerCase(this.searchLocale).startsWith(this.searchValue.toLocaleLowerCase(this.searchLocale))}isOptionDisabled(i){return this.optionDisabled?Ce.resolveFieldData(i,this.optionDisabled):!1}isValidOption(i){return!!i&&!this.isOptionDisabled(i.option)}isValidSelectedOption(i){return this.isValidOption(i)&&this.isSelected(i)}isSelected(i){return this.activeOptionPath().some(n=>n.key===i.key)}findOptionPathByValue(i,n,o=0){if(n=n||o===0&&this.processedOptions,!n)return null;if(Ce.isEmpty(i))return[];for(let r=0;r<n.length;r++){let s=n[r];if(Ce.equals(i,this.getOptionValue(s.option),this.equalityKey()))return[s];let a=this.findOptionPathByValue(i,s.children,o+1);if(a)return a.unshift(s),a}}findFirstOptionIndex(){return this.visibleOptions().findIndex(i=>this.isValidOption(i))}findLastOptionIndex(){return Ce.findLastIndex(this.visibleOptions(),i=>this.isValidOption(i))}findNextOptionIndex(i){let n=i<this.visibleOptions().length-1?this.visibleOptions().slice(i+1).findIndex(o=>this.isValidOption(o)):-1;return n>-1?n+i+1:i}findPrevOptionIndex(i){let n=i>0?Ce.findLastIndex(this.visibleOptions().slice(0,i),o=>this.isValidOption(o)):-1;return n>-1?n:i}findSelectedOptionIndex(){return this.visibleOptions().findIndex(i=>this.isValidSelectedOption(i))}findFirstFocusedOptionIndex(){let i=this.findSelectedOptionIndex();return i<0?this.findFirstOptionIndex():i}findLastFocusedOptionIndex(){let i=this.findSelectedOptionIndex();return i<0?this.findLastOptionIndex():i}searchOptions(i,n){this.searchValue=(this.searchValue||"")+n;let o=-1,r=!1,s=this.focusedOptionInfo();return s.index!==-1?(o=this.visibleOptions().slice(s.index).findIndex(a=>this.isOptionMatched(a)),o=o===-1?this.visibleOptions().slice(0,s.index).findIndex(a=>this.isOptionMatched(a)):o+s.index):o=this.visibleOptions().findIndex(a=>this.isOptionMatched(a)),o!==-1&&(r=!0),o===-1&&s.index===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(i,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}hide(i,n=!1){let o=()=>{this.overlayVisible=!1,this.activeOptionPath.set([]),this.focusedOptionInfo.set({index:-1,level:0,parentKey:""}),n&&H.focus(this.focusInputViewChild.nativeElement),this.onHide.emit(i)};setTimeout(()=>{o()},0)}show(i,n=!1){this.onShow.emit(i),this.overlayVisible=!0;let o=this.hasSelectedOption()?this.findOptionPathByValue(this.modelValue()):this.activeOptionPath();this.activeOptionPath.set(o);let r;if(this.hasSelectedOption()&&Ce.isNotEmpty(this.activeOptionPath())){let s=this.activeOptionPath()[this.activeOptionPath().length-1];r={index:this.autoOptionFocus?s.index:-1,level:s.level,parentKey:s.parentKey}}else r={index:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,level:0,parentKey:""};this.focusedOptionInfo.set(r),n&&H.focus(this.focusInputViewChild.nativeElement)}clear(i){Ce.isNotEmpty(this.modelValue())&&this.showClear&&(this.updateModel(null),this.focusedOptionInfo.set({index:-1,level:0,parentKey:""}),this.activeOptionPath.set([]),this.onClear.emit()),i&&i.stopPropagation()}getOptionLabel(i){return this.optionLabel?Ce.resolveFieldData(i,this.optionLabel):i}getOptionValue(i){return this.optionValue?Ce.resolveFieldData(i,this.optionValue):i}getOptionGroupLabel(i){return this.optionGroupLabel?Ce.resolveFieldData(i,this.optionGroupLabel):null}getOptionGroupChildren(i,n){return Ce.resolveFieldData(i,this.optionGroupChildren[n])}isOptionGroup(i,n){return Object.prototype.hasOwnProperty.call(i,this.optionGroupChildren[n])}isProccessedOptionGroup(i){return Ce.isNotEmpty(i.children)}getProccessedOptionLabel(i){return this.isProccessedOptionGroup(i)?this.getOptionGroupLabel(i.option):this.getOptionLabel(i.option)}constructor(i,n,o,r){this.el=i,this.cd=n,this.config=o,this.overlayService=r,Oa(()=>{let s=this.activeOptionPath();Ce.isNotEmpty(s)&&this.overlayViewChild.alignOverlay()})}ngOnInit(){this.id=this.id||nn(),this.autoUpdateModel()}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"value":this.valueTemplate=i.template;break;case"option":this.optionTemplate=i.template;break;case"triggericon":this.triggerIconTemplate=i.template;break;case"loadingicon":this.loadingIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;case"optiongroupicon":this.groupIconTemplate=i.template;break}})}onOverlayAnimationDone(i){switch(i.toState){case"void":this.dirty=!1;break}}writeValue(i){this.value=i,this.updateModel(i),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}static \u0275fac=function(n){return new(n||e)(v(Q),v(Te),v(oi),v(Or))};static \u0275cmp=W({type:e,selectors:[["p-cascadeSelect"]],contentQueries:function(n,o,r){if(n&1&&Ve(r,wi,4),n&2){let s;ne(s=oe())&&(o.templates=s)}},viewQuery:function(n,o){if(n&1&&(be(JN,5),be(e5,5),be(t5,5),be(i5,5)),n&2){let r;ne(r=oe())&&(o.focusInputViewChild=r.first),ne(r=oe())&&(o.containerViewChild=r.first),ne(r=oe())&&(o.panelViewChild=r.first),ne(r=oe())&&(o.overlayViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(n,o){n&2&&me("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused||o.overlayVisible)("p-cascadeselect-clearable",o.showClear&&!o.disabled)},inputs:{id:"id",selectOnFocus:[2,"selectOnFocus","selectOnFocus",O],searchMessage:"searchMessage",emptyMessage:"emptyMessage",selectionMessage:"selectionMessage",emptySearchMessage:"emptySearchMessage",emptySelectionMessage:"emptySelectionMessage",searchLocale:"searchLocale",optionDisabled:"optionDisabled",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",O],styleClass:"styleClass",style:"style",options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",placeholder:"placeholder",value:"value",dataKey:"dataKey",inputId:"inputId",tabindex:[2,"tabindex","tabindex",Ne],ariaLabelledBy:"ariaLabelledBy",inputLabel:"inputLabel",ariaLabel:"ariaLabel",appendTo:"appendTo",disabled:[2,"disabled","disabled",O],showClear:[2,"showClear","showClear",O],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",overlayOptions:"overlayOptions",autofocus:[2,"autofocus","autofocus",O],showTransitionOptions:"showTransitionOptions",variant:"variant",loading:[2,"loading","loading",O],loadingIcon:"loadingIcon",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onGroupChange:"onGroupChange",onShow:"onShow",onHide:"onHide",onClear:"onClear",onBeforeShow:"onBeforeShow",onBeforeHide:"onBeforeHide",onFocus:"onFocus",onBlur:"onBlur"},features:[we([x5]),ve,We],decls:19,vars:34,consts:[["container",""],["focusInput",""],["defaultValueTemplate",""],["elseBlock",""],["overlay",""],["panel",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["readonly","","type","text","role","combobox","aria-haspopup","tree","pAutoFocus","",3,"focus","blur","keydown","disabled","placeholder","tabindex","autofocus"],[3,"ngClass"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-cascadeselect-trigger"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[3,"visibleChange","onAnimationDone","onBeforeShow","onShow","onBeforeHide","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass","click",4,"ngIf"],["class","p-cascadeselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-cascadeselect-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],[3,"styleClass",4,"ngIf"],["class","p-cascadeselect-trigger-icon",4,"ngIf"],[3,"styleClass"],[1,"p-cascadeselect-trigger-icon"],[1,"p-cascadeselect-panel","p-component",3,"ngStyle"],[1,"p-cascadeselect-items-wrapper"],[3,"onChange","options","selectId","focusedOptionId","activeOptionPath","optionLabel","optionValue","level","optionTemplate","groupIconTemplate","optionGroupLabel","optionGroupChildren","optionDisabled","root","dirty","role"]],template:function(n,o){if(n&1){let r=ue();w(0,"div",6,0),G("click",function(a){return M(r),F(o.onContainerClick(a))}),w(2,"div",7)(3,"input",8,1),G("focus",function(a){return M(r),F(o.onInputFocus(a))})("blur",function(a){return M(r),F(o.onInputBlur(a))})("keydown",function(a){return M(r),F(o.onInputKeyDown(a))}),y()(),w(5,"span",9),I(6,r5,2,5,"ng-container",10)(7,s5,1,1,"ng-template",null,2,Dn),y(),I(9,u5,3,2,"ng-container",11),w(10,"div",12),I(11,v5,3,2,"ng-container",10)(12,S5,2,2,"ng-template",null,3,Dn),y(),w(14,"span",13),z(15),y(),w(16,"p-overlay",14,4),vm("visibleChange",function(a){return M(r),fm(o.overlayVisible,a)||(o.overlayVisible=a),F(a)}),G("onAnimationDone",function(a){return M(r),F(o.onOverlayAnimationDone(a))})("onBeforeShow",function(a){return M(r),F(o.onBeforeShow.emit(a))})("onShow",function(a){return M(r),F(o.show(a))})("onBeforeHide",function(a){return M(r),F(o.onBeforeHide.emit(a))})("onHide",function(a){return M(r),F(o.hide(a))}),I(18,_5,6,23,"ng-template",15),y()()}if(n&2){let r,s,a=It(8),l=It(13);xe(o.styleClass),b("ngClass",o.containerClass)("ngStyle",o.style),V("data-pc-name","cascadeselect")("data-pc-section","root"),f(2),V("data-pc-section","hiddenInputWrapper"),f(),b("disabled",o.disabled)("placeholder",o.placeholder)("tabindex",o.disabled?-1:o.tabindex)("autofocus",o.autofocus),V("id",o.inputId)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("aria-expanded",(r=o.overlayVisible)!==null&&r!==void 0?r:!1)("aria-controls",o.overlayVisible?o.id+"_tree":null)("aria-activedescendant",o.focused?o.focusedOptionId:void 0),f(2),b("ngClass",o.labelClass),V("data-pc-section","label"),f(),b("ngIf",o.valueTemplate)("ngIfElse",a),f(3),b("ngIf",o.filled&&!o.disabled&&o.showClear),f(),V("aria-expanded",(s=o.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","dropdownIcon")("aria-hidden",!0),f(),b("ngIf",o.loading)("ngIfElse",l),f(4),Be(" ",o.searchResultMessageText," "),f(),mm("visible",o.overlayVisible),b("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}},dependencies:()=>[ut,Zt,Mt,ji,_g,wi,Yn,Br,wn,E5],styles:[`@layer primeng{.p-cascadeselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-cascadeselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-cascadeselect-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-cascadeselect-label-empty{overflow:hidden;visibility:hidden}.p-cascadeselect-item{cursor:pointer;font-weight:400;white-space:nowrap}.p-cascadeselect-item-content{display:flex;align-items:center;overflow:hidden;position:relative}.p-cascadeselect-group-icon{margin-left:auto;display:inline-flex}.p-cascadeselect-items{margin:0;padding:0;list-style-type:none}.p-fluid .p-cascadeselect{display:flex}.p-fluid .p-cascadeselect .p-cascadeselect-label{width:1%}.p-cascadeselect-sublist{position:absolute;min-width:100%;z-index:1;display:none}.p-cascadeselect-item-active{overflow:visible!important}.p-cascadeselect-item-active>.p-cascadeselect-sublist{display:block;left:100%;top:0}.p-cascadeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-cascadeselect-clearable,.p-overlay-modal .p-cascadeselect-sublist{position:relative}.p-overlay-modal .p-cascadeselect-item-active>.p-cascadeselect-sublist{left:0}}
`],encapsulation:2,changeDetection:0})}return e})(),iy=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[Se,xg,ot,sd,Vr,Br,Sg,wn,xg,ot]})}return e})();var Eg=(()=>{class e extends ft{pathId;ngOnInit(){this.pathId="url(#"+nn()+")"}static \u0275fac=(()=>{let i;return function(o){return(i||(i=Me(e)))(o||e)}})();static \u0275cmp=W({type:e,selectors:[["TimesCircleIcon"]],standalone:!0,features:[ge,Y],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,o){n&1&&(Ke(),w(0,"svg",0)(1,"g"),j(2,"path",1),y(),w(3,"defs")(4,"clipPath",2),j(5,"rect",3),y()()()),n&2&&(xe(o.getClassNames()),V("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),f(),V("clip-path",o.pathId),f(3),b("id",o.pathId))},encapsulation:2})}return e})();var D5=["inputtext"],I5=["container"],M5=(e,t,i,n)=>({"p-chips p-component p-input-wrapper":!0,"p-disabled":e,"p-focus":t,"p-inputwrapper-filled":i,"p-inputwrapper-focus":n}),F5=e=>({"p-inputtext p-chips-multiple-container":!0,"p-variant-filled":e}),T5=e=>({"p-chips-clearable":e}),k5=e=>({"p-chips-token":!0,"p-focus":e}),P5=e=>({$implicit:e});function A5(e,t){e&1&&Pe(0)}function O5(e,t){if(e&1&&(w(0,"span",12),z(1),y()),e&2){let i=S().$implicit,n=S();V("data-pc-section","label"),f(),je(n.field?n.resolveFieldData(i,n.field):i)}}function L5(e,t){if(e&1){let i=ue();w(0,"TimesCircleIcon",15),G("click",function(o){M(i);let r=S(2).index,s=S();return F(s.removeItem(o,r))}),y()}e&2&&(b("styleClass","p-chips-token-icon"),V("data-pc-section","removeTokenIcon")("aria-hidden",!0))}function N5(e,t){}function V5(e,t){e&1&&I(0,N5,0,0,"ng-template")}function H5(e,t){if(e&1){let i=ue();w(0,"span",16),G("click",function(o){M(i);let r=S(2).index,s=S();return F(s.removeItem(o,r))}),I(1,V5,1,0,null,17),y()}if(e&2){let i=S(3);V("data-pc-section","removeTokenIcon")("aria-hidden",!0),f(),b("ngTemplateOutlet",i.removeTokenIconTemplate)}}function B5(e,t){if(e&1&&(Ee(0),I(1,L5,1,3,"TimesCircleIcon",13)(2,H5,2,3,"span",14),Re()),e&2){let i=S(2);f(),b("ngIf",!i.removeTokenIconTemplate),f(),b("ngIf",i.removeTokenIconTemplate)}}function z5(e,t){if(e&1){let i=ue();w(0,"li",9,2),G("click",function(o){let r=M(i).$implicit,s=S();return F(s.onItemClick(o,r))}),I(2,A5,1,0,"ng-container",10)(3,O5,2,2,"span",11)(4,B5,3,2,"ng-container",8),y()}if(e&2){let i=t.$implicit,n=t.index,o=S();b("ngClass",qe(12,k5,o.focusedIndex===n)),V("id",o.id+"_chips_item_"+n)("ariaLabel",i)("aria-selected",!0)("aria-setsize",o.value.length)("aria-posinset",n+1)("data-p-focused",o.focusedIndex===n)("data-pc-section","token"),f(2),b("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",qe(14,P5,i)),f(),b("ngIf",!o.itemTemplate),f(),b("ngIf",!o.disabled)}}function G5(e,t){if(e&1){let i=ue();w(0,"TimesIcon",15),G("click",function(){M(i);let o=S(2);return F(o.clear())}),y()}e&2&&b("styleClass","p-chips-clear-icon")}function W5(e,t){}function j5(e,t){e&1&&I(0,W5,0,0,"ng-template")}function U5(e,t){if(e&1){let i=ue();w(0,"span",19),G("click",function(){M(i);let o=S(2);return F(o.clear())}),I(1,j5,1,0,null,17),y()}if(e&2){let i=S(2);f(),b("ngTemplateOutlet",i.clearIconTemplate)}}function $5(e,t){if(e&1&&(w(0,"li"),I(1,G5,1,1,"TimesIcon",13)(2,U5,2,1,"span",18),y()),e&2){let i=S();f(),b("ngIf",!i.clearIconTemplate),f(),b("ngIf",i.clearIconTemplate)}}var K5={provide:zt,useExisting:lt(()=>Rg),multi:!0},Rg=(()=>{class e{document;el;cd;config;style;styleClass;disabled;field;placeholder;max;maxLength;ariaLabel;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;caseSensitiveDuplication=!0;inputStyle;inputStyleClass;addOnTab;addOnBlur;separator;showClear=!1;autofocus;variant="outlined";onAdd=new _;onRemove=new _;onFocus=new _;onBlur=new _;onChipClick=new _;onClear=new _;inputViewChild;containerViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;id=nn();focused;focusedIndex;filled;get focusedOptionId(){return this.focusedIndex!==null?`${this.id}_chips_item_${this.focusedIndex}`:null}get isMaxedOut(){return this.max&&this.value&&this.max===this.value.length}constructor(i,n,o,r){this.document=i,this.el=n,this.cd=o,this.config=r}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"item":this.itemTemplate=i.template;break;case"removetokenicon":this.removeTokenIconTemplate=i.template;break;case"clearicon":this.clearIconTemplate=i.template;break;default:this.itemTemplate=i.template;break}}),this.updateFilledState()}onWrapperClick(){this.inputViewChild?.nativeElement.focus()}onContainerFocus(){this.focused=!0}onContainerBlur(){this.focusedIndex=-1,this.focused=!1}onContainerKeyDown(i){switch(i.code){case"ArrowLeft":this.onArrowLeftKeyOn();break;case"ArrowRight":this.onArrowRightKeyOn();break;case"Backspace":this.onBackspaceKeyOn(i);break;case"Space":this.focusedIndex!==null&&this.value&&this.value.length>0&&this.onItemClick(i,this.value[this.focusedIndex]);break;default:break}}onArrowLeftKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex=this.focusedIndex===null?this.value.length-1:this.focusedIndex-1,this.focusedIndex<0&&(this.focusedIndex=0))}onArrowRightKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex===this.value.length-1?(this.focusedIndex=null,this.inputViewChild?.nativeElement.focus()):this.focusedIndex++)}onBackspaceKeyOn(i){this.focusedIndex!==null&&this.removeItem(i,this.focusedIndex)}onInput(){this.updateFilledState(),this.focusedIndex=null}onPaste(i){this.disabled||(this.separator&&((i.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(o=>{this.addItem(i,o,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){!this.value||this.value.length===0?this.filled=this.inputViewChild&&this.inputViewChild.nativeElement&&this.inputViewChild.nativeElement.value!="":this.filled=!0}onItemClick(i,n){this.onChipClick.emit({originalEvent:i,value:n})}writeValue(i){this.value=i,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}setDisabledState(i){this.disabled=i,this.cd.markForCheck()}resolveFieldData(i,n){if(i&&n){if(n.indexOf(".")==-1)return i[n];{let s=n.split("."),a=i;for(var o=0,r=s.length;o<r;++o)a=a[s[o]];return a}}else return null}onInputFocus(i){this.focused=!0,this.focusedIndex=null,this.onFocus.emit(i)}onInputBlur(i){this.focused=!1,this.focusedIndex=null,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(i,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(i)}removeItem(i,n){if(this.disabled)return;let o=this.value[n];this.value=this.value.filter((r,s)=>s!=n),this.focusedIndex=null,this.inputViewChild.nativeElement.focus(),this.onModelChange(this.value),this.onRemove.emit({originalEvent:i,value:o}),this.updateFilledState(),this.updateMaxedOut()}addItem(i,n,o){if(this.value=this.value||[],n&&n.trim().length){let r=this.caseSensitiveDuplication?this.value.includes(n):this.value.some(s=>s.toLowerCase()===n.toLowerCase());(this.allowDuplicate||!r)&&!this.isMaxedOut&&(this.value=[...this.value,n],this.onModelChange(this.value),this.onAdd.emit({originalEvent:i,value:n}))}this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",o&&i.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeyDown(i){let n=i.target.value;switch(i.code){case"Backspace":n.length===0&&this.value&&this.value.length>0&&(this.focusedIndex!==null?this.removeItem(i,this.focusedIndex):this.removeItem(i,this.value.length-1));break;case"Enter":case"NumpadEnter":n&&n.trim().length&&!this.isMaxedOut&&this.addItem(i,n,!0);break;case"Tab":this.addOnTab&&n&&n.trim().length&&!this.isMaxedOut&&(this.addItem(i,n,!0),i.preventDefault());break;case"ArrowLeft":n.length===0&&this.value&&this.value.length>0&&this.containerViewChild?.nativeElement.focus();break;case"ArrowRight":i.stopPropagation();break;default:this.separator&&(this.separator===i.key||i.key.match(this.separator))&&this.addItem(i,n,!0);break}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isMaxedOut?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(n){return new(n||e)(v(le),v(Q),v(Te),v(oi))};static \u0275cmp=W({type:e,selectors:[["p-chips"]],contentQueries:function(n,o,r){if(n&1&&Ve(r,wi,4),n&2){let s;ne(s=oe())&&(o.templates=s)}},viewQuery:function(n,o){if(n&1&&(be(D5,5),be(I5,5)),n&2){let r;ne(r=oe())&&(o.inputViewChild=r.first),ne(r=oe())&&(o.containerViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(n,o){n&2&&me("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused)("p-chips-clearable",o.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:[2,"disabled","disabled",O],field:"field",placeholder:"placeholder",max:[2,"max","max",Ne],maxLength:"maxLength",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",Ne],inputId:"inputId",allowDuplicate:[2,"allowDuplicate","allowDuplicate",O],caseSensitiveDuplication:[2,"caseSensitiveDuplication","caseSensitiveDuplication",O],inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:[2,"addOnTab","addOnTab",O],addOnBlur:[2,"addOnBlur","addOnBlur",O],separator:"separator",showClear:[2,"showClear","showClear",O],autofocus:[2,"autofocus","autofocus",O],variant:"variant"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[we([K5]),ve],decls:8,vars:34,consts:[["container",""],["inputtext",""],["token",""],[3,"ngClass","ngStyle"],["tabindex","-1","role","listbox",3,"click","focus","blur","keydown","ngClass"],["role","option",3,"ngClass","click",4,"ngFor","ngForOf"],["role","option",1,"p-chips-input-token",3,"ngClass"],["type","text","pAutoFocus","",3,"keydown","input","paste","focus","blur","disabled","ngStyle","autofocus"],[4,"ngIf"],["role","option",3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],[1,"p-chips-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-chips-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"]],template:function(n,o){if(n&1){let r=ue();w(0,"div",3)(1,"ul",4,0),G("click",function(){return M(r),F(o.onWrapperClick())})("focus",function(){return M(r),F(o.onContainerFocus())})("blur",function(){return M(r),F(o.onContainerBlur())})("keydown",function(a){return M(r),F(o.onContainerKeyDown(a))}),I(3,z5,5,16,"li",5),w(4,"li",6)(5,"input",7,1),G("keydown",function(a){return M(r),F(o.onKeyDown(a))})("input",function(){return M(r),F(o.onInput())})("paste",function(a){return M(r),F(o.onPaste(a))})("focus",function(a){return M(r),F(o.onInputFocus(a))})("blur",function(a){return M(r),F(o.onInputBlur(a))}),y()(),I(7,$5,3,2,"li",8),y()()}n&2&&(xe(o.styleClass),b("ngClass",Cm(25,M5,o.disabled,o.focused,o.value&&o.value.length||(o.inputViewChild==null?null:o.inputViewChild.nativeElement.value)&&(o.inputViewChild==null?null:o.inputViewChild.nativeElement.value.length),o.focused))("ngStyle",o.style),V("data-pc-name","chips")("data-pc-section","root"),f(),b("ngClass",qe(30,F5,o.variant==="filled"||o.config.inputStyle()==="filled")),V("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("aria-activedescendant",o.focused?o.focusedOptionId:void 0)("aria-orientation","horizontal")("data-pc-section","container"),f(2),b("ngForOf",o.value),f(),b("ngClass",qe(32,T5,o.showClear&&!o.disabled)),V("data-pc-section","inputToken"),f(),xe(o.inputStyleClass),b("disabled",o.disabled||o.isMaxedOut)("ngStyle",o.inputStyle)("autofocus",o.autofocus),V("id",o.inputId)("maxlength",o.maxLength)("placeholder",o.value&&o.value.length?null:o.placeholder)("tabindex",o.tabindex),f(2),b("ngIf",o.value!=null&&o.filled&&!o.disabled&&o.showClear))},dependencies:()=>[ut,Wi,Zt,Mt,ji,Yn,Eg,wn],styles:[`@layer primeng{.p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}}
`],encapsulation:2,changeDetection:0})}return e})(),ny=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[Se,va,ot,Vr,Eg,wn,va,ot]})}return e})();var Y5=["*"],oy=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=W({type:e,selectors:[["p-floatLabel"]],ngContentSelectors:Y5,decls:2,vars:0,consts:[[1,"p-float-label"]],template:function(n,o){n&1&&(Ae(),w(0,"span",0),fe(1),y())},encapsulation:2,changeDetection:0})}return e})(),ry=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[Se,ot,so,ot]})}return e})();var Z5=["*"],sy=(()=>{class e{iconPosition="left";get containerClass(){return{"p-icon-field-left":this.iconPosition==="left","p-icon-field-right":this.iconPosition==="right"}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=W({type:e,selectors:[["p-iconField"]],inputs:{iconPosition:"iconPosition"},ngContentSelectors:Z5,decls:2,vars:1,consts:[[1,"p-icon-field",3,"ngClass"]],template:function(n,o){n&1&&(Ae(),w(0,"span",0),fe(1),y()),n&2&&b("ngClass",o.containerClass)},dependencies:[ut],styles:[`@layer primeng{.p-icon-field{position:relative}}
`],encapsulation:2,changeDetection:0})}return e})(),ay=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[Se,ot]})}return e})();var J5=["*"],ly=(()=>{class e{styleClass;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=W({type:e,selectors:[["p-inputIcon"]],inputs:{styleClass:"styleClass"},ngContentSelectors:J5,decls:2,vars:1,consts:[[1,"p-input-icon",3,"ngClass"]],template:function(n,o){n&1&&(Ae(),w(0,"span",0),fe(1),y()),n&2&&b("ngClass",o.styleClass)},dependencies:[ut],styles:[`@layer primeng{.p-fluid .p-icon-field-left,.p-fluid .p-icon-field-right{width:100%}}
`],encapsulation:2,changeDetection:0})}return e})(),cy=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[Se,ot]})}return e})();var ad=class e{constructor(t){this.dataService=t}maxDate=new Date;formGroup;receivedData;ngOnInit(){this.formGroup=new Ki({values:new Ti(null)})}submit(){console.log(this.formGroup.value),this.formGroup.reset()}static \u0275fac=function(i){return new(i||e)(v(ui))};static \u0275cmp=W({type:e,selectors:[["app-prime-ng"]],standalone:!0,features:[Y],decls:19,vars:4,consts:[[2,"display","flex"],["inputId","icondisplay",3,"maxDate","iconDisplay","showIcon"],["id","username","type","text","pInputText",""],["for","username"],[1,"card","p-fluid"],[3,"ngSubmit","formGroup"],["formControlName","values"],["label","Submit"],[1,"card","flex","flex-wrap","justify-content-center","gap-3"],["iconPosition","left"],["styleClass","pi pi-search"],["type","text","pInputText","","placeholder","Search"],["iconPosition","right"],["styleClass","pi pi-spinner pi-spin"],["type","text","pInputText",""]],template:function(i,n){i&1&&(w(0,"p"),z(1,"prime-ng works!"),y(),w(2,"div",0),j(3,"p-calendar",1),w(4,"p-floatLabel"),j(5,"input",2),w(6,"label",3),z(7,"Username"),y()(),w(8,"div",4)(9,"form",5),G("ngSubmit",function(){return n.submit()}),j(10,"p-chips",6)(11,"p-button",7),y()(),w(12,"div",8)(13,"p-iconField",9),j(14,"p-inputIcon",10)(15,"input",11),y(),w(16,"p-iconField",12),j(17,"p-inputIcon",13)(18,"input",14),y()()()),i&2&&(f(3),b("maxDate",n.maxDate)("iconDisplay","input")("showIcon",!0),f(6),b("formGroup",n.formGroup))},dependencies:[ey,yg,mg,Se,fa,va,ty,iy,ny,Rg,ry,oy,cy,ly,ay,sy,rr,or,ir,nr,di,ao]})};function Dy(e){let t=e.cloneNode(!0),i=t.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();t.removeAttribute("id");for(let o=0;o<i.length;o++)i[o].removeAttribute("id");return n==="canvas"?hy(e,t):(n==="input"||n==="select"||n==="textarea")&&uy(e,t),dy("canvas",e,t,hy),dy("input, textarea, select",e,t,uy),t}function dy(e,t,i,n){let o=t.querySelectorAll(e);if(o.length){let r=i.querySelectorAll(e);for(let s=0;s<o.length;s++)n(o[s],r[s])}}var tV=0;function uy(e,t){t.type!=="file"&&(t.value=e.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${tV++}`)}function hy(e,t){let i=t.getContext("2d");if(i)try{i.drawImage(e,0,0)}catch{}}function Pg(e){let t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Ig(e,t,i){let{top:n,bottom:o,left:r,right:s}=e;return i>=n&&i<=o&&t>=r&&t<=s}function ba(e,t,i){e.top+=t,e.bottom=e.top+e.height,e.left+=i,e.right=e.left+e.width}function py(e,t,i,n){let{top:o,right:r,bottom:s,left:a,width:l,height:c}=e,d=l*t,u=c*t;return n>o-u&&n<s+u&&i>a-d&&i<r+d}var ud=class{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(i=>{this.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:Pg(i)})})}handleScroll(t){let i=mt(t),n=this.positions.get(i);if(!n)return null;let o=n.scrollPosition,r,s;if(i===this._document){let c=this.getViewportScrollPosition();r=c.top,s=c.left}else r=i.scrollTop,s=i.scrollLeft;let a=o.top-r,l=o.left-s;return this.positions.forEach((c,d)=>{c.clientRect&&i!==d&&i.contains(d)&&ba(c.clientRect,a,l)}),o.top=r,o.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Iy(e,t){let i=e.rootNodes;if(i.length===1&&i[0].nodeType===t.ELEMENT_NODE)return i[0];let n=t.createElement("div");return i.forEach(o=>n.appendChild(o)),n}function Ag(e,t,i){for(let n in t)if(t.hasOwnProperty(n)){let o=t[n];o?e.setProperty(n,o,i?.has(n)?"important":""):e.removeProperty(n)}return e}function zr(e,t){let i=t?"":"none";Ag(e.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":i,"-ms-user-select":i,"-webkit-user-select":i,"-moz-user-select":i})}function gy(e,t,i){Ag(e.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},i)}function hd(e,t){return t&&t!="none"?e+" "+t:e}function my(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=pd(t.left,t.top)}function pd(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function fy(e){let t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function iV(e){let t=getComputedStyle(e),i=Dg(t,"transition-property"),n=i.find(a=>a==="transform"||a==="all");if(!n)return 0;let o=i.indexOf(n),r=Dg(t,"transition-duration"),s=Dg(t,"transition-delay");return fy(r[o])+fy(s[o])}function Dg(e,t){return e.getPropertyValue(t).split(",").map(n=>n.trim())}var nV=new Set(["position"]),Mg=class{get element(){return this._preview}constructor(t,i,n,o,r,s,a,l,c){this._document=t,this._rootElement=i,this._direction=n,this._initialDomRect=o,this._previewTemplate=r,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),vy(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return iV(this._preview)}addEventListener(t,i){this._preview.addEventListener(t,i)}removeEventListener(t,i){this._preview.removeEventListener(t,i)}_createPreview(){let t=this._previewTemplate,i=this._previewClass,n=t?t.template:null,o;if(n&&t){let r=t.matchSize?this._initialDomRect:null,s=t.viewContainer.createEmbeddedView(n,t.context);s.detectChanges(),o=Iy(s,this._document),this._previewEmbeddedView=s,t.matchSize?my(o,r):o.style.transform=pd(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=Dy(this._rootElement),my(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Ag(o.style,{"pointer-events":"none",margin:vy(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},nV),zr(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),i&&(Array.isArray(i)?i.forEach(r=>o.classList.add(r)):o.classList.add(i)),o}};function vy(e){return"showPopover"in e}var Cy=Nt({passive:!0}),ld=Nt({passive:!1}),by=Nt({passive:!1,capture:!0}),oV=800,wy=new Set(["position"]),Fg=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>zr(i,t)))}constructor(t,i,n,o,r,s){this._config=i,this._document=n,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=pt(!1),this._moveEvents=new K,this._pointerMoveSubscription=et.EMPTY,this._pointerUpSubscription=et.EMPTY,this._scrollSubscription=et.EMPTY,this._resizeSubscription=et.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new K,this.started=new K,this.released=new K,this.ended=new K,this.entered=new K,this.exited=new K,this.dropped=new K,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{let l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging()){let d=Math.abs(l.x-this._pickupPositionOnPage.x),u=Math.abs(l.y-this._pickupPositionOnPage.y);if(d+u>=this._config.dragStartThreshold){let p=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),g=this._dropContainer;if(!p){this._endDragSequence(a);return}(!g||!g.isDragging()&&!g.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{let d=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,u=this._activeTransform;u.x=c.x-d.x+this._passiveTransform.x,u.y=c.y-d.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(i.parentDragRef||null),this._parentPositions=new ud(n),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>st(n)),this._handles.forEach(n=>zr(n,this.disabled)),this._toggleNativeDragInteractions();let i=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&i.add(n)}),this._disabledHandles=i,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let i=st(t);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{i.addEventListener("mousedown",this._pointerDown,ld),i.addEventListener("touchstart",this._pointerDown,Cy),i.addEventListener("dragstart",this._nativeDragStart,ld)}),this._initialTransform=void 0,this._rootElement=i),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?st(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),zr(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),zr(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Sy,by)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let i=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(i),dropPoint:i,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Ca(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let i=this._getShadowRoot(),n=this._dropContainer;if(i&&this._ngZone.runOutsideAngular(()=>{i.addEventListener("selectstart",Sy,by)}),n){let o=this._rootElement,r=o.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=new Mg(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(r,i)),gy(o,!1,wy),this._document.body.appendChild(r.replaceChild(s,o)),this.started.next({source:this,event:t}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(t,i){this._parentDragRef&&i.stopPropagation();let n=this.isDragging(),o=Ca(i),r=!o&&i.button!==0,s=this._rootElement,a=mt(i),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+oV>Date.now(),c=o?sa(i):ra(i);if(a&&a.draggable&&i.type==="mousedown"&&i.preventDefault(),n||r||l||c)return;if(this._handles.length){let h=s.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=Pg(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,i);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(i);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,i)}_cleanupDragArtifacts(t){gy(this._rootElement,!0,wy),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let i=this._dropContainer,n=i.getItemIndex(this),o=this._getPointerPositionOnPage(t),r=this._getDragDistance(o),s=i._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:r,dropPoint:o,event:t}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:i,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r,dropPoint:o,event:t}),i.drop(this,n,this._initialIndex,this._initialContainer,s,r,o,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:i},{x:n,y:o}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,i);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,i)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,i,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,o),this._dropContainer._sortItem(this,t,i,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,i):this._applyPreviewTransform(t-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let i=this._preview.getTransitionDuration();return i===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let o=s=>{(!s||this._preview&&mt(s)===this._preview.element&&s.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",o),n(),clearTimeout(r))},r=setTimeout(o,i*1.5);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,i=t?t.template:null,n;return i?(this._placeholderRef=t.viewContainer.createEmbeddedView(i,t.context),this._placeholderRef.detectChanges(),n=Iy(this._placeholderRef,this._document)):n=Dy(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,i,n){let o=i===this._rootElement?null:i,r=o?o.getBoundingClientRect():t,s=Ca(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),l=s.pageX-r.left-a.left,c=s.pageY-r.top-a.top;return{x:r.left-t.left+l,y:r.top-t.top+c}}_getPointerPositionOnPage(t){let i=this._getViewportScrollPosition(),n=Ca(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,o=n.pageX-i.left,r=n.pageY-i.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=r,a.matrixTransform(s.inverse())}}return{x:o,y:r}}_getConstrainedPointerPosition(t){let i=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:o}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||i==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||i==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+s,u=a.bottom-(c-s),h=a.left+r,p=a.right-(l-r);n=yy(n,h,p),o=yy(o,d,u)}return{x:n,y:o}}_updatePointerDirectionDelta(t){let{x:i,y:n}=t,o=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(i-r.x),a=Math.abs(n-r.y);return s>this._config.pointerDirectionChangeThreshold&&(o.x=i>r.x?1:-1,r.x=i),a>this._config.pointerDirectionChangeThreshold&&(o.y=n>r.y?1:-1,r.y=n),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,zr(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,ld),t.removeEventListener("touchstart",this._pointerDown,Cy),t.removeEventListener("dragstart",this._nativeDragStart,ld)}_applyRootElementTransform(t,i){let n=1/this.scale,o=pd(t*n,i*n),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=hd(o,this._initialTransform)}_applyPreviewTransform(t,i){let n=this._previewTemplate?.template?void 0:this._initialTransform,o=pd(t,i);this._preview.setTransform(hd(o,n))}_getDragDistance(t){let i=this._pickupPositionOnPage;return i?{x:t.x-i.x,y:t.y-i.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:i}=this._passiveTransform;if(t===0&&i===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||n.width===0&&n.height===0)return;let r=o.left-n.left,s=n.right-o.right,a=o.top-n.top,l=n.bottom-o.bottom;o.width>n.width?(r>0&&(t+=r),s>0&&(t-=s)):t=0,o.height>n.height?(a>0&&(i+=a),l>0&&(i-=l)):i=0,(t!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:t})}_getDragStartDelay(t){let i=this.dragStartDelay;return typeof i=="number"?i:Ca(t)?i.touch:i?i.mouse:0}_updateOnScroll(t){let i=this._parentPositions.handleScroll(t);if(i){let n=mt(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&ba(this._boundaryRect,i.top,i.left),this._pickupPositionOnPage.x+=i.left,this._pickupPositionOnPage.y+=i.top,this._dropContainer||(this._activeTransform.x-=i.left,this._activeTransform.y-=i.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=xr(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,i){let n=this._previewContainer||"global";if(n==="parent")return t;if(n==="global"){let o=this._document;return i||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return st(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(i=>t.target&&(t.target===i||i.contains(t.target)))}};function yy(e,t,i){return Math.max(t,Math.min(i,e))}function Ca(e){return e.type[0]==="t"}function Sy(e){e.preventDefault()}function md(e,t,i){let n=_y(t,e.length-1),o=_y(i,e.length-1);if(n===o)return;let r=e[n],s=o<n?-1:1;for(let a=n;a!==o;a+=s)e[a]=e[a+s];e[o]=r}function _y(e,t){return Math.max(0,Math.min(t,e))}var gd=class{constructor(t){this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,i,n,o){let r=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,i,n,o);if(s===-1&&r.length>0)return null;let a=this.orientation==="horizontal",l=r.findIndex(m=>m.drag===t),c=r[s],d=r[l].clientRect,u=c.clientRect,h=l>s?1:-1,p=this._getItemOffsetPx(d,u,h),g=this._getSiblingOffsetPx(l,r,h),C=r.slice();return md(r,l,s),r.forEach((m,x)=>{if(C[x]===m)return;let R=m.drag===t,D=R?p:g,N=R?t.getPlaceholderElement():m.drag.getRootElement();m.offset+=D;let re=Math.round(m.offset*(1/m.drag.scale));a?(N.style.transform=hd(`translate3d(${re}px, 0, 0)`,m.initialTransform),ba(m.clientRect,0,D)):(N.style.transform=hd(`translate3d(0, ${re}px, 0)`,m.initialTransform),ba(m.clientRect,D,0))}),this._previousSwap.overlaps=Ig(u,i,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?o.x:o.y,{previousIndex:l,currentIndex:s}}enter(t,i,n,o){let r=o==null||o<0?this._getItemIndexFromPointerPosition(t,i,n):o,s=this._activeDraggables,a=s.indexOf(t),l=t.getPlaceholderElement(),c=s[r];if(c===t&&(c=s[r+1]),!c&&(r==null||r===-1||r<s.length-1)&&this._shouldEnterAsFirstChild(i,n)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),s.splice(r,0,t)}else this._element.appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let i=t.getRootElement();if(i){let n=this._itemPositions.find(o=>o.drag===t)?.initialTransform;i.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t)}updateOnScroll(t,i){this._itemPositions.forEach(({clientRect:n})=>{ba(n,t,i)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(i=>{let n=i.getVisibleElement();return{drag:i,offset:0,initialTransform:n.style.transform||"",clientRect:Pg(n)}}).sort((i,n)=>t?i.clientRect.left-n.clientRect.left:i.clientRect.top-n.clientRect.top)}_getItemOffsetPx(t,i,n){let o=this.orientation==="horizontal",r=o?i.left-t.left:i.top-t.top;return n===-1&&(r+=o?i.width-t.width:i.height-t.height),r}_getSiblingOffsetPx(t,i,n){let o=this.orientation==="horizontal",r=i[t].clientRect,s=i[t+n*-1],a=r[o?"width":"height"]*n;if(s){let l=o?"left":"top",c=o?"right":"bottom";n===-1?a-=s.clientRect[l]-r[c]:a+=r[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(t,i){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,o=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let s=n[n.length-1].clientRect;return o?t>=s.right:i>=s.bottom}else{let s=n[0].clientRect;return o?t<=s.left:i<=s.top}}_getItemIndexFromPointerPosition(t,i,n,o){let r=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(o){let c=r?o.x:o.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return r?i>=Math.floor(l.left)&&i<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,t)?-1:s}},Tg=class{constructor(t,i){this._document=t,this._dragDropRegistry=i,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(t){let i=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<i.length;n++){let o=i[n];this._relatedNodes.push([o,o.nextSibling])}this.withItems(t)}sort(t,i,n,o){let r=this._getItemIndexFromPointerPosition(t,i,n),s=this._previousSwap;if(r===-1||this._activeItems[r]===t)return null;let a=this._activeItems[r];if(s.drag===a&&s.overlaps&&s.deltaX===o.x&&s.deltaY===o.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),d=a.getRootElement();r>l?d.after(c):d.before(c),md(this._activeItems,l,r);let u=this._getRootNode().elementFromPoint(i,n);return s.deltaX=o.x,s.deltaY=o.y,s.drag=a,s.overlaps=d===u||d.contains(u),{previousIndex:l,currentIndex:r}}enter(t,i,n,o){let r=o==null||o<0?this._getItemIndexFromPointerPosition(t,i,n):o;r===-1&&(r=this._getClosestItemIndexToPointer(t,i,n));let s=this._activeItems[r],a=this._activeItems.indexOf(t);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(r,0,t),s.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,i=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){let[o,r]=this._relatedNodes[n];o.parentNode===t&&o.nextSibling!==r&&(r===null?t.appendChild(o):r.parentNode===t&&t.insertBefore(o,r))}this._relatedNodes=[],this._activeItems=[],i.drag=null,i.deltaX=i.deltaY=0,i.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,i,n){let o=this._getRootNode().elementFromPoint(Math.floor(i),Math.floor(n)),r=o?this._activeItems.findIndex(s=>{let a=s.getRootElement();return o===a||a.contains(o)}):-1;return r===-1||!this._sortPredicate(r,t)?-1:r}_getRootNode(){return this._rootNode||(this._rootNode=xr(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,i,n){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let o=1/0,r=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==t){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(i-l,n-c);d<o&&(o=d,r=s)}}return r}},xy=.05,My=.05,yi=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(yi||{}),Vt=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(Vt||{}),kg=class{constructor(t,i,n,o,r){this._dragDropRegistry=i,this._ngZone=o,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new K,this.entered=new K,this.exited=new K,this.dropped=new K,this.sorted=new K,this.receivingStarted=new K,this.receivingStopped=new K,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=et.EMPTY,this._verticalScrollDirection=yi.NONE,this._horizontalScrollDirection=Vt.NONE,this._stopScrollTimers=new K,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),Bg(0,Sd).pipe(Ie(this._stopScrollTimers)).subscribe(()=>{let a=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===yi.UP?a.scrollBy(0,-l):this._verticalScrollDirection===yi.DOWN&&a.scrollBy(0,l),this._horizontalScrollDirection===Vt.LEFT?a.scrollBy(-l,0):this._horizontalScrollDirection===Vt.RIGHT&&a.scrollBy(l,0)})};let s=this.element=st(t);this._document=n,this.withOrientation("vertical").withElementContainer(s),i.registerDropContainer(this),this._parentPositions=new ud(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,i,n,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(t)),this._sortStrategy.enter(t,i,n,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,i,n,o,r,s,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:i,previousIndex:n,container:this,previousContainer:o,isPointerOverContainer:r,distance:s,dropPoint:a,event:l})}withItems(t){let i=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(i.filter(o=>o.isDragging()).every(o=>t.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof gd&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new Tg(this._document,this._dragDropRegistry);else{let i=new gd(this._dragDropRegistry);i.direction=this._direction,i.orientation=t,this._sortStrategy=i}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((i,n)=>this.sortPredicate(i,n,this)),this}withScrollableParents(t){let i=this._container;return this._scrollableElements=t.indexOf(i)===-1?[i,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let i=st(this.element),n=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(t);return n>-1&&this._scrollableElements.splice(n,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,i,n,o){if(this.sortingDisabled||!this._domRect||!py(this._domRect,xy,i,n))return;let r=this._sortStrategy.sort(t,i,n,o);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,i){if(this.autoScrollDisabled)return;let n,o=yi.NONE,r=Vt.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||n||py(s.clientRect,xy,t,i)&&([o,r]=rV(a,s.clientRect,this._direction,t,i),(o||r)&&(n=a))}),!o&&!r){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};o=Fy(l,i),r=Ty(l,t),n=window}n&&(o!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=r,this._scrollNode=n,(o||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(i=>i._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,i){return this._domRect!=null&&Ig(this._domRect,t,i)}_getSiblingContainerFromPosition(t,i,n){return this._siblings.find(o=>o._canReceive(t,i,n))}_canReceive(t,i,n){if(!this._domRect||!Ig(this._domRect,i,n)||!this.enterPredicate(t,this))return!1;let o=this._getShadowRoot().elementFromPoint(i,n);return o?o===this._container||this._container.contains(o):!1}_startReceiving(t,i){let n=this._activeSiblings;!n.has(t)&&i.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:i}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let i=this._parentPositions.handleScroll(t);i&&this._sortStrategy.updateOnScroll(i.top,i.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=xr(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(i=>i.isDragging());this._siblings.forEach(i=>i._startReceiving(this,t))}};function Fy(e,t){let{top:i,bottom:n,height:o}=e,r=o*My;return t>=i-r&&t<=i+r?yi.UP:t>=n-r&&t<=n+r?yi.DOWN:yi.NONE}function Ty(e,t){let{left:i,right:n,width:o}=e,r=o*My;return t>=i-r&&t<=i+r?Vt.LEFT:t>=n-r&&t<=n+r?Vt.RIGHT:Vt.NONE}function rV(e,t,i,n,o){let r=Fy(t,o),s=Ty(t,n),a=yi.NONE,l=Vt.NONE;if(r){let c=e.scrollTop;r===yi.UP?c>0&&(a=yi.UP):e.scrollHeight-c>e.clientHeight&&(a=yi.DOWN)}if(s){let c=e.scrollLeft;i==="rtl"?s===Vt.RIGHT?c<0&&(l=Vt.RIGHT):e.scrollWidth+c>e.clientWidth&&(l=Vt.LEFT):s===Vt.LEFT?c>0&&(l=Vt.LEFT):e.scrollWidth-c>e.clientWidth&&(l=Vt.RIGHT)}return[a,l]}var cd=Nt({passive:!1,capture:!0}),dd=new Set,sV=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=W({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[Y],decls:0,vars:0,template:function(o,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0});let e=t;return e})(),aV=(()=>{let t=class t{constructor(n,o){this._ngZone=n,this._appRef=L(sn),this._environmentInjector=L(xi),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=pt([]),this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new K,this.pointerUp=new K,this.scroll=new K,this._preventDefaultWhileDragging=r=>{this._activeDragInstances().length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=o}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,cd)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,cd)}startDragging(n,o){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._loadResets(),this._activeDragInstances.update(r=>[...r,n]),this._activeDragInstances().length===1)){let r=o.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:cd}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:cd}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(n){this._activeDragInstances.update(o=>{let r=o.indexOf(n);return r>-1?(o.splice(r,1),[...o]):o}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){let o=[this.scroll];return n&&n!==this._document&&o.push(new Kt(r=>this._ngZone.runOutsideAngular(()=>{let a=l=>{this._activeDragInstances().length&&r.next(l)};return n.addEventListener("scroll",a,!0),()=>{n.removeEventListener("scroll",a,!0)}}))),yt(...o)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,o)=>{this._document.removeEventListener(o,n.handler,n.options)}),this._globalListeners.clear()}_loadResets(){if(!dd.has(this._appRef)){dd.add(this._appRef);let n=Dm(sV,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{dd.delete(this._appRef),dd.size===0&&n.destroy()})}}};t.\u0275fac=function(o){return new(o||t)(k(ie),k(le))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),lV={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Og=(()=>{let t=class t{constructor(n,o,r,s){this._document=n,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(n,o=lV){return new Fg(n,o,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new kg(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};t.\u0275fac=function(o){return new(o||t)(k(le),k(ie),k(tn),k(aV))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ey=new $("CDK_DRAG_PARENT");var cV=new $("CdkDragHandle");var ky=new $("CDK_DRAG_CONFIG"),dV="cdk-drag",Py=new $("CdkDropList"),Ay=(()=>{let t=class t{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}constructor(n,o,r,s,a,l,c,d,u,h,p){this.element=n,this.dropContainer=o,this._ngZone=s,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=u,this._selfHandle=h,this._parentDrag=p,this._destroyed=new K,this._handles=new Ze([]),this.scale=1,this.started=new _,this.released=new _,this.ended=new _,this.entered=new _,this.exited=new _,this.dropped=new _,this.moved=new Kt(g=>{let C=this._dragRef.moved.pipe(he(m=>({source:this,pointerPosition:m.pointerPosition,event:m.event,delta:m.delta,distance:m.distance}))).subscribe(g);return()=>{C.unsubscribe()}}),this._injector=L(ct),this._dragRef=d.createDrag(n,{dragStartThreshold:l&&l.dragStartThreshold!=null?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&l.pointerDirectionChangeThreshold!=null?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),l&&this._assignDefaults(l),o&&(this._dragRef._withDropContainer(o._dropListRef),o.addItem(this),o._dropListRef.beforeStarted.pipe(Ie(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){Qt(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){let o=n.rootElementSelector,r=n.freeDragPosition;o&&!o.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let n=t._dragInstances.indexOf(this);n>-1&&t._dragInstances.splice(n,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let o=this._handles.getValue();o.push(n),this._handles.next(o)}_removeHandle(n){let o=this._handles.getValue(),r=o.indexOf(n);r>-1&&(o.splice(r,1),this._handles.next(o))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let n=this.element.nativeElement,o=n;this.rootElementSelector&&(o=n.closest!==void 0?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(o||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):st(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let o=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay=typeof r=="object"&&r?r:Cn(r),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),o&&n.withDirection(o.value)}}),n.beforeStarted.pipe(Rt(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let o=this.element.nativeElement.parentElement;for(;o;){if(o.classList.contains(dV)){n.withParent(t._dragInstances.find(r=>r.element.nativeElement===o)?._dragRef||null);break}o=o.parentElement}})}_handleEvents(n){n.started.subscribe(o=>{this.started.emit({source:this,event:o.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(o=>{this.released.emit({source:this,event:o.event})}),n.ended.subscribe(o=>{this.ended.emit({source:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(o=>{this.entered.emit({container:o.container.data,item:this,currentIndex:o.currentIndex})}),n.exited.subscribe(o=>{this.exited.emit({container:o.container.data,item:this})}),n.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,isPointerOverContainer:o.isPointerOverContainer,item:this,distance:o.distance,dropPoint:o.dropPoint,event:o.event})})}_assignDefaults(n){let{lockAxis:o,dragStartDelay:r,constrainPosition:s,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:d,previewContainer:u}=n;this.disabled=c??!1,this.dragStartDelay=r||0,o&&(this.lockAxis=o),s&&(this.constrainPosition=s),a&&(this.previewClass=a),l&&(this.boundaryElement=l),d&&(this.rootElementSelector=d),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe($e(n=>{let o=n.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&o.push(this.element),this._dragRef.withHandles(o)}),at(n=>yt(...n.map(o=>o._stateChanges.pipe(_i(o))))),Ie(this._destroyed)).subscribe(n=>{let o=this._dragRef,r=n.element.nativeElement;n.disabled?o.disableHandle(r):o.enableHandle(r)})}};t._dragInstances=[],t.\u0275fac=function(o){return new(o||t)(v(Q),v(Py,12),v(le),v(ie),v(Ct),v(ky,8),v($t,8),v(Og),v(Te),v(cV,10),v(Ey,12))},t.\u0275dir=q({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(o,r){o&2&&me("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",O],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Ne]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[we([{provide:Ey,useExisting:t}]),ve,We]});let e=t;return e})(),Ry=new $("CdkDropListGroup");var uV=0,Oy=(()=>{let t=class t{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}constructor(n,o,r,s,a,l,c){this.element=n,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=a,this._group=l,this._destroyed=new K,this.connectedTo=[],this.id=`cdk-drop-list-${uV++}`,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new _,this.entered=new _,this.exited=new _,this.sorted=new _,this._unsortedItems=new Set,this._dropListRef=o.createDropList(n),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(d,u)=>this.enterPredicate(d.data,u.data),this._dropListRef.sortPredicate=(d,u,h)=>this.sortPredicate(d,u.data,h.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),l&&l._items.add(this)}addItem(n){this._unsortedItems.add(n),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(n){this._unsortedItems.delete(n),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((n,o)=>n._dragRef.getVisibleElement().compareDocumentPosition(o._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let n=t._dropLists.indexOf(this);n>-1&&t._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(_i(this._dir.value),Ie(this._destroyed)).subscribe(o=>n.withDirection(o)),n.beforeStarted.subscribe(()=>{let o=Kn(this.connectedTo).map(r=>{if(typeof r=="string"){let s=t._dropLists.find(a=>a.id===r);return s}return r});if(this._group&&this._group._items.forEach(r=>{o.indexOf(r)===-1&&o.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(r)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=Cn(this.autoScrollStep,2),n.connectedTo(o.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(o=>{this.entered.emit({container:this,item:o.item.data,currentIndex:o.currentIndex})}),n.exited.subscribe(o=>{this.exited.emit({container:this,item:o.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(o=>{this.sorted.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:o.item.data})}),n.dropped.subscribe(o=>{this.dropped.emit({previousIndex:o.previousIndex,currentIndex:o.currentIndex,previousContainer:o.previousContainer.data,container:o.container.data,item:o.item.data,isPointerOverContainer:o.isPointerOverContainer,distance:o.distance,dropPoint:o.dropPoint,event:o.event}),this._changeDetectorRef.markForCheck()}),yt(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){let{lockAxis:o,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:a,listOrientation:l}=n;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",o&&(this.lockAxis=o)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(n=>n._dragRef))}};t._dropLists=[],t.\u0275fac=function(o){return new(o||t)(v(Q),v(Og),v(Te),v(Io),v($t,8),v(Ry,12),v(ky,8))},t.\u0275dir=q({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(o,r){o&2&&(V("id",r.id),me("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",O],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",O],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",O],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[we([{provide:Ry,useValue:void 0},{provide:Py,useExisting:t}]),ve]});let e=t;return e})();var Ly=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({providers:[Og],imports:[Dc]});let e=t;return e})();var hV=["*"],fd;function pV(){if(fd===void 0&&(fd=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(fd=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return fd}function wa(e){return pV()?.createHTML(e)||e}function Ny(e){return Error(`Unable to find icon with the name "${e}"`)}function gV(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Vy(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function Hy(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var yn=class{constructor(t,i,n){this.url=t,this.svgText=i,this.options=n}},mV=(()=>{let t=class t{constructor(n,o,r,s){this._httpClient=n,this._sanitizer=o,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(n,o,r){return this.addSvgIconInNamespace("",n,o,r)}addSvgIconLiteral(n,o,r){return this.addSvgIconLiteralInNamespace("",n,o,r)}addSvgIconInNamespace(n,o,r,s){return this._addSvgIconConfig(n,o,new yn(r,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,o,r,s){let a=this._sanitizer.sanitize(Yt.HTML,r);if(!a)throw Hy(r);let l=wa(a);return this._addSvgIconConfig(n,o,new yn("",l,s))}addSvgIconSet(n,o){return this.addSvgIconSetInNamespace("",n,o)}addSvgIconSetLiteral(n,o){return this.addSvgIconSetLiteralInNamespace("",n,o)}addSvgIconSetInNamespace(n,o,r){return this._addSvgIconSetConfig(n,new yn(o,null,r))}addSvgIconSetLiteralInNamespace(n,o,r){let s=this._sanitizer.sanitize(Yt.HTML,o);if(!s)throw Hy(o);let a=wa(s);return this._addSvgIconSetConfig(n,new yn("",a,r))}registerFontClassAlias(n,o=n){return this._fontCssClassesByAlias.set(n,o),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let o=this._sanitizer.sanitize(Yt.RESOURCE_URL,n);if(!o)throw Vy(n);let r=this._cachedIconsByUrl.get(o);return r?ae(vd(r)):this._loadSvgIconFromConfig(new yn(n,null)).pipe($e(s=>this._cachedIconsByUrl.set(o,s)),he(s=>vd(s)))}getNamedSvgIcon(n,o=""){let r=By(o,n),s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(o,n),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(o);return a?this._getSvgFromIconSetConfigs(n,a):zi(Ny(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?ae(vd(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(he(o=>vd(o)))}_getSvgFromIconSetConfigs(n,o){let r=this._extractIconWithNameFromAnySet(n,o);if(r)return ae(r);let s=o.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Si(l=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Yt.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),ae(null)})));return xa(s).pipe(he(()=>{let a=this._extractIconWithNameFromAnySet(n,o);if(!a)throw Ny(n);return a}))}_extractIconWithNameFromAnySet(n,o){for(let r=o.length-1;r>=0;r--){let s=o[r];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,n,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe($e(o=>n.svgText=o),he(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?ae(null):this._fetchIcon(n).pipe($e(o=>n.svgText=o))}_extractSvgIconFromSet(n,o,r){let s=n.querySelector(`[id="${o}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let l=this._svgElementFromString(wa("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,r)}_svgElementFromString(n){let o=this._document.createElement("DIV");o.innerHTML=n;let r=o.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(n){let o=this._svgElementFromString(wa("<svg></svg>")),r=n.attributes;for(let s=0;s<r.length;s++){let{name:a,value:l}=r[s];a!=="id"&&o.setAttribute(a,l)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&o.appendChild(n.childNodes[s].cloneNode(!0));return o}_setSvgAttributes(n,o){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),o&&o.viewBox&&n.setAttribute("viewBox",o.viewBox),n}_fetchIcon(n){let{url:o,options:r}=n,s=r?.withCredentials??!1;if(!this._httpClient)throw gV();if(o==null)throw Error(`Cannot fetch icon from URL "${o}".`);let a=this._sanitizer.sanitize(Yt.RESOURCE_URL,o);if(!a)throw Vy(o);let l=this._inProgressUrlFetches.get(a);if(l)return l;let c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(he(d=>wa(d)),xn(()=>this._inProgressUrlFetches.delete(a)),jg());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(n,o,r){return this._svgIconConfigs.set(By(n,o),r),this}_addSvgIconSetConfig(n,o){let r=this._iconSetConfigs.get(n);return r?r.push(o):this._iconSetConfigs.set(n,[o]),this}_svgElementFromConfig(n){if(!n.svgElement){let o=this._svgElementFromString(n.svgText);this._setSvgAttributes(o,n.options),n.svgElement=o}return n.svgElement}_getIconConfigFromResolvers(n,o){for(let r=0;r<this._resolvers.length;r++){let s=this._resolvers[r](o,n);if(s)return fV(s)?new yn(s.url,null,s.options):new yn(s,null)}}};t.\u0275fac=function(o){return new(o||t)(k(io,8),k(Xd),k(le,8),k(Xn))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function vd(e){return e.cloneNode(!0)}function By(e,t){return e+":"+t}function fV(e){return!!(e.url&&e.options)}var vV=new $("MAT_ICON_DEFAULT_OPTIONS"),CV=new $("mat-icon-location",{providedIn:"root",factory:bV});function bV(){let e=L(le),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var zy=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wV=zy.map(e=>`[${e}]`).join(", "),yV=/^url\(['"]?#(.*?)['"]?\)$/,Gy=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){let o=this._cleanupFontValue(n);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){let o=this._cleanupFontValue(n);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}constructor(n,o,r,s,a,l){this._elementRef=n,this._iconRegistry=o,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=et.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),r||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let o=n.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,o=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){let r=n.childNodes[o];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>n.classList.remove(r)),o.forEach(r=>n.classList.add(r)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let o=this._elementsWithExternalReferences;o&&o.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${n}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(n){let o=n.querySelectorAll(wV),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<o.length;s++)zy.forEach(a=>{let l=o[s],c=l.getAttribute(a),d=c?c.match(yV):null;if(d){let u=r.get(l);u||(u=[],r.set(l,u)),u.push({name:a,value:d[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[o,r]=this._splitIconName(n);o&&(this._svgNamespace=o),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,o).pipe(Rt(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${o}:${r}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};t.\u0275fac=function(o){return new(o||t)(v(Q),v(mV),Ei("aria-hidden"),v(CV),v(Xn),v(vV,8))},t.\u0275cmp=W({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(o,r){o&2&&(V("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),xe(r.color?"mat-"+r.color:""),me("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",O],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[ve,Y],ngContentSelectors:hV,decls:1,vars:0,template:function(o,r){o&1&&(Ae(),fe(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let e=t;return e})(),Wy=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=J({imports:[Je,Je]});let e=t;return e})();var _V=["table"];function xV(e,t){e&1&&(w(0,"mat-header-cell"),z(1," No. "),y())}function EV(e,t){if(e&1){let i=ue();w(0,"mat-cell")(1,"mat-icon",11),G("mousedown",function(){M(i);let o=S();return F(o.dragDisabled=!1)}),z(2,"reorder"),y(),w(3,"span"),z(4),y()()}if(e&2){let i=t.$implicit;f(4),je(i.position)}}function RV(e,t){e&1&&(w(0,"mat-header-cell"),z(1," Name "),y())}function DV(e,t){if(e&1&&(w(0,"mat-cell"),z(1),y()),e&2){let i=t.$implicit;f(),Be(" ",i.name," ")}}function IV(e,t){e&1&&(w(0,"mat-header-cell"),z(1," Weight "),y())}function MV(e,t){if(e&1&&(w(0,"mat-cell"),z(1),y()),e&2){let i=t.$implicit;f(),Be(" ",i.weight," ")}}function FV(e,t){e&1&&(w(0,"mat-header-cell"),z(1," Symbol "),y())}function TV(e,t){if(e&1&&(w(0,"mat-cell"),z(1),y()),e&2){let i=t.$implicit;f(),Be(" ",i.symbol," ")}}function kV(e,t){e&1&&(w(0,"mat-header-cell"),z(1," Quantity of Element "),y())}function PV(e,t){if(e&1&&(w(0,"mat-cell")(1,"mat-form-field"),j(2,"input",12),y()()),e&2){let i=t.$implicit;f(2),b("value",i.quantity)}}function AV(e,t){e&1&&j(0,"mat-header-row")}function OV(e,t){if(e&1&&j(0,"mat-row",13),e&2){let i=t.$implicit;b("cdkDragData",i)}}var Cd=class e{displayedColumns=["position","name","weight","symbol"];table;dataSource=[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.81,symbol:"B"},{position:6,name:"Carbon",weight:12.011,symbol:"C"},{position:7,name:"Nitrogen",weight:14.007,symbol:"N"},{position:8,name:"Oxygen",weight:15.999,symbol:"O"},{position:9,name:"Fluorine",weight:18.998,symbol:"F"},{position:10,name:"Neon",weight:20.18,symbol:"Ne"}];dragDisabled=!0;drop(t){this.dragDisabled=!0;let i=this.dataSource.findIndex(n=>n===t.item.data);md(this.dataSource,i,t.currentIndex),this.table.renderRows()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=W({type:e,selectors:[["app-drag-drop"]],viewQuery:function(i,n){if(i&1&&be(_V,7),i&2){let o;ne(o=oe())&&(n.table=o.first)}},standalone:!0,features:[Y],decls:19,vars:4,consts:[["table",""],["cdkDropList","","cdkDropListData","dataSource",1,"mat-elevation-z8",3,"cdkDropListDropped","dataSource","cdkDropListDisabled"],["matColumnDef","position","sticky",""],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","weight"],["matColumnDef","symbol"],["matColumnDef","quantity"],[4,"matHeaderRowDef"],["cdkDrag","",3,"cdkDragData",4,"matRowDef","matRowDefColumns"],[1,"dragCursor",3,"mousedown"],["matInput","","type","text",3,"value"],["cdkDrag","",3,"cdkDragData"]],template:function(i,n){if(i&1){let o=ue();w(0,"mat-table",1,0),G("cdkDropListDropped",function(s){return M(o),F(n.drop(s))}),Ee(2,2),I(3,xV,2,0,"mat-header-cell",3)(4,EV,5,1,"mat-cell",4),Re(),Ee(5,5),I(6,RV,2,0,"mat-header-cell",3)(7,DV,2,1,"mat-cell",4),Re(),Ee(8,6),I(9,IV,2,0,"mat-header-cell",3)(10,MV,2,1,"mat-cell",4),Re(),Ee(11,7),I(12,FV,2,0,"mat-header-cell",3)(13,TV,2,1,"mat-cell",4),Re(),Ee(14,8),I(15,kV,2,0,"mat-header-cell",3)(16,PV,3,1,"mat-cell",4),Re(),I(17,AV,1,0,"mat-header-row",9)(18,OV,1,1,"mat-row",10),y()}i&2&&(b("dataSource",n.dataSource)("cdkDropListDisabled",n.dragDisabled),f(17),b("matHeaderRowDef",n.displayedColumns),f(),b("matRowDefColumns",n.displayedColumns))},dependencies:[Oy,Pr,kr,Wy,Gy,Ay,Ly,Jc,Wc,Uc,Yc,$c,jc,Qc,Kc,qc,Zc,Xc,Vp],styles:[".example-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:8px;text-align:left;border:1px solid #ccc}.cdk-drag-preview[_ngcontent-%COMP%]{background-color:#ddd}.cdk-drag-placeholder[_ngcontent-%COMP%]{background-color:#e1e1e1}"]})};function LV(e,t){if(e&1&&(w(0,"li"),z(1),y()),e&2){let i=t.$implicit;f(),Be(" ",i.name," ")}}var bd=class e{constructor(t){this.dataService=t;t.data.set(this.items)}items=[{name:"Item 1"},{name:"Item 2"},{name:"Item 3"}];addItem(t){this.items.push({name:t}),this.dataService.data.set(this.items)}removeItem(){let t=this.items;t.length>0&&(t.pop(),this.items=t,this.dataService.data.set(this.items))}static \u0275fac=function(i){return new(i||e)(v(ui))};static \u0275cmp=W({type:e,selectors:[["app-signal"]],standalone:!0,features:[Y],decls:9,vars:1,consts:[[3,"click"],[4,"ngFor","ngForOf"]],template:function(i,n){i&1&&(w(0,"div")(1,"h1"),z(2,"Angular Signal with Array of Objects"),y(),w(3,"button",0),G("click",function(){return n.addItem("New Item "+(n.items.length+1))}),z(4,"Add Item"),y(),w(5,"button",0),G("click",function(){return n.removeItem()}),z(6,"Remove Last Item"),y(),w(7,"ul"),I(8,LV,2,1,"li",1),y()()),i&2&&(f(8),b("ngForOf",n.items))},dependencies:[Se,Wi]})};var Lg=[{path:"temp",title:"First component",component:El,children:[{path:"temp1",title:"TempComponent",component:Rl}]},{path:"agGrid",component:ac},{path:"material",component:id},{path:"signal",component:bd},{path:"form",component:nd},{path:"formArray",component:od},{path:"payment",component:rd},{path:"primeng",component:ad},{path:"drag-drop",component:Cd}],jy=class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ee({type:e});static \u0275inj=J({imports:[so.forRoot(Lg),so]})};var NV="@",VV=(()=>{let t=class t{constructor(n,o,r,s,a){this.doc=n,this.delegate=o,this.zone=r,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=L(om,{optional:!0}),this.loadingSchedulerFn=L(HV,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let n=()=>this.moduleImpl??import("./chunk-3PQZ7ZR3.js").then(r=>r),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(n):o=n(),o.catch(r=>{throw new Ge(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let a=new s(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(n,o){let r=this.delegate.createRenderer(n,o);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let s=new Ng(r);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(n,o);s.use(l),this.scheduler?.notify(10)}).catch(a=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(o){Ao()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Ng=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,n,o){this.delegate.insertBefore(t,i,n,o)}removeChild(t,i,n){this.delegate.removeChild(t,i,n)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,o){this.delegate.setAttribute(t,i,n,o)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,o){this.delegate.setStyle(t,i,n,o)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){this.shouldReplay(i)&&this.replay.push(o=>o.setProperty(t,i,n)),this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.shouldReplay(i)&&this.replay.push(o=>o.listen(t,i,n)),this.delegate.listen(t,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(NV)}},HV=new $("");function Uy(e="animations"){return Ma("NgAsyncAnimations"),Rn([{provide:Oo,useFactory:(t,i,n)=>new VV(t,i,n,e),deps:[le,Wa,ie]},{provide:ht,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var $y={providers:[_m({eventCoalescing:!0}),sv(Lg),mf(),Uy(),of(rf())]};var BV=()=>["/temp"],zV=()=>["/signal"],GV=()=>["/agGrid"],WV=()=>["/material"],jV=()=>["/form"],UV=()=>["/formArray"],$V=()=>["/payment"],Ky=()=>["/primeng"],KV=()=>["/drag-drop"],wd=class e{title="App Component";static \u0275fac=function(i){return new(i||e)};static \u0275cmp=W({type:e,selectors:[["app-root"]],standalone:!0,features:[Y],decls:32,vars:20,consts:[[3,"routerLink"]],template:function(i,n){i&1&&(w(0,"ul")(1,"li")(2,"a",0),z(3," Temp "),y()(),w(4,"li")(5,"a",0),z(6," Signal "),y()(),w(7,"li")(8,"a",0),z(9," Ag Grid "),y()(),w(10,"li")(11,"a",0),z(12," Material "),y()(),w(13,"li")(14,"a",0),z(15," Form "),y()(),w(16,"li")(17,"a",0),z(18," Form Array "),y()(),w(19,"li")(20,"a",0),z(21," Payment "),y()(),w(22,"li")(23,"a",0),z(24," Prime ng "),y()(),w(25,"li")(26,"a",0),z(27," Prime ng "),y()(),w(28,"li")(29,"a",0),z(30," Drag drop "),y()()(),j(31,"router-outlet")),i&2&&(f(2),b("routerLink",dt(10,BV)),f(3),b("routerLink",dt(11,zV)),f(3),b("routerLink",dt(12,GV)),f(3),b("routerLink",dt(13,WV)),f(3),b("routerLink",dt(14,jV)),f(3),b("routerLink",dt(15,UV)),f(3),b("routerLink",dt(16,$V)),f(3),b("routerLink",dt(17,Ky)),f(3),b("routerLink",dt(18,Ky)),f(3),b("routerLink",dt(19,KV)))},dependencies:[Fu,_l,so,ov],styles:[`a[_ngcontent-%COMP%] {
    text-decoration: none;

  }

  li[_ngcontent-%COMP%] {
    list-style: none;
  }

  ul[_ngcontent-%COMP%] {
    display: flex;
    justify-content: center;
    justify-content: space-around;
    background-color: aliceblue;
  }`]})};pf(wd,$y).catch(e=>console.error(e));
